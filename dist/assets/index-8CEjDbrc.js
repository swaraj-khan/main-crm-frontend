(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function s(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=s(a);fetch(a.href,c)}})();function Hf(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Pl={exports:{}},Ms={},Ll={exports:{}},be={};var Nh;function Ym(){if(Nh)return be;Nh=1;var n=Symbol.for("react.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function j(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,_={};function x(O,P,Z){this.props=O,this.context=P,this.refs=_,this.updater=Z||k}x.prototype.isReactComponent={},x.prototype.setState=function(O,P){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,P,"setState")},x.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function T(){}T.prototype=x.prototype;function N(O,P,Z){this.props=O,this.context=P,this.refs=_,this.updater=Z||k}var A=N.prototype=new T;A.constructor=N,v(A,x.prototype),A.isPureReactComponent=!0;var F=Array.isArray,z=Object.prototype.hasOwnProperty,K={current:null},Q={key:!0,ref:!0,__self:!0,__source:!0};function X(O,P,Z){var se,E={},B=null,te=null;if(P!=null)for(se in P.ref!==void 0&&(te=P.ref),P.key!==void 0&&(B=""+P.key),P)z.call(P,se)&&!Q.hasOwnProperty(se)&&(E[se]=P[se]);var fe=arguments.length-2;if(fe===1)E.children=Z;else if(1<fe){for(var ve=Array(fe),J=0;J<fe;J++)ve[J]=arguments[J+2];E.children=ve}if(O&&O.defaultProps)for(se in fe=O.defaultProps,fe)E[se]===void 0&&(E[se]=fe[se]);return{$$typeof:n,type:O,key:B,ref:te,props:E,_owner:K.current}}function q(O,P){return{$$typeof:n,type:O.type,key:P,ref:O.ref,props:O.props,_owner:O._owner}}function me(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function Ae(O){var P={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(Z){return P[Z]})}var Te=/\/+/g;function Pe(O,P){return typeof O=="object"&&O!==null&&O.key!=null?Ae(""+O.key):P.toString(36)}function je(O,P,Z,se,E){var B=typeof O;(B==="undefined"||B==="boolean")&&(O=null);var te=!1;if(O===null)te=!0;else switch(B){case"string":case"number":te=!0;break;case"object":switch(O.$$typeof){case n:case t:te=!0}}if(te)return te=O,E=E(te),O=se===""?"."+Pe(te,0):se,F(E)?(Z="",O!=null&&(Z=O.replace(Te,"$&/")+"/"),je(E,P,Z,"",function(J){return J})):E!=null&&(me(E)&&(E=q(E,Z+(!E.key||te&&te.key===E.key?"":(""+E.key).replace(Te,"$&/")+"/")+O)),P.push(E)),1;if(te=0,se=se===""?".":se+":",F(O))for(var fe=0;fe<O.length;fe++){B=O[fe];var ve=se+Pe(B,fe);te+=je(B,P,Z,ve,E)}else if(ve=j(O),typeof ve=="function")for(O=ve.call(O),fe=0;!(B=O.next()).done;)B=B.value,ve=se+Pe(B,fe++),te+=je(B,P,Z,ve,E);else if(B==="object")throw P=String(O),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.");return te}function We(O,P,Z){if(O==null)return O;var se=[],E=0;return je(O,se,"","",function(B){return P.call(Z,B,E++)}),se}function _e(O){if(O._status===-1){var P=O._result;P=P(),P.then(function(Z){(O._status===0||O._status===-1)&&(O._status=1,O._result=Z)},function(Z){(O._status===0||O._status===-1)&&(O._status=2,O._result=Z)}),O._status===-1&&(O._status=0,O._result=P)}if(O._status===1)return O._result.default;throw O._result}var ke={current:null},Y={transition:null},ae={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:Y,ReactCurrentOwner:K};function R(){throw Error("act(...) is not supported in production builds of React.")}return be.Children={map:We,forEach:function(O,P,Z){We(O,function(){P.apply(this,arguments)},Z)},count:function(O){var P=0;return We(O,function(){P++}),P},toArray:function(O){return We(O,function(P){return P})||[]},only:function(O){if(!me(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},be.Component=x,be.Fragment=s,be.Profiler=a,be.PureComponent=N,be.StrictMode=o,be.Suspense=g,be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,be.act=R,be.cloneElement=function(O,P,Z){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var se=v({},O.props),E=O.key,B=O.ref,te=O._owner;if(P!=null){if(P.ref!==void 0&&(B=P.ref,te=K.current),P.key!==void 0&&(E=""+P.key),O.type&&O.type.defaultProps)var fe=O.type.defaultProps;for(ve in P)z.call(P,ve)&&!Q.hasOwnProperty(ve)&&(se[ve]=P[ve]===void 0&&fe!==void 0?fe[ve]:P[ve])}var ve=arguments.length-2;if(ve===1)se.children=Z;else if(1<ve){fe=Array(ve);for(var J=0;J<ve;J++)fe[J]=arguments[J+2];se.children=fe}return{$$typeof:n,type:O.type,key:E,ref:B,props:se,_owner:te}},be.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:c,_context:O},O.Consumer=O},be.createElement=X,be.createFactory=function(O){var P=X.bind(null,O);return P.type=O,P},be.createRef=function(){return{current:null}},be.forwardRef=function(O){return{$$typeof:f,render:O}},be.isValidElement=me,be.lazy=function(O){return{$$typeof:y,_payload:{_status:-1,_result:O},_init:_e}},be.memo=function(O,P){return{$$typeof:m,type:O,compare:P===void 0?null:P}},be.startTransition=function(O){var P=Y.transition;Y.transition={};try{O()}finally{Y.transition=P}},be.unstable_act=R,be.useCallback=function(O,P){return ke.current.useCallback(O,P)},be.useContext=function(O){return ke.current.useContext(O)},be.useDebugValue=function(){},be.useDeferredValue=function(O){return ke.current.useDeferredValue(O)},be.useEffect=function(O,P){return ke.current.useEffect(O,P)},be.useId=function(){return ke.current.useId()},be.useImperativeHandle=function(O,P,Z){return ke.current.useImperativeHandle(O,P,Z)},be.useInsertionEffect=function(O,P){return ke.current.useInsertionEffect(O,P)},be.useLayoutEffect=function(O,P){return ke.current.useLayoutEffect(O,P)},be.useMemo=function(O,P){return ke.current.useMemo(O,P)},be.useReducer=function(O,P,Z){return ke.current.useReducer(O,P,Z)},be.useRef=function(O){return ke.current.useRef(O)},be.useState=function(O){return ke.current.useState(O)},be.useSyncExternalStore=function(O,P,Z){return ke.current.useSyncExternalStore(O,P,Z)},be.useTransition=function(){return ke.current.useTransition()},be.version="18.3.1",be}var Oh;function xu(){return Oh||(Oh=1,Ll.exports=Ym()),Ll.exports}var Ah;function Qm(){if(Ah)return Ms;Ah=1;var n=xu(),t=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(f,g,m){var y,b={},j=null,k=null;m!==void 0&&(j=""+m),g.key!==void 0&&(j=""+g.key),g.ref!==void 0&&(k=g.ref);for(y in g)o.call(g,y)&&!c.hasOwnProperty(y)&&(b[y]=g[y]);if(f&&f.defaultProps)for(y in g=f.defaultProps,g)b[y]===void 0&&(b[y]=g[y]);return{$$typeof:t,type:f,key:j,ref:k,props:b,_owner:a.current}}return Ms.Fragment=s,Ms.jsx=d,Ms.jsxs=d,Ms}var Dh;function Xm(){return Dh||(Dh=1,Pl.exports=Qm()),Pl.exports}var l=Xm(),S=xu();const Jf=Hf(S);var gi={},$l={exports:{}},xt={},Ul={exports:{}},Ml={};var Ih;function Zm(){return Ih||(Ih=1,(function(n){function t(Y,ae){var R=Y.length;Y.push(ae);e:for(;0<R;){var O=R-1>>>1,P=Y[O];if(0<a(P,ae))Y[O]=ae,Y[R]=P,R=O;else break e}}function s(Y){return Y.length===0?null:Y[0]}function o(Y){if(Y.length===0)return null;var ae=Y[0],R=Y.pop();if(R!==ae){Y[0]=R;e:for(var O=0,P=Y.length,Z=P>>>1;O<Z;){var se=2*(O+1)-1,E=Y[se],B=se+1,te=Y[B];if(0>a(E,R))B<P&&0>a(te,E)?(Y[O]=te,Y[B]=R,O=B):(Y[O]=E,Y[se]=R,O=se);else if(B<P&&0>a(te,R))Y[O]=te,Y[B]=R,O=B;else break e}}return ae}function a(Y,ae){var R=Y.sortIndex-ae.sortIndex;return R!==0?R:Y.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var d=Date,f=d.now();n.unstable_now=function(){return d.now()-f}}var g=[],m=[],y=1,b=null,j=3,k=!1,v=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(Y){for(var ae=s(m);ae!==null;){if(ae.callback===null)o(m);else if(ae.startTime<=Y)o(m),ae.sortIndex=ae.expirationTime,t(g,ae);else break;ae=s(m)}}function F(Y){if(_=!1,A(Y),!v)if(s(g)!==null)v=!0,_e(z);else{var ae=s(m);ae!==null&&ke(F,ae.startTime-Y)}}function z(Y,ae){v=!1,_&&(_=!1,T(X),X=-1),k=!0;var R=j;try{for(A(ae),b=s(g);b!==null&&(!(b.expirationTime>ae)||Y&&!Ae());){var O=b.callback;if(typeof O=="function"){b.callback=null,j=b.priorityLevel;var P=O(b.expirationTime<=ae);ae=n.unstable_now(),typeof P=="function"?b.callback=P:b===s(g)&&o(g),A(ae)}else o(g);b=s(g)}if(b!==null)var Z=!0;else{var se=s(m);se!==null&&ke(F,se.startTime-ae),Z=!1}return Z}finally{b=null,j=R,k=!1}}var K=!1,Q=null,X=-1,q=5,me=-1;function Ae(){return!(n.unstable_now()-me<q)}function Te(){if(Q!==null){var Y=n.unstable_now();me=Y;var ae=!0;try{ae=Q(!0,Y)}finally{ae?Pe():(K=!1,Q=null)}}else K=!1}var Pe;if(typeof N=="function")Pe=function(){N(Te)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,We=je.port2;je.port1.onmessage=Te,Pe=function(){We.postMessage(null)}}else Pe=function(){x(Te,0)};function _e(Y){Q=Y,K||(K=!0,Pe())}function ke(Y,ae){X=x(function(){Y(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_continueExecution=function(){v||k||(v=!0,_e(z))},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return j},n.unstable_getFirstCallbackNode=function(){return s(g)},n.unstable_next=function(Y){switch(j){case 1:case 2:case 3:var ae=3;break;default:ae=j}var R=j;j=ae;try{return Y()}finally{j=R}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Y,ae){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var R=j;j=Y;try{return ae()}finally{j=R}},n.unstable_scheduleCallback=function(Y,ae,R){var O=n.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?O+R:O):R=O,Y){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=R+P,Y={id:y++,callback:ae,priorityLevel:Y,startTime:R,expirationTime:P,sortIndex:-1},R>O?(Y.sortIndex=R,t(m,Y),s(g)===null&&Y===s(m)&&(_?(T(X),X=-1):_=!0,ke(F,R-O))):(Y.sortIndex=P,t(g,Y),v||k||(v=!0,_e(z))),Y},n.unstable_shouldYield=Ae,n.unstable_wrapCallback=function(Y){var ae=j;return function(){var R=j;j=ae;try{return Y.apply(this,arguments)}finally{j=R}}}})(Ml)),Ml}var Ph;function ey(){return Ph||(Ph=1,Ul.exports=Zm()),Ul.exports}var Lh;function ty(){if(Lh)return xt;Lh=1;var n=xu(),t=ey();function s(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)r+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function c(e,r){d(e,r),d(e+"Capture",r)}function d(e,r){for(a[e]=r,e=0;e<r.length;e++)o.add(r[e])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},b={};function j(e){return g.call(b,e)?!0:g.call(y,e)?!1:m.test(e)?b[e]=!0:(y[e]=!0,!1)}function k(e,r,i,u){if(i!==null&&i.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function v(e,r,i,u){if(r===null||typeof r>"u"||k(e,r,i,u))return!0;if(u)return!1;if(i!==null)switch(i.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function _(e,r,i,u,h,p,w){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=i,this.propertyName=e,this.type=r,this.sanitizeURL=p,this.removeEmptyString=w}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){x[e]=new _(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];x[r]=new _(r,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){x[e]=new _(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){x[e]=new _(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){x[e]=new _(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){x[e]=new _(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){x[e]=new _(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){x[e]=new _(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){x[e]=new _(e,5,!1,e.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function N(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(T,N);x[r]=new _(r,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(T,N);x[r]=new _(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(T,N);x[r]=new _(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){x[e]=new _(e,1,!1,e.toLowerCase(),null,!1,!1)}),x.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){x[e]=new _(e,1,!1,e.toLowerCase(),null,!0,!0)});function A(e,r,i,u){var h=x.hasOwnProperty(r)?x[r]:null;(h!==null?h.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(v(r,i,h,u)&&(i=null),u||h===null?j(r)&&(i===null?e.removeAttribute(r):e.setAttribute(r,""+i)):h.mustUseProperty?e[h.propertyName]=i===null?h.type===3?!1:"":i:(r=h.attributeName,u=h.attributeNamespace,i===null?e.removeAttribute(r):(h=h.type,i=h===3||h===4&&i===!0?"":""+i,u?e.setAttributeNS(u,r,i):e.setAttribute(r,i))))}var F=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),K=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),me=Symbol.for("react.provider"),Ae=Symbol.for("react.context"),Te=Symbol.for("react.forward_ref"),Pe=Symbol.for("react.suspense"),je=Symbol.for("react.suspense_list"),We=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),ke=Symbol.for("react.offscreen"),Y=Symbol.iterator;function ae(e){return e===null||typeof e!="object"?null:(e=Y&&e[Y]||e["@@iterator"],typeof e=="function"?e:null)}var R=Object.assign,O;function P(e){if(O===void 0)try{throw Error()}catch(i){var r=i.stack.trim().match(/\n( *(at )?)/);O=r&&r[1]||""}return`
`+O+e}var Z=!1;function se(e,r){if(!e||Z)return"";Z=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(U){var u=U}Reflect.construct(e,[],r)}else{try{r.call()}catch(U){u=U}e.call(r.prototype)}else{try{throw Error()}catch(U){u=U}e()}}catch(U){if(U&&u&&typeof U.stack=="string"){for(var h=U.stack.split(`
`),p=u.stack.split(`
`),w=h.length-1,C=p.length-1;1<=w&&0<=C&&h[w]!==p[C];)C--;for(;1<=w&&0<=C;w--,C--)if(h[w]!==p[C]){if(w!==1||C!==1)do if(w--,C--,0>C||h[w]!==p[C]){var D=`
`+h[w].replace(" at new "," at ");return e.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",e.displayName)),D}while(1<=w&&0<=C);break}}}finally{Z=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?P(e):""}function E(e){switch(e.tag){case 5:return P(e.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 2:case 15:return e=se(e.type,!1),e;case 11:return e=se(e.type.render,!1),e;case 1:return e=se(e.type,!0),e;default:return""}}function B(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Q:return"Fragment";case K:return"Portal";case q:return"Profiler";case X:return"StrictMode";case Pe:return"Suspense";case je:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ae:return(e.displayName||"Context")+".Consumer";case me:return(e._context.displayName||"Context")+".Provider";case Te:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case We:return r=e.displayName||null,r!==null?r:B(e.type)||"Memo";case _e:r=e._payload,e=e._init;try{return B(e(r))}catch{}}return null}function te(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(r);case 8:return r===X?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function fe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ve(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function J(e){var r=ve(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),u=""+e[r];if(!e.hasOwnProperty(r)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var h=i.get,p=i.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return h.call(this)},set:function(w){u=""+w,p.call(this,w)}}),Object.defineProperty(e,r,{enumerable:i.enumerable}),{getValue:function(){return u},setValue:function(w){u=""+w},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function ue(e){e._valueTracker||(e._valueTracker=J(e))}function Ne(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var i=r.getValue(),u="";return e&&(u=ve(e)?e.checked?"true":"false":e.value),e=u,e!==i?(r.setValue(e),!0):!1}function Ze(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ce(e,r){var i=r.checked;return R({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Dt(e,r){var i=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;i=fe(r.value!=null?r.value:i),e._wrapperState={initialChecked:u,initialValue:i,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Se(e,r){r=r.checked,r!=null&&A(e,"checked",r,!1)}function zn(e,r){Se(e,r);var i=fe(r.value),u=r.type;if(i!=null)u==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(u==="submit"||u==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?et(e,r.type,i):r.hasOwnProperty("defaultValue")&&et(e,r.type,fe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function oo(e,r,i){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,i||r===e.value||(e.value=r),e.defaultValue=r}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function et(e,r,i){(r!=="number"||Ze(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var xn=Array.isArray;function dr(e,r,i,u){if(e=e.options,r){r={};for(var h=0;h<i.length;h++)r["$"+i[h]]=!0;for(i=0;i<e.length;i++)h=r.hasOwnProperty("$"+e[i].value),e[i].selected!==h&&(e[i].selected=h),h&&u&&(e[i].defaultSelected=!0)}else{for(i=""+fe(i),r=null,h=0;h<e.length;h++){if(e[h].value===i){e[h].selected=!0,u&&(e[h].defaultSelected=!0);return}r!==null||e[h].disabled||(r=e[h])}r!==null&&(r.selected=!0)}}function Hi(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(s(91));return R({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Fu(e,r){var i=r.value;if(i==null){if(i=r.children,r=r.defaultValue,i!=null){if(r!=null)throw Error(s(92));if(xn(i)){if(1<i.length)throw Error(s(93));i=i[0]}r=i}r==null&&(r=""),i=r}e._wrapperState={initialValue:fe(i)}}function Bu(e,r){var i=fe(r.value),u=fe(r.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),r.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),u!=null&&(e.defaultValue=""+u)}function zu(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function Wu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ji(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?Wu(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var io,Vu=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,i,u,h){MSApp.execUnsafeLocalFunction(function(){return e(r,i,u,h)})}:e})(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(io=io||document.createElement("div"),io.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=io.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function ts(e,r){if(r){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=r;return}}e.textContent=r}var ns={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eg=["Webkit","ms","Moz","O"];Object.keys(ns).forEach(function(e){eg.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),ns[r]=ns[e]})});function Hu(e,r,i){return r==null||typeof r=="boolean"||r===""?"":i||typeof r!="number"||r===0||ns.hasOwnProperty(e)&&ns[e]?(""+r).trim():r+"px"}function Ju(e,r){e=e.style;for(var i in r)if(r.hasOwnProperty(i)){var u=i.indexOf("--")===0,h=Hu(i,r[i],u);i==="float"&&(i="cssFloat"),u?e.setProperty(i,h):e[i]=h}}var tg=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qi(e,r){if(r){if(tg[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(s(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(s(61))}if(r.style!=null&&typeof r.style!="object")throw Error(s(62))}}function Ki(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gi=null;function Yi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qi=null,hr=null,fr=null;function qu(e){if(e=Es(e)){if(typeof Qi!="function")throw Error(s(280));var r=e.stateNode;r&&(r=No(r),Qi(e.stateNode,e.type,r))}}function Ku(e){hr?fr?fr.push(e):fr=[e]:hr=e}function Gu(){if(hr){var e=hr,r=fr;if(fr=hr=null,qu(e),r)for(e=0;e<r.length;e++)qu(r[e])}}function Yu(e,r){return e(r)}function Qu(){}var Xi=!1;function Xu(e,r,i){if(Xi)return e(r,i);Xi=!0;try{return Yu(e,r,i)}finally{Xi=!1,(hr!==null||fr!==null)&&(Qu(),Gu())}}function rs(e,r){var i=e.stateNode;if(i===null)return null;var u=No(i);if(u===null)return null;i=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,r,typeof i));return i}var Zi=!1;if(f)try{var ss={};Object.defineProperty(ss,"passive",{get:function(){Zi=!0}}),window.addEventListener("test",ss,ss),window.removeEventListener("test",ss,ss)}catch{Zi=!1}function ng(e,r,i,u,h,p,w,C,D){var U=Array.prototype.slice.call(arguments,3);try{r.apply(i,U)}catch(V){this.onError(V)}}var os=!1,ao=null,lo=!1,ea=null,rg={onError:function(e){os=!0,ao=e}};function sg(e,r,i,u,h,p,w,C,D){os=!1,ao=null,ng.apply(rg,arguments)}function og(e,r,i,u,h,p,w,C,D){if(sg.apply(this,arguments),os){if(os){var U=ao;os=!1,ao=null}else throw Error(s(198));lo||(lo=!0,ea=U)}}function Wn(e){var r=e,i=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(i=r.return),e=r.return;while(e)}return r.tag===3?i:null}function Zu(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function ec(e){if(Wn(e)!==e)throw Error(s(188))}function ig(e){var r=e.alternate;if(!r){if(r=Wn(e),r===null)throw Error(s(188));return r!==e?null:e}for(var i=e,u=r;;){var h=i.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){i=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===i)return ec(h),e;if(p===u)return ec(h),r;p=p.sibling}throw Error(s(188))}if(i.return!==u.return)i=h,u=p;else{for(var w=!1,C=h.child;C;){if(C===i){w=!0,i=h,u=p;break}if(C===u){w=!0,u=h,i=p;break}C=C.sibling}if(!w){for(C=p.child;C;){if(C===i){w=!0,i=p,u=h;break}if(C===u){w=!0,u=p,i=h;break}C=C.sibling}if(!w)throw Error(s(189))}}if(i.alternate!==u)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:r}function tc(e){return e=ig(e),e!==null?nc(e):null}function nc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=nc(e);if(r!==null)return r;e=e.sibling}return null}var rc=t.unstable_scheduleCallback,sc=t.unstable_cancelCallback,ag=t.unstable_shouldYield,lg=t.unstable_requestPaint,Je=t.unstable_now,ug=t.unstable_getCurrentPriorityLevel,ta=t.unstable_ImmediatePriority,oc=t.unstable_UserBlockingPriority,uo=t.unstable_NormalPriority,cg=t.unstable_LowPriority,ic=t.unstable_IdlePriority,co=null,Zt=null;function dg(e){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(co,e,void 0,(e.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:pg,hg=Math.log,fg=Math.LN2;function pg(e){return e>>>=0,e===0?32:31-(hg(e)/fg|0)|0}var ho=64,fo=4194304;function is(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function po(e,r){var i=e.pendingLanes;if(i===0)return 0;var u=0,h=e.suspendedLanes,p=e.pingedLanes,w=i&268435455;if(w!==0){var C=w&~h;C!==0?u=is(C):(p&=w,p!==0&&(u=is(p)))}else w=i&~h,w!==0?u=is(w):p!==0&&(u=is(p));if(u===0)return 0;if(r!==0&&r!==u&&(r&h)===0&&(h=u&-u,p=r&-r,h>=p||h===16&&(p&4194240)!==0))return r;if((u&4)!==0&&(u|=i&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=u;0<r;)i=31-Bt(r),h=1<<i,u|=e[i],r&=~h;return u}function gg(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mg(e,r){for(var i=e.suspendedLanes,u=e.pingedLanes,h=e.expirationTimes,p=e.pendingLanes;0<p;){var w=31-Bt(p),C=1<<w,D=h[w];D===-1?((C&i)===0||(C&u)!==0)&&(h[w]=gg(C,r)):D<=r&&(e.expiredLanes|=C),p&=~C}}function na(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ac(){var e=ho;return ho<<=1,(ho&4194240)===0&&(ho=64),e}function ra(e){for(var r=[],i=0;31>i;i++)r.push(e);return r}function as(e,r,i){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-Bt(r),e[r]=i}function yg(e,r){var i=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var u=e.eventTimes;for(e=e.expirationTimes;0<i;){var h=31-Bt(i),p=1<<h;r[h]=0,u[h]=-1,e[h]=-1,i&=~p}}function sa(e,r){var i=e.entangledLanes|=r;for(e=e.entanglements;i;){var u=31-Bt(i),h=1<<u;h&r|e[u]&r&&(e[u]|=r),i&=~h}}var Oe=0;function lc(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var uc,oa,cc,dc,hc,ia=!1,go=[],bn=null,_n=null,Sn=null,ls=new Map,us=new Map,En=[],vg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fc(e,r){switch(e){case"focusin":case"focusout":bn=null;break;case"dragenter":case"dragleave":_n=null;break;case"mouseover":case"mouseout":Sn=null;break;case"pointerover":case"pointerout":ls.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":us.delete(r.pointerId)}}function cs(e,r,i,u,h,p){return e===null||e.nativeEvent!==p?(e={blockedOn:r,domEventName:i,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},r!==null&&(r=Es(r),r!==null&&oa(r)),e):(e.eventSystemFlags|=u,r=e.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),e)}function wg(e,r,i,u,h){switch(r){case"focusin":return bn=cs(bn,e,r,i,u,h),!0;case"dragenter":return _n=cs(_n,e,r,i,u,h),!0;case"mouseover":return Sn=cs(Sn,e,r,i,u,h),!0;case"pointerover":var p=h.pointerId;return ls.set(p,cs(ls.get(p)||null,e,r,i,u,h)),!0;case"gotpointercapture":return p=h.pointerId,us.set(p,cs(us.get(p)||null,e,r,i,u,h)),!0}return!1}function pc(e){var r=Vn(e.target);if(r!==null){var i=Wn(r);if(i!==null){if(r=i.tag,r===13){if(r=Zu(i),r!==null){e.blockedOn=r,hc(e.priority,function(){cc(i)});return}}else if(r===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mo(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var i=la(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var u=new i.constructor(i.type,i);Gi=u,i.target.dispatchEvent(u),Gi=null}else return r=Es(i),r!==null&&oa(r),e.blockedOn=i,!1;r.shift()}return!0}function gc(e,r,i){mo(e)&&i.delete(r)}function xg(){ia=!1,bn!==null&&mo(bn)&&(bn=null),_n!==null&&mo(_n)&&(_n=null),Sn!==null&&mo(Sn)&&(Sn=null),ls.forEach(gc),us.forEach(gc)}function ds(e,r){e.blockedOn===r&&(e.blockedOn=null,ia||(ia=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,xg)))}function hs(e){function r(h){return ds(h,e)}if(0<go.length){ds(go[0],e);for(var i=1;i<go.length;i++){var u=go[i];u.blockedOn===e&&(u.blockedOn=null)}}for(bn!==null&&ds(bn,e),_n!==null&&ds(_n,e),Sn!==null&&ds(Sn,e),ls.forEach(r),us.forEach(r),i=0;i<En.length;i++)u=En[i],u.blockedOn===e&&(u.blockedOn=null);for(;0<En.length&&(i=En[0],i.blockedOn===null);)pc(i),i.blockedOn===null&&En.shift()}var pr=F.ReactCurrentBatchConfig,yo=!0;function bg(e,r,i,u){var h=Oe,p=pr.transition;pr.transition=null;try{Oe=1,aa(e,r,i,u)}finally{Oe=h,pr.transition=p}}function _g(e,r,i,u){var h=Oe,p=pr.transition;pr.transition=null;try{Oe=4,aa(e,r,i,u)}finally{Oe=h,pr.transition=p}}function aa(e,r,i,u){if(yo){var h=la(e,r,i,u);if(h===null)ja(e,r,u,vo,i),fc(e,u);else if(wg(h,e,r,i,u))u.stopPropagation();else if(fc(e,u),r&4&&-1<vg.indexOf(e)){for(;h!==null;){var p=Es(h);if(p!==null&&uc(p),p=la(e,r,i,u),p===null&&ja(e,r,u,vo,i),p===h)break;h=p}h!==null&&u.stopPropagation()}else ja(e,r,u,null,i)}}var vo=null;function la(e,r,i,u){if(vo=null,e=Yi(u),e=Vn(e),e!==null)if(r=Wn(e),r===null)e=null;else if(i=r.tag,i===13){if(e=Zu(r),e!==null)return e;e=null}else if(i===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return vo=e,null}function mc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ug()){case ta:return 1;case oc:return 4;case uo:case cg:return 16;case ic:return 536870912;default:return 16}default:return 16}}var jn=null,ua=null,wo=null;function yc(){if(wo)return wo;var e,r=ua,i=r.length,u,h="value"in jn?jn.value:jn.textContent,p=h.length;for(e=0;e<i&&r[e]===h[e];e++);var w=i-e;for(u=1;u<=w&&r[i-u]===h[p-u];u++);return wo=h.slice(e,1<u?1-u:void 0)}function xo(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function bo(){return!0}function vc(){return!1}function jt(e){function r(i,u,h,p,w){this._reactName=i,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=w,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(i=e[C],this[C]=i?i(p):p[C]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?bo:vc,this.isPropagationStopped=vc,this}return R(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=bo)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=bo)},persist:function(){},isPersistent:bo}),r}var gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ca=jt(gr),fs=R({},gr,{view:0,detail:0}),Sg=jt(fs),da,ha,ps,_o=R({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ps&&(ps&&e.type==="mousemove"?(da=e.screenX-ps.screenX,ha=e.screenY-ps.screenY):ha=da=0,ps=e),da)},movementY:function(e){return"movementY"in e?e.movementY:ha}}),wc=jt(_o),Eg=R({},_o,{dataTransfer:0}),jg=jt(Eg),Cg=R({},fs,{relatedTarget:0}),fa=jt(Cg),kg=R({},gr,{animationName:0,elapsedTime:0,pseudoElement:0}),Rg=jt(kg),Tg=R({},gr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ng=jt(Tg),Og=R({},gr,{data:0}),xc=jt(Og),Ag={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ig={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pg(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=Ig[e])?!!r[e]:!1}function pa(){return Pg}var Lg=R({},fs,{key:function(e){if(e.key){var r=Ag[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=xo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Dg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pa,charCode:function(e){return e.type==="keypress"?xo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$g=jt(Lg),Ug=R({},_o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bc=jt(Ug),Mg=R({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pa}),Fg=jt(Mg),Bg=R({},gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),zg=jt(Bg),Wg=R({},_o,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Vg=jt(Wg),Hg=[9,13,27,32],ga=f&&"CompositionEvent"in window,gs=null;f&&"documentMode"in document&&(gs=document.documentMode);var Jg=f&&"TextEvent"in window&&!gs,_c=f&&(!ga||gs&&8<gs&&11>=gs),Sc=" ",Ec=!1;function jc(e,r){switch(e){case"keyup":return Hg.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mr=!1;function qg(e,r){switch(e){case"compositionend":return Cc(r);case"keypress":return r.which!==32?null:(Ec=!0,Sc);case"textInput":return e=r.data,e===Sc&&Ec?null:e;default:return null}}function Kg(e,r){if(mr)return e==="compositionend"||!ga&&jc(e,r)?(e=yc(),wo=ua=jn=null,mr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _c&&r.locale!=="ko"?null:r.data;default:return null}}var Gg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kc(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!Gg[e.type]:r==="textarea"}function Rc(e,r,i,u){Ku(u),r=ko(r,"onChange"),0<r.length&&(i=new ca("onChange","change",null,i,u),e.push({event:i,listeners:r}))}var ms=null,ys=null;function Yg(e){Jc(e,0)}function So(e){var r=br(e);if(Ne(r))return e}function Qg(e,r){if(e==="change")return r}var Tc=!1;if(f){var ma;if(f){var ya="oninput"in document;if(!ya){var Nc=document.createElement("div");Nc.setAttribute("oninput","return;"),ya=typeof Nc.oninput=="function"}ma=ya}else ma=!1;Tc=ma&&(!document.documentMode||9<document.documentMode)}function Oc(){ms&&(ms.detachEvent("onpropertychange",Ac),ys=ms=null)}function Ac(e){if(e.propertyName==="value"&&So(ys)){var r=[];Rc(r,ys,e,Yi(e)),Xu(Yg,r)}}function Xg(e,r,i){e==="focusin"?(Oc(),ms=r,ys=i,ms.attachEvent("onpropertychange",Ac)):e==="focusout"&&Oc()}function Zg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return So(ys)}function em(e,r){if(e==="click")return So(r)}function tm(e,r){if(e==="input"||e==="change")return So(r)}function nm(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var zt=typeof Object.is=="function"?Object.is:nm;function vs(e,r){if(zt(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var i=Object.keys(e),u=Object.keys(r);if(i.length!==u.length)return!1;for(u=0;u<i.length;u++){var h=i[u];if(!g.call(r,h)||!zt(e[h],r[h]))return!1}return!0}function Dc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ic(e,r){var i=Dc(e);e=0;for(var u;i;){if(i.nodeType===3){if(u=e+i.textContent.length,e<=r&&u>=r)return{node:i,offset:r-e};e=u}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Dc(i)}}function Pc(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Pc(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Lc(){for(var e=window,r=Ze();r instanceof e.HTMLIFrameElement;){try{var i=typeof r.contentWindow.location.href=="string"}catch{i=!1}if(i)e=r.contentWindow;else break;r=Ze(e.document)}return r}function va(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function rm(e){var r=Lc(),i=e.focusedElem,u=e.selectionRange;if(r!==i&&i&&i.ownerDocument&&Pc(i.ownerDocument.documentElement,i)){if(u!==null&&va(i)){if(r=u.start,e=u.end,e===void 0&&(e=r),"selectionStart"in i)i.selectionStart=r,i.selectionEnd=Math.min(e,i.value.length);else if(e=(r=i.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var h=i.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!e.extend&&p>u&&(h=u,u=p,p=h),h=Ic(i,p);var w=Ic(i,u);h&&w&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==w.node||e.focusOffset!==w.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),e.removeAllRanges(),p>u?(e.addRange(r),e.extend(w.node,w.offset)):(r.setEnd(w.node,w.offset),e.addRange(r)))}}for(r=[],e=i;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<r.length;i++)e=r[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sm=f&&"documentMode"in document&&11>=document.documentMode,yr=null,wa=null,ws=null,xa=!1;function $c(e,r,i){var u=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;xa||yr==null||yr!==Ze(u)||(u=yr,"selectionStart"in u&&va(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ws&&vs(ws,u)||(ws=u,u=ko(wa,"onSelect"),0<u.length&&(r=new ca("onSelect","select",null,r,i),e.push({event:r,listeners:u}),r.target=yr)))}function Eo(e,r){var i={};return i[e.toLowerCase()]=r.toLowerCase(),i["Webkit"+e]="webkit"+r,i["Moz"+e]="moz"+r,i}var vr={animationend:Eo("Animation","AnimationEnd"),animationiteration:Eo("Animation","AnimationIteration"),animationstart:Eo("Animation","AnimationStart"),transitionend:Eo("Transition","TransitionEnd")},ba={},Uc={};f&&(Uc=document.createElement("div").style,"AnimationEvent"in window||(delete vr.animationend.animation,delete vr.animationiteration.animation,delete vr.animationstart.animation),"TransitionEvent"in window||delete vr.transitionend.transition);function jo(e){if(ba[e])return ba[e];if(!vr[e])return e;var r=vr[e],i;for(i in r)if(r.hasOwnProperty(i)&&i in Uc)return ba[e]=r[i];return e}var Mc=jo("animationend"),Fc=jo("animationiteration"),Bc=jo("animationstart"),zc=jo("transitionend"),Wc=new Map,Vc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cn(e,r){Wc.set(e,r),c(r,[e])}for(var _a=0;_a<Vc.length;_a++){var Sa=Vc[_a],om=Sa.toLowerCase(),im=Sa[0].toUpperCase()+Sa.slice(1);Cn(om,"on"+im)}Cn(Mc,"onAnimationEnd"),Cn(Fc,"onAnimationIteration"),Cn(Bc,"onAnimationStart"),Cn("dblclick","onDoubleClick"),Cn("focusin","onFocus"),Cn("focusout","onBlur"),Cn(zc,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),am=new Set("cancel close invalid load scroll toggle".split(" ").concat(xs));function Hc(e,r,i){var u=e.type||"unknown-event";e.currentTarget=i,og(u,r,void 0,e),e.currentTarget=null}function Jc(e,r){r=(r&4)!==0;for(var i=0;i<e.length;i++){var u=e[i],h=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var w=u.length-1;0<=w;w--){var C=u[w],D=C.instance,U=C.currentTarget;if(C=C.listener,D!==p&&h.isPropagationStopped())break e;Hc(h,C,U),p=D}else for(w=0;w<u.length;w++){if(C=u[w],D=C.instance,U=C.currentTarget,C=C.listener,D!==p&&h.isPropagationStopped())break e;Hc(h,C,U),p=D}}}if(lo)throw e=ea,lo=!1,ea=null,e}function Le(e,r){var i=r[Oa];i===void 0&&(i=r[Oa]=new Set);var u=e+"__bubble";i.has(u)||(qc(r,e,2,!1),i.add(u))}function Ea(e,r,i){var u=0;r&&(u|=4),qc(i,e,u,r)}var Co="_reactListening"+Math.random().toString(36).slice(2);function bs(e){if(!e[Co]){e[Co]=!0,o.forEach(function(i){i!=="selectionchange"&&(am.has(i)||Ea(i,!1,e),Ea(i,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Co]||(r[Co]=!0,Ea("selectionchange",!1,r))}}function qc(e,r,i,u){switch(mc(r)){case 1:var h=bg;break;case 4:h=_g;break;default:h=aa}i=h.bind(null,r,i,e),h=void 0,!Zi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?e.addEventListener(r,i,{capture:!0,passive:h}):e.addEventListener(r,i,!0):h!==void 0?e.addEventListener(r,i,{passive:h}):e.addEventListener(r,i,!1)}function ja(e,r,i,u,h){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var C=u.stateNode.containerInfo;if(C===h||C.nodeType===8&&C.parentNode===h)break;if(w===4)for(w=u.return;w!==null;){var D=w.tag;if((D===3||D===4)&&(D=w.stateNode.containerInfo,D===h||D.nodeType===8&&D.parentNode===h))return;w=w.return}for(;C!==null;){if(w=Vn(C),w===null)return;if(D=w.tag,D===5||D===6){u=p=w;continue e}C=C.parentNode}}u=u.return}Xu(function(){var U=p,V=Yi(i),H=[];e:{var W=Wc.get(e);if(W!==void 0){var ee=ca,re=e;switch(e){case"keypress":if(xo(i)===0)break e;case"keydown":case"keyup":ee=$g;break;case"focusin":re="focus",ee=fa;break;case"focusout":re="blur",ee=fa;break;case"beforeblur":case"afterblur":ee=fa;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=wc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=jg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=Fg;break;case Mc:case Fc:case Bc:ee=Rg;break;case zc:ee=zg;break;case"scroll":ee=Sg;break;case"wheel":ee=Vg;break;case"copy":case"cut":case"paste":ee=Ng;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=bc}var oe=(r&4)!==0,qe=!oe&&e==="scroll",L=oe?W!==null?W+"Capture":null:W;oe=[];for(var I=U,$;I!==null;){$=I;var G=$.stateNode;if($.tag===5&&G!==null&&($=G,L!==null&&(G=rs(I,L),G!=null&&oe.push(_s(I,G,$)))),qe)break;I=I.return}0<oe.length&&(W=new ee(W,re,null,i,V),H.push({event:W,listeners:oe}))}}if((r&7)===0){e:{if(W=e==="mouseover"||e==="pointerover",ee=e==="mouseout"||e==="pointerout",W&&i!==Gi&&(re=i.relatedTarget||i.fromElement)&&(Vn(re)||re[an]))break e;if((ee||W)&&(W=V.window===V?V:(W=V.ownerDocument)?W.defaultView||W.parentWindow:window,ee?(re=i.relatedTarget||i.toElement,ee=U,re=re?Vn(re):null,re!==null&&(qe=Wn(re),re!==qe||re.tag!==5&&re.tag!==6)&&(re=null)):(ee=null,re=U),ee!==re)){if(oe=wc,G="onMouseLeave",L="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(oe=bc,G="onPointerLeave",L="onPointerEnter",I="pointer"),qe=ee==null?W:br(ee),$=re==null?W:br(re),W=new oe(G,I+"leave",ee,i,V),W.target=qe,W.relatedTarget=$,G=null,Vn(V)===U&&(oe=new oe(L,I+"enter",re,i,V),oe.target=$,oe.relatedTarget=qe,G=oe),qe=G,ee&&re)t:{for(oe=ee,L=re,I=0,$=oe;$;$=wr($))I++;for($=0,G=L;G;G=wr(G))$++;for(;0<I-$;)oe=wr(oe),I--;for(;0<$-I;)L=wr(L),$--;for(;I--;){if(oe===L||L!==null&&oe===L.alternate)break t;oe=wr(oe),L=wr(L)}oe=null}else oe=null;ee!==null&&Kc(H,W,ee,oe,!1),re!==null&&qe!==null&&Kc(H,qe,re,oe,!0)}}e:{if(W=U?br(U):window,ee=W.nodeName&&W.nodeName.toLowerCase(),ee==="select"||ee==="input"&&W.type==="file")var ie=Qg;else if(kc(W))if(Tc)ie=tm;else{ie=Zg;var de=Xg}else(ee=W.nodeName)&&ee.toLowerCase()==="input"&&(W.type==="checkbox"||W.type==="radio")&&(ie=em);if(ie&&(ie=ie(e,U))){Rc(H,ie,i,V);break e}de&&de(e,W,U),e==="focusout"&&(de=W._wrapperState)&&de.controlled&&W.type==="number"&&et(W,"number",W.value)}switch(de=U?br(U):window,e){case"focusin":(kc(de)||de.contentEditable==="true")&&(yr=de,wa=U,ws=null);break;case"focusout":ws=wa=yr=null;break;case"mousedown":xa=!0;break;case"contextmenu":case"mouseup":case"dragend":xa=!1,$c(H,i,V);break;case"selectionchange":if(sm)break;case"keydown":case"keyup":$c(H,i,V)}var he;if(ga)e:{switch(e){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else mr?jc(e,i)&&(ye="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ye="onCompositionStart");ye&&(_c&&i.locale!=="ko"&&(mr||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&mr&&(he=yc()):(jn=V,ua="value"in jn?jn.value:jn.textContent,mr=!0)),de=ko(U,ye),0<de.length&&(ye=new xc(ye,e,null,i,V),H.push({event:ye,listeners:de}),he?ye.data=he:(he=Cc(i),he!==null&&(ye.data=he)))),(he=Jg?qg(e,i):Kg(e,i))&&(U=ko(U,"onBeforeInput"),0<U.length&&(V=new xc("onBeforeInput","beforeinput",null,i,V),H.push({event:V,listeners:U}),V.data=he))}Jc(H,r)})}function _s(e,r,i){return{instance:e,listener:r,currentTarget:i}}function ko(e,r){for(var i=r+"Capture",u=[];e!==null;){var h=e,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=rs(e,i),p!=null&&u.unshift(_s(e,p,h)),p=rs(e,r),p!=null&&u.push(_s(e,p,h))),e=e.return}return u}function wr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Kc(e,r,i,u,h){for(var p=r._reactName,w=[];i!==null&&i!==u;){var C=i,D=C.alternate,U=C.stateNode;if(D!==null&&D===u)break;C.tag===5&&U!==null&&(C=U,h?(D=rs(i,p),D!=null&&w.unshift(_s(i,D,C))):h||(D=rs(i,p),D!=null&&w.push(_s(i,D,C)))),i=i.return}w.length!==0&&e.push({event:r,listeners:w})}var lm=/\r\n?/g,um=/\u0000|\uFFFD/g;function Gc(e){return(typeof e=="string"?e:""+e).replace(lm,`
`).replace(um,"")}function Ro(e,r,i){if(r=Gc(r),Gc(e)!==r&&i)throw Error(s(425))}function To(){}var Ca=null,ka=null;function Ra(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ta=typeof setTimeout=="function"?setTimeout:void 0,cm=typeof clearTimeout=="function"?clearTimeout:void 0,Yc=typeof Promise=="function"?Promise:void 0,dm=typeof queueMicrotask=="function"?queueMicrotask:typeof Yc<"u"?function(e){return Yc.resolve(null).then(e).catch(hm)}:Ta;function hm(e){setTimeout(function(){throw e})}function Na(e,r){var i=r,u=0;do{var h=i.nextSibling;if(e.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(u===0){e.removeChild(h),hs(r);return}u--}else i!=="$"&&i!=="$?"&&i!=="$!"||u++;i=h}while(i);hs(r)}function kn(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function Qc(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(r===0)return e;r--}else i==="/$"&&r++}e=e.previousSibling}return null}var xr=Math.random().toString(36).slice(2),en="__reactFiber$"+xr,Ss="__reactProps$"+xr,an="__reactContainer$"+xr,Oa="__reactEvents$"+xr,fm="__reactListeners$"+xr,pm="__reactHandles$"+xr;function Vn(e){var r=e[en];if(r)return r;for(var i=e.parentNode;i;){if(r=i[an]||i[en]){if(i=r.alternate,r.child!==null||i!==null&&i.child!==null)for(e=Qc(e);e!==null;){if(i=e[en])return i;e=Qc(e)}return r}e=i,i=e.parentNode}return null}function Es(e){return e=e[en]||e[an],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function br(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function No(e){return e[Ss]||null}var Aa=[],_r=-1;function Rn(e){return{current:e}}function $e(e){0>_r||(e.current=Aa[_r],Aa[_r]=null,_r--)}function De(e,r){_r++,Aa[_r]=e.current,e.current=r}var Tn={},lt=Rn(Tn),gt=Rn(!1),Hn=Tn;function Sr(e,r){var i=e.type.contextTypes;if(!i)return Tn;var u=e.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in i)h[p]=r[p];return u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=h),h}function mt(e){return e=e.childContextTypes,e!=null}function Oo(){$e(gt),$e(lt)}function Xc(e,r,i){if(lt.current!==Tn)throw Error(s(168));De(lt,r),De(gt,i)}function Zc(e,r,i){var u=e.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return i;u=u.getChildContext();for(var h in u)if(!(h in r))throw Error(s(108,te(e)||"Unknown",h));return R({},i,u)}function Ao(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Tn,Hn=lt.current,De(lt,e),De(gt,gt.current),!0}function ed(e,r,i){var u=e.stateNode;if(!u)throw Error(s(169));i?(e=Zc(e,r,Hn),u.__reactInternalMemoizedMergedChildContext=e,$e(gt),$e(lt),De(lt,e)):$e(gt),De(gt,i)}var ln=null,Do=!1,Da=!1;function td(e){ln===null?ln=[e]:ln.push(e)}function gm(e){Do=!0,td(e)}function Nn(){if(!Da&&ln!==null){Da=!0;var e=0,r=Oe;try{var i=ln;for(Oe=1;e<i.length;e++){var u=i[e];do u=u(!0);while(u!==null)}ln=null,Do=!1}catch(h){throw ln!==null&&(ln=ln.slice(e+1)),rc(ta,Nn),h}finally{Oe=r,Da=!1}}return null}var Er=[],jr=0,Io=null,Po=0,It=[],Pt=0,Jn=null,un=1,cn="";function qn(e,r){Er[jr++]=Po,Er[jr++]=Io,Io=e,Po=r}function nd(e,r,i){It[Pt++]=un,It[Pt++]=cn,It[Pt++]=Jn,Jn=e;var u=un;e=cn;var h=32-Bt(u)-1;u&=~(1<<h),i+=1;var p=32-Bt(r)+h;if(30<p){var w=h-h%5;p=(u&(1<<w)-1).toString(32),u>>=w,h-=w,un=1<<32-Bt(r)+h|i<<h|u,cn=p+e}else un=1<<p|i<<h|u,cn=e}function Ia(e){e.return!==null&&(qn(e,1),nd(e,1,0))}function Pa(e){for(;e===Io;)Io=Er[--jr],Er[jr]=null,Po=Er[--jr],Er[jr]=null;for(;e===Jn;)Jn=It[--Pt],It[Pt]=null,cn=It[--Pt],It[Pt]=null,un=It[--Pt],It[Pt]=null}var Ct=null,kt=null,Ue=!1,Wt=null;function rd(e,r){var i=Mt(5,null,null,0);i.elementType="DELETED",i.stateNode=r,i.return=e,r=e.deletions,r===null?(e.deletions=[i],e.flags|=16):r.push(i)}function sd(e,r){switch(e.tag){case 5:var i=e.type;return r=r.nodeType!==1||i.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,Ct=e,kt=kn(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,Ct=e,kt=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(i=Jn!==null?{id:un,overflow:cn}:null,e.memoizedState={dehydrated:r,treeContext:i,retryLane:1073741824},i=Mt(18,null,null,0),i.stateNode=r,i.return=e,e.child=i,Ct=e,kt=null,!0):!1;default:return!1}}function La(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $a(e){if(Ue){var r=kt;if(r){var i=r;if(!sd(e,r)){if(La(e))throw Error(s(418));r=kn(i.nextSibling);var u=Ct;r&&sd(e,r)?rd(u,i):(e.flags=e.flags&-4097|2,Ue=!1,Ct=e)}}else{if(La(e))throw Error(s(418));e.flags=e.flags&-4097|2,Ue=!1,Ct=e}}}function od(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ct=e}function Lo(e){if(e!==Ct)return!1;if(!Ue)return od(e),Ue=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!Ra(e.type,e.memoizedProps)),r&&(r=kt)){if(La(e))throw id(),Error(s(418));for(;r;)rd(e,r),r=kn(r.nextSibling)}if(od(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(r===0){kt=kn(e.nextSibling);break e}r--}else i!=="$"&&i!=="$!"&&i!=="$?"||r++}e=e.nextSibling}kt=null}}else kt=Ct?kn(e.stateNode.nextSibling):null;return!0}function id(){for(var e=kt;e;)e=kn(e.nextSibling)}function Cr(){kt=Ct=null,Ue=!1}function Ua(e){Wt===null?Wt=[e]:Wt.push(e)}var mm=F.ReactCurrentBatchConfig;function js(e,r,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(s(309));var u=i.stateNode}if(!u)throw Error(s(147,e));var h=u,p=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(w){var C=h.refs;w===null?delete C[p]:C[p]=w},r._stringRef=p,r)}if(typeof e!="string")throw Error(s(284));if(!i._owner)throw Error(s(290,e))}return e}function $o(e,r){throw e=Object.prototype.toString.call(r),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function ad(e){var r=e._init;return r(e._payload)}function ld(e){function r(L,I){if(e){var $=L.deletions;$===null?(L.deletions=[I],L.flags|=16):$.push(I)}}function i(L,I){if(!e)return null;for(;I!==null;)r(L,I),I=I.sibling;return null}function u(L,I){for(L=new Map;I!==null;)I.key!==null?L.set(I.key,I):L.set(I.index,I),I=I.sibling;return L}function h(L,I){return L=Un(L,I),L.index=0,L.sibling=null,L}function p(L,I,$){return L.index=$,e?($=L.alternate,$!==null?($=$.index,$<I?(L.flags|=2,I):$):(L.flags|=2,I)):(L.flags|=1048576,I)}function w(L){return e&&L.alternate===null&&(L.flags|=2),L}function C(L,I,$,G){return I===null||I.tag!==6?(I=Tl($,L.mode,G),I.return=L,I):(I=h(I,$),I.return=L,I)}function D(L,I,$,G){var ie=$.type;return ie===Q?V(L,I,$.props.children,G,$.key):I!==null&&(I.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===_e&&ad(ie)===I.type)?(G=h(I,$.props),G.ref=js(L,I,$),G.return=L,G):(G=ai($.type,$.key,$.props,null,L.mode,G),G.ref=js(L,I,$),G.return=L,G)}function U(L,I,$,G){return I===null||I.tag!==4||I.stateNode.containerInfo!==$.containerInfo||I.stateNode.implementation!==$.implementation?(I=Nl($,L.mode,G),I.return=L,I):(I=h(I,$.children||[]),I.return=L,I)}function V(L,I,$,G,ie){return I===null||I.tag!==7?(I=tr($,L.mode,G,ie),I.return=L,I):(I=h(I,$),I.return=L,I)}function H(L,I,$){if(typeof I=="string"&&I!==""||typeof I=="number")return I=Tl(""+I,L.mode,$),I.return=L,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case z:return $=ai(I.type,I.key,I.props,null,L.mode,$),$.ref=js(L,null,I),$.return=L,$;case K:return I=Nl(I,L.mode,$),I.return=L,I;case _e:var G=I._init;return H(L,G(I._payload),$)}if(xn(I)||ae(I))return I=tr(I,L.mode,$,null),I.return=L,I;$o(L,I)}return null}function W(L,I,$,G){var ie=I!==null?I.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return ie!==null?null:C(L,I,""+$,G);if(typeof $=="object"&&$!==null){switch($.$$typeof){case z:return $.key===ie?D(L,I,$,G):null;case K:return $.key===ie?U(L,I,$,G):null;case _e:return ie=$._init,W(L,I,ie($._payload),G)}if(xn($)||ae($))return ie!==null?null:V(L,I,$,G,null);$o(L,$)}return null}function ee(L,I,$,G,ie){if(typeof G=="string"&&G!==""||typeof G=="number")return L=L.get($)||null,C(I,L,""+G,ie);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case z:return L=L.get(G.key===null?$:G.key)||null,D(I,L,G,ie);case K:return L=L.get(G.key===null?$:G.key)||null,U(I,L,G,ie);case _e:var de=G._init;return ee(L,I,$,de(G._payload),ie)}if(xn(G)||ae(G))return L=L.get($)||null,V(I,L,G,ie,null);$o(I,G)}return null}function re(L,I,$,G){for(var ie=null,de=null,he=I,ye=I=0,rt=null;he!==null&&ye<$.length;ye++){he.index>ye?(rt=he,he=null):rt=he.sibling;var Ce=W(L,he,$[ye],G);if(Ce===null){he===null&&(he=rt);break}e&&he&&Ce.alternate===null&&r(L,he),I=p(Ce,I,ye),de===null?ie=Ce:de.sibling=Ce,de=Ce,he=rt}if(ye===$.length)return i(L,he),Ue&&qn(L,ye),ie;if(he===null){for(;ye<$.length;ye++)he=H(L,$[ye],G),he!==null&&(I=p(he,I,ye),de===null?ie=he:de.sibling=he,de=he);return Ue&&qn(L,ye),ie}for(he=u(L,he);ye<$.length;ye++)rt=ee(he,L,ye,$[ye],G),rt!==null&&(e&&rt.alternate!==null&&he.delete(rt.key===null?ye:rt.key),I=p(rt,I,ye),de===null?ie=rt:de.sibling=rt,de=rt);return e&&he.forEach(function(Mn){return r(L,Mn)}),Ue&&qn(L,ye),ie}function oe(L,I,$,G){var ie=ae($);if(typeof ie!="function")throw Error(s(150));if($=ie.call($),$==null)throw Error(s(151));for(var de=ie=null,he=I,ye=I=0,rt=null,Ce=$.next();he!==null&&!Ce.done;ye++,Ce=$.next()){he.index>ye?(rt=he,he=null):rt=he.sibling;var Mn=W(L,he,Ce.value,G);if(Mn===null){he===null&&(he=rt);break}e&&he&&Mn.alternate===null&&r(L,he),I=p(Mn,I,ye),de===null?ie=Mn:de.sibling=Mn,de=Mn,he=rt}if(Ce.done)return i(L,he),Ue&&qn(L,ye),ie;if(he===null){for(;!Ce.done;ye++,Ce=$.next())Ce=H(L,Ce.value,G),Ce!==null&&(I=p(Ce,I,ye),de===null?ie=Ce:de.sibling=Ce,de=Ce);return Ue&&qn(L,ye),ie}for(he=u(L,he);!Ce.done;ye++,Ce=$.next())Ce=ee(he,L,ye,Ce.value,G),Ce!==null&&(e&&Ce.alternate!==null&&he.delete(Ce.key===null?ye:Ce.key),I=p(Ce,I,ye),de===null?ie=Ce:de.sibling=Ce,de=Ce);return e&&he.forEach(function(Gm){return r(L,Gm)}),Ue&&qn(L,ye),ie}function qe(L,I,$,G){if(typeof $=="object"&&$!==null&&$.type===Q&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case z:e:{for(var ie=$.key,de=I;de!==null;){if(de.key===ie){if(ie=$.type,ie===Q){if(de.tag===7){i(L,de.sibling),I=h(de,$.props.children),I.return=L,L=I;break e}}else if(de.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===_e&&ad(ie)===de.type){i(L,de.sibling),I=h(de,$.props),I.ref=js(L,de,$),I.return=L,L=I;break e}i(L,de);break}else r(L,de);de=de.sibling}$.type===Q?(I=tr($.props.children,L.mode,G,$.key),I.return=L,L=I):(G=ai($.type,$.key,$.props,null,L.mode,G),G.ref=js(L,I,$),G.return=L,L=G)}return w(L);case K:e:{for(de=$.key;I!==null;){if(I.key===de)if(I.tag===4&&I.stateNode.containerInfo===$.containerInfo&&I.stateNode.implementation===$.implementation){i(L,I.sibling),I=h(I,$.children||[]),I.return=L,L=I;break e}else{i(L,I);break}else r(L,I);I=I.sibling}I=Nl($,L.mode,G),I.return=L,L=I}return w(L);case _e:return de=$._init,qe(L,I,de($._payload),G)}if(xn($))return re(L,I,$,G);if(ae($))return oe(L,I,$,G);$o(L,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,I!==null&&I.tag===6?(i(L,I.sibling),I=h(I,$),I.return=L,L=I):(i(L,I),I=Tl($,L.mode,G),I.return=L,L=I),w(L)):i(L,I)}return qe}var kr=ld(!0),ud=ld(!1),Uo=Rn(null),Mo=null,Rr=null,Ma=null;function Fa(){Ma=Rr=Mo=null}function Ba(e){var r=Uo.current;$e(Uo),e._currentValue=r}function za(e,r,i){for(;e!==null;){var u=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),e===i)break;e=e.return}}function Tr(e,r){Mo=e,Ma=Rr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&r)!==0&&(yt=!0),e.firstContext=null)}function Lt(e){var r=e._currentValue;if(Ma!==e)if(e={context:e,memoizedValue:r,next:null},Rr===null){if(Mo===null)throw Error(s(308));Rr=e,Mo.dependencies={lanes:0,firstContext:e}}else Rr=Rr.next=e;return r}var Kn=null;function Wa(e){Kn===null?Kn=[e]:Kn.push(e)}function cd(e,r,i,u){var h=r.interleaved;return h===null?(i.next=i,Wa(r)):(i.next=h.next,h.next=i),r.interleaved=i,dn(e,u)}function dn(e,r){e.lanes|=r;var i=e.alternate;for(i!==null&&(i.lanes|=r),i=e,e=e.return;e!==null;)e.childLanes|=r,i=e.alternate,i!==null&&(i.childLanes|=r),i=e,e=e.return;return i.tag===3?i.stateNode:null}var On=!1;function Va(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dd(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hn(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function An(e,r,i){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(Ee&2)!==0){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,dn(e,i)}return h=u.interleaved,h===null?(r.next=r,Wa(u)):(r.next=h.next,h.next=r),u.interleaved=r,dn(e,i)}function Fo(e,r,i){if(r=r.updateQueue,r!==null&&(r=r.shared,(i&4194240)!==0)){var u=r.lanes;u&=e.pendingLanes,i|=u,r.lanes=i,sa(e,i)}}function hd(e,r){var i=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,i===u)){var h=null,p=null;if(i=i.firstBaseUpdate,i!==null){do{var w={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};p===null?h=p=w:p=p.next=w,i=i.next}while(i!==null);p===null?h=p=r:p=p.next=r}else h=p=r;i={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,effects:u.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=r:e.next=r,i.lastBaseUpdate=r}function Bo(e,r,i,u){var h=e.updateQueue;On=!1;var p=h.firstBaseUpdate,w=h.lastBaseUpdate,C=h.shared.pending;if(C!==null){h.shared.pending=null;var D=C,U=D.next;D.next=null,w===null?p=U:w.next=U,w=D;var V=e.alternate;V!==null&&(V=V.updateQueue,C=V.lastBaseUpdate,C!==w&&(C===null?V.firstBaseUpdate=U:C.next=U,V.lastBaseUpdate=D))}if(p!==null){var H=h.baseState;w=0,V=U=D=null,C=p;do{var W=C.lane,ee=C.eventTime;if((u&W)===W){V!==null&&(V=V.next={eventTime:ee,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var re=e,oe=C;switch(W=r,ee=i,oe.tag){case 1:if(re=oe.payload,typeof re=="function"){H=re.call(ee,H,W);break e}H=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=oe.payload,W=typeof re=="function"?re.call(ee,H,W):re,W==null)break e;H=R({},H,W);break e;case 2:On=!0}}C.callback!==null&&C.lane!==0&&(e.flags|=64,W=h.effects,W===null?h.effects=[C]:W.push(C))}else ee={eventTime:ee,lane:W,tag:C.tag,payload:C.payload,callback:C.callback,next:null},V===null?(U=V=ee,D=H):V=V.next=ee,w|=W;if(C=C.next,C===null){if(C=h.shared.pending,C===null)break;W=C,C=W.next,W.next=null,h.lastBaseUpdate=W,h.shared.pending=null}}while(!0);if(V===null&&(D=H),h.baseState=D,h.firstBaseUpdate=U,h.lastBaseUpdate=V,r=h.shared.interleaved,r!==null){h=r;do w|=h.lane,h=h.next;while(h!==r)}else p===null&&(h.shared.lanes=0);Qn|=w,e.lanes=w,e.memoizedState=H}}function fd(e,r,i){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var u=e[r],h=u.callback;if(h!==null){if(u.callback=null,u=i,typeof h!="function")throw Error(s(191,h));h.call(u)}}}var Cs={},tn=Rn(Cs),ks=Rn(Cs),Rs=Rn(Cs);function Gn(e){if(e===Cs)throw Error(s(174));return e}function Ha(e,r){switch(De(Rs,r),De(ks,e),De(tn,Cs),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Ji(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=Ji(r,e)}$e(tn),De(tn,r)}function Nr(){$e(tn),$e(ks),$e(Rs)}function pd(e){Gn(Rs.current);var r=Gn(tn.current),i=Ji(r,e.type);r!==i&&(De(ks,e),De(tn,i))}function Ja(e){ks.current===e&&($e(tn),$e(ks))}var Fe=Rn(0);function zo(e){for(var r=e;r!==null;){if(r.tag===13){var i=r.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var qa=[];function Ka(){for(var e=0;e<qa.length;e++)qa[e]._workInProgressVersionPrimary=null;qa.length=0}var Wo=F.ReactCurrentDispatcher,Ga=F.ReactCurrentBatchConfig,Yn=0,Be=null,Ye=null,tt=null,Vo=!1,Ts=!1,Ns=0,ym=0;function ut(){throw Error(s(321))}function Ya(e,r){if(r===null)return!1;for(var i=0;i<r.length&&i<e.length;i++)if(!zt(e[i],r[i]))return!1;return!0}function Qa(e,r,i,u,h,p){if(Yn=p,Be=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Wo.current=e===null||e.memoizedState===null?bm:_m,e=i(u,h),Ts){p=0;do{if(Ts=!1,Ns=0,25<=p)throw Error(s(301));p+=1,tt=Ye=null,r.updateQueue=null,Wo.current=Sm,e=i(u,h)}while(Ts)}if(Wo.current=qo,r=Ye!==null&&Ye.next!==null,Yn=0,tt=Ye=Be=null,Vo=!1,r)throw Error(s(300));return e}function Xa(){var e=Ns!==0;return Ns=0,e}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Be.memoizedState=tt=e:tt=tt.next=e,tt}function $t(){if(Ye===null){var e=Be.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var r=tt===null?Be.memoizedState:tt.next;if(r!==null)tt=r,Ye=e;else{if(e===null)throw Error(s(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},tt===null?Be.memoizedState=tt=e:tt=tt.next=e}return tt}function Os(e,r){return typeof r=="function"?r(e):r}function Za(e){var r=$t(),i=r.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var u=Ye,h=u.baseQueue,p=i.pending;if(p!==null){if(h!==null){var w=h.next;h.next=p.next,p.next=w}u.baseQueue=h=p,i.pending=null}if(h!==null){p=h.next,u=u.baseState;var C=w=null,D=null,U=p;do{var V=U.lane;if((Yn&V)===V)D!==null&&(D=D.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),u=U.hasEagerState?U.eagerState:e(u,U.action);else{var H={lane:V,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};D===null?(C=D=H,w=u):D=D.next=H,Be.lanes|=V,Qn|=V}U=U.next}while(U!==null&&U!==p);D===null?w=u:D.next=C,zt(u,r.memoizedState)||(yt=!0),r.memoizedState=u,r.baseState=w,r.baseQueue=D,i.lastRenderedState=u}if(e=i.interleaved,e!==null){h=e;do p=h.lane,Be.lanes|=p,Qn|=p,h=h.next;while(h!==e)}else h===null&&(i.lanes=0);return[r.memoizedState,i.dispatch]}function el(e){var r=$t(),i=r.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var u=i.dispatch,h=i.pending,p=r.memoizedState;if(h!==null){i.pending=null;var w=h=h.next;do p=e(p,w.action),w=w.next;while(w!==h);zt(p,r.memoizedState)||(yt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),i.lastRenderedState=p}return[p,u]}function gd(){}function md(e,r){var i=Be,u=$t(),h=r(),p=!zt(u.memoizedState,h);if(p&&(u.memoizedState=h,yt=!0),u=u.queue,tl(wd.bind(null,i,u,e),[e]),u.getSnapshot!==r||p||tt!==null&&tt.memoizedState.tag&1){if(i.flags|=2048,As(9,vd.bind(null,i,u,h,r),void 0,null),nt===null)throw Error(s(349));(Yn&30)!==0||yd(i,r,h)}return h}function yd(e,r,i){e.flags|=16384,e={getSnapshot:r,value:i},r=Be.updateQueue,r===null?(r={lastEffect:null,stores:null},Be.updateQueue=r,r.stores=[e]):(i=r.stores,i===null?r.stores=[e]:i.push(e))}function vd(e,r,i,u){r.value=i,r.getSnapshot=u,xd(r)&&bd(e)}function wd(e,r,i){return i(function(){xd(r)&&bd(e)})}function xd(e){var r=e.getSnapshot;e=e.value;try{var i=r();return!zt(e,i)}catch{return!0}}function bd(e){var r=dn(e,1);r!==null&&qt(r,e,1,-1)}function _d(e){var r=nn();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:e},r.queue=e,e=e.dispatch=xm.bind(null,Be,e),[r.memoizedState,e]}function As(e,r,i,u){return e={tag:e,create:r,destroy:i,deps:u,next:null},r=Be.updateQueue,r===null?(r={lastEffect:null,stores:null},Be.updateQueue=r,r.lastEffect=e.next=e):(i=r.lastEffect,i===null?r.lastEffect=e.next=e:(u=i.next,i.next=e,e.next=u,r.lastEffect=e)),e}function Sd(){return $t().memoizedState}function Ho(e,r,i,u){var h=nn();Be.flags|=e,h.memoizedState=As(1|r,i,void 0,u===void 0?null:u)}function Jo(e,r,i,u){var h=$t();u=u===void 0?null:u;var p=void 0;if(Ye!==null){var w=Ye.memoizedState;if(p=w.destroy,u!==null&&Ya(u,w.deps)){h.memoizedState=As(r,i,p,u);return}}Be.flags|=e,h.memoizedState=As(1|r,i,p,u)}function Ed(e,r){return Ho(8390656,8,e,r)}function tl(e,r){return Jo(2048,8,e,r)}function jd(e,r){return Jo(4,2,e,r)}function Cd(e,r){return Jo(4,4,e,r)}function kd(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function Rd(e,r,i){return i=i!=null?i.concat([e]):null,Jo(4,4,kd.bind(null,r,e),i)}function nl(){}function Td(e,r){var i=$t();r=r===void 0?null:r;var u=i.memoizedState;return u!==null&&r!==null&&Ya(r,u[1])?u[0]:(i.memoizedState=[e,r],e)}function Nd(e,r){var i=$t();r=r===void 0?null:r;var u=i.memoizedState;return u!==null&&r!==null&&Ya(r,u[1])?u[0]:(e=e(),i.memoizedState=[e,r],e)}function Od(e,r,i){return(Yn&21)===0?(e.baseState&&(e.baseState=!1,yt=!0),e.memoizedState=i):(zt(i,r)||(i=ac(),Be.lanes|=i,Qn|=i,e.baseState=!0),r)}function vm(e,r){var i=Oe;Oe=i!==0&&4>i?i:4,e(!0);var u=Ga.transition;Ga.transition={};try{e(!1),r()}finally{Oe=i,Ga.transition=u}}function Ad(){return $t().memoizedState}function wm(e,r,i){var u=Ln(e);if(i={lane:u,action:i,hasEagerState:!1,eagerState:null,next:null},Dd(e))Id(r,i);else if(i=cd(e,r,i,u),i!==null){var h=pt();qt(i,e,u,h),Pd(i,r,u)}}function xm(e,r,i){var u=Ln(e),h={lane:u,action:i,hasEagerState:!1,eagerState:null,next:null};if(Dd(e))Id(r,h);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var w=r.lastRenderedState,C=p(w,i);if(h.hasEagerState=!0,h.eagerState=C,zt(C,w)){var D=r.interleaved;D===null?(h.next=h,Wa(r)):(h.next=D.next,D.next=h),r.interleaved=h;return}}catch{}i=cd(e,r,h,u),i!==null&&(h=pt(),qt(i,e,u,h),Pd(i,r,u))}}function Dd(e){var r=e.alternate;return e===Be||r!==null&&r===Be}function Id(e,r){Ts=Vo=!0;var i=e.pending;i===null?r.next=r:(r.next=i.next,i.next=r),e.pending=r}function Pd(e,r,i){if((i&4194240)!==0){var u=r.lanes;u&=e.pendingLanes,i|=u,r.lanes=i,sa(e,i)}}var qo={readContext:Lt,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useInsertionEffect:ut,useLayoutEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useMutableSource:ut,useSyncExternalStore:ut,useId:ut,unstable_isNewReconciler:!1},bm={readContext:Lt,useCallback:function(e,r){return nn().memoizedState=[e,r===void 0?null:r],e},useContext:Lt,useEffect:Ed,useImperativeHandle:function(e,r,i){return i=i!=null?i.concat([e]):null,Ho(4194308,4,kd.bind(null,r,e),i)},useLayoutEffect:function(e,r){return Ho(4194308,4,e,r)},useInsertionEffect:function(e,r){return Ho(4,2,e,r)},useMemo:function(e,r){var i=nn();return r=r===void 0?null:r,e=e(),i.memoizedState=[e,r],e},useReducer:function(e,r,i){var u=nn();return r=i!==void 0?i(r):r,u.memoizedState=u.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},u.queue=e,e=e.dispatch=wm.bind(null,Be,e),[u.memoizedState,e]},useRef:function(e){var r=nn();return e={current:e},r.memoizedState=e},useState:_d,useDebugValue:nl,useDeferredValue:function(e){return nn().memoizedState=e},useTransition:function(){var e=_d(!1),r=e[0];return e=vm.bind(null,e[1]),nn().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,i){var u=Be,h=nn();if(Ue){if(i===void 0)throw Error(s(407));i=i()}else{if(i=r(),nt===null)throw Error(s(349));(Yn&30)!==0||yd(u,r,i)}h.memoizedState=i;var p={value:i,getSnapshot:r};return h.queue=p,Ed(wd.bind(null,u,p,e),[e]),u.flags|=2048,As(9,vd.bind(null,u,p,i,r),void 0,null),i},useId:function(){var e=nn(),r=nt.identifierPrefix;if(Ue){var i=cn,u=un;i=(u&~(1<<32-Bt(u)-1)).toString(32)+i,r=":"+r+"R"+i,i=Ns++,0<i&&(r+="H"+i.toString(32)),r+=":"}else i=ym++,r=":"+r+"r"+i.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},_m={readContext:Lt,useCallback:Td,useContext:Lt,useEffect:tl,useImperativeHandle:Rd,useInsertionEffect:jd,useLayoutEffect:Cd,useMemo:Nd,useReducer:Za,useRef:Sd,useState:function(){return Za(Os)},useDebugValue:nl,useDeferredValue:function(e){var r=$t();return Od(r,Ye.memoizedState,e)},useTransition:function(){var e=Za(Os)[0],r=$t().memoizedState;return[e,r]},useMutableSource:gd,useSyncExternalStore:md,useId:Ad,unstable_isNewReconciler:!1},Sm={readContext:Lt,useCallback:Td,useContext:Lt,useEffect:tl,useImperativeHandle:Rd,useInsertionEffect:jd,useLayoutEffect:Cd,useMemo:Nd,useReducer:el,useRef:Sd,useState:function(){return el(Os)},useDebugValue:nl,useDeferredValue:function(e){var r=$t();return Ye===null?r.memoizedState=e:Od(r,Ye.memoizedState,e)},useTransition:function(){var e=el(Os)[0],r=$t().memoizedState;return[e,r]},useMutableSource:gd,useSyncExternalStore:md,useId:Ad,unstable_isNewReconciler:!1};function Vt(e,r){if(e&&e.defaultProps){r=R({},r),e=e.defaultProps;for(var i in e)r[i]===void 0&&(r[i]=e[i]);return r}return r}function rl(e,r,i,u){r=e.memoizedState,i=i(u,r),i=i==null?r:R({},r,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Ko={isMounted:function(e){return(e=e._reactInternals)?Wn(e)===e:!1},enqueueSetState:function(e,r,i){e=e._reactInternals;var u=pt(),h=Ln(e),p=hn(u,h);p.payload=r,i!=null&&(p.callback=i),r=An(e,p,h),r!==null&&(qt(r,e,h,u),Fo(r,e,h))},enqueueReplaceState:function(e,r,i){e=e._reactInternals;var u=pt(),h=Ln(e),p=hn(u,h);p.tag=1,p.payload=r,i!=null&&(p.callback=i),r=An(e,p,h),r!==null&&(qt(r,e,h,u),Fo(r,e,h))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var i=pt(),u=Ln(e),h=hn(i,u);h.tag=2,r!=null&&(h.callback=r),r=An(e,h,u),r!==null&&(qt(r,e,u,i),Fo(r,e,u))}};function Ld(e,r,i,u,h,p,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,p,w):r.prototype&&r.prototype.isPureReactComponent?!vs(i,u)||!vs(h,p):!0}function $d(e,r,i){var u=!1,h=Tn,p=r.contextType;return typeof p=="object"&&p!==null?p=Lt(p):(h=mt(r)?Hn:lt.current,u=r.contextTypes,p=(u=u!=null)?Sr(e,h):Tn),r=new r(i,p),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Ko,e.stateNode=r,r._reactInternals=e,u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=p),r}function Ud(e,r,i,u){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(i,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(i,u),r.state!==e&&Ko.enqueueReplaceState(r,r.state,null)}function sl(e,r,i,u){var h=e.stateNode;h.props=i,h.state=e.memoizedState,h.refs={},Va(e);var p=r.contextType;typeof p=="object"&&p!==null?h.context=Lt(p):(p=mt(r)?Hn:lt.current,h.context=Sr(e,p)),h.state=e.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(rl(e,r,p,i),h.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&Ko.enqueueReplaceState(h,h.state,null),Bo(e,i,h,u),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function Or(e,r){try{var i="",u=r;do i+=E(u),u=u.return;while(u);var h=i}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:e,source:r,stack:h,digest:null}}function ol(e,r,i){return{value:e,source:null,stack:i??null,digest:r??null}}function il(e,r){try{console.error(r.value)}catch(i){setTimeout(function(){throw i})}}var Em=typeof WeakMap=="function"?WeakMap:Map;function Md(e,r,i){i=hn(-1,i),i.tag=3,i.payload={element:null};var u=r.value;return i.callback=function(){ti||(ti=!0,bl=u),il(e,r)},i}function Fd(e,r,i){i=hn(-1,i),i.tag=3;var u=e.type.getDerivedStateFromError;if(typeof u=="function"){var h=r.value;i.payload=function(){return u(h)},i.callback=function(){il(e,r)}}var p=e.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(i.callback=function(){il(e,r),typeof u!="function"&&(In===null?In=new Set([this]):In.add(this));var w=r.stack;this.componentDidCatch(r.value,{componentStack:w!==null?w:""})}),i}function Bd(e,r,i){var u=e.pingCache;if(u===null){u=e.pingCache=new Em;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(i)||(h.add(i),e=Um.bind(null,e,r,i),r.then(e,e))}function zd(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function Wd(e,r,i,u,h){return(e.mode&1)===0?(e===r?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(r=hn(-1,1),r.tag=2,An(i,r,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=h,e)}var jm=F.ReactCurrentOwner,yt=!1;function ft(e,r,i,u){r.child=e===null?ud(r,null,i,u):kr(r,e.child,i,u)}function Vd(e,r,i,u,h){i=i.render;var p=r.ref;return Tr(r,h),u=Qa(e,r,i,u,p,h),i=Xa(),e!==null&&!yt?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~h,fn(e,r,h)):(Ue&&i&&Ia(r),r.flags|=1,ft(e,r,u,h),r.child)}function Hd(e,r,i,u,h){if(e===null){var p=i.type;return typeof p=="function"&&!Rl(p)&&p.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(r.tag=15,r.type=p,Jd(e,r,p,u,h)):(e=ai(i.type,null,u,r,r.mode,h),e.ref=r.ref,e.return=r,r.child=e)}if(p=e.child,(e.lanes&h)===0){var w=p.memoizedProps;if(i=i.compare,i=i!==null?i:vs,i(w,u)&&e.ref===r.ref)return fn(e,r,h)}return r.flags|=1,e=Un(p,u),e.ref=r.ref,e.return=r,r.child=e}function Jd(e,r,i,u,h){if(e!==null){var p=e.memoizedProps;if(vs(p,u)&&e.ref===r.ref)if(yt=!1,r.pendingProps=u=p,(e.lanes&h)!==0)(e.flags&131072)!==0&&(yt=!0);else return r.lanes=e.lanes,fn(e,r,h)}return al(e,r,i,u,h)}function qd(e,r,i){var u=r.pendingProps,h=u.children,p=e!==null?e.memoizedState:null;if(u.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(Dr,Rt),Rt|=i;else{if((i&1073741824)===0)return e=p!==null?p.baseLanes|i:i,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,De(Dr,Rt),Rt|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:i,De(Dr,Rt),Rt|=u}else p!==null?(u=p.baseLanes|i,r.memoizedState=null):u=i,De(Dr,Rt),Rt|=u;return ft(e,r,h,i),r.child}function Kd(e,r){var i=r.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(r.flags|=512,r.flags|=2097152)}function al(e,r,i,u,h){var p=mt(i)?Hn:lt.current;return p=Sr(r,p),Tr(r,h),i=Qa(e,r,i,u,p,h),u=Xa(),e!==null&&!yt?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~h,fn(e,r,h)):(Ue&&u&&Ia(r),r.flags|=1,ft(e,r,i,h),r.child)}function Gd(e,r,i,u,h){if(mt(i)){var p=!0;Ao(r)}else p=!1;if(Tr(r,h),r.stateNode===null)Yo(e,r),$d(r,i,u),sl(r,i,u,h),u=!0;else if(e===null){var w=r.stateNode,C=r.memoizedProps;w.props=C;var D=w.context,U=i.contextType;typeof U=="object"&&U!==null?U=Lt(U):(U=mt(i)?Hn:lt.current,U=Sr(r,U));var V=i.getDerivedStateFromProps,H=typeof V=="function"||typeof w.getSnapshotBeforeUpdate=="function";H||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(C!==u||D!==U)&&Ud(r,w,u,U),On=!1;var W=r.memoizedState;w.state=W,Bo(r,u,w,h),D=r.memoizedState,C!==u||W!==D||gt.current||On?(typeof V=="function"&&(rl(r,i,V,u),D=r.memoizedState),(C=On||Ld(r,i,C,u,W,D,U))?(H||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(r.flags|=4194308)):(typeof w.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=D),w.props=u,w.state=D,w.context=U,u=C):(typeof w.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{w=r.stateNode,dd(e,r),C=r.memoizedProps,U=r.type===r.elementType?C:Vt(r.type,C),w.props=U,H=r.pendingProps,W=w.context,D=i.contextType,typeof D=="object"&&D!==null?D=Lt(D):(D=mt(i)?Hn:lt.current,D=Sr(r,D));var ee=i.getDerivedStateFromProps;(V=typeof ee=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(C!==H||W!==D)&&Ud(r,w,u,D),On=!1,W=r.memoizedState,w.state=W,Bo(r,u,w,h);var re=r.memoizedState;C!==H||W!==re||gt.current||On?(typeof ee=="function"&&(rl(r,i,ee,u),re=r.memoizedState),(U=On||Ld(r,i,U,u,W,re,D)||!1)?(V||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(u,re,D),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(u,re,D)),typeof w.componentDidUpdate=="function"&&(r.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof w.componentDidUpdate!="function"||C===e.memoizedProps&&W===e.memoizedState||(r.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&W===e.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=re),w.props=u,w.state=re,w.context=D,u=U):(typeof w.componentDidUpdate!="function"||C===e.memoizedProps&&W===e.memoizedState||(r.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&W===e.memoizedState||(r.flags|=1024),u=!1)}return ll(e,r,i,u,p,h)}function ll(e,r,i,u,h,p){Kd(e,r);var w=(r.flags&128)!==0;if(!u&&!w)return h&&ed(r,i,!1),fn(e,r,p);u=r.stateNode,jm.current=r;var C=w&&typeof i.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,e!==null&&w?(r.child=kr(r,e.child,null,p),r.child=kr(r,null,C,p)):ft(e,r,C,p),r.memoizedState=u.state,h&&ed(r,i,!0),r.child}function Yd(e){var r=e.stateNode;r.pendingContext?Xc(e,r.pendingContext,r.pendingContext!==r.context):r.context&&Xc(e,r.context,!1),Ha(e,r.containerInfo)}function Qd(e,r,i,u,h){return Cr(),Ua(h),r.flags|=256,ft(e,r,i,u),r.child}var ul={dehydrated:null,treeContext:null,retryLane:0};function cl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Xd(e,r,i){var u=r.pendingProps,h=Fe.current,p=!1,w=(r.flags&128)!==0,C;if((C=w)||(C=e!==null&&e.memoizedState===null?!1:(h&2)!==0),C?(p=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),De(Fe,h&1),e===null)return $a(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((r.mode&1)===0?r.lanes=1:e.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(w=u.children,e=u.fallback,p?(u=r.mode,p=r.child,w={mode:"hidden",children:w},(u&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=w):p=li(w,u,0,null),e=tr(e,u,i,null),p.return=r,e.return=r,p.sibling=e,r.child=p,r.child.memoizedState=cl(i),r.memoizedState=ul,e):dl(r,w));if(h=e.memoizedState,h!==null&&(C=h.dehydrated,C!==null))return Cm(e,r,w,u,C,h,i);if(p){p=u.fallback,w=r.mode,h=e.child,C=h.sibling;var D={mode:"hidden",children:u.children};return(w&1)===0&&r.child!==h?(u=r.child,u.childLanes=0,u.pendingProps=D,r.deletions=null):(u=Un(h,D),u.subtreeFlags=h.subtreeFlags&14680064),C!==null?p=Un(C,p):(p=tr(p,w,i,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,w=e.child.memoizedState,w=w===null?cl(i):{baseLanes:w.baseLanes|i,cachePool:null,transitions:w.transitions},p.memoizedState=w,p.childLanes=e.childLanes&~i,r.memoizedState=ul,u}return p=e.child,e=p.sibling,u=Un(p,{mode:"visible",children:u.children}),(r.mode&1)===0&&(u.lanes=i),u.return=r,u.sibling=null,e!==null&&(i=r.deletions,i===null?(r.deletions=[e],r.flags|=16):i.push(e)),r.child=u,r.memoizedState=null,u}function dl(e,r){return r=li({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function Go(e,r,i,u){return u!==null&&Ua(u),kr(r,e.child,null,i),e=dl(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function Cm(e,r,i,u,h,p,w){if(i)return r.flags&256?(r.flags&=-257,u=ol(Error(s(422))),Go(e,r,w,u)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(p=u.fallback,h=r.mode,u=li({mode:"visible",children:u.children},h,0,null),p=tr(p,h,w,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,(r.mode&1)!==0&&kr(r,e.child,null,w),r.child.memoizedState=cl(w),r.memoizedState=ul,p);if((r.mode&1)===0)return Go(e,r,w,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var C=u.dgst;return u=C,p=Error(s(419)),u=ol(p,u,void 0),Go(e,r,w,u)}if(C=(w&e.childLanes)!==0,yt||C){if(u=nt,u!==null){switch(w&-w){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(u.suspendedLanes|w))!==0?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,dn(e,h),qt(u,e,h,-1))}return kl(),u=ol(Error(s(421))),Go(e,r,w,u)}return h.data==="$?"?(r.flags|=128,r.child=e.child,r=Mm.bind(null,e),h._reactRetry=r,null):(e=p.treeContext,kt=kn(h.nextSibling),Ct=r,Ue=!0,Wt=null,e!==null&&(It[Pt++]=un,It[Pt++]=cn,It[Pt++]=Jn,un=e.id,cn=e.overflow,Jn=r),r=dl(r,u.children),r.flags|=4096,r)}function Zd(e,r,i){e.lanes|=r;var u=e.alternate;u!==null&&(u.lanes|=r),za(e.return,r,i)}function hl(e,r,i,u,h){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:i,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=i,p.tailMode=h)}function eh(e,r,i){var u=r.pendingProps,h=u.revealOrder,p=u.tail;if(ft(e,r,u.children,i),u=Fe.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zd(e,i,r);else if(e.tag===19)Zd(e,i,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}if(De(Fe,u),(r.mode&1)===0)r.memoizedState=null;else switch(h){case"forwards":for(i=r.child,h=null;i!==null;)e=i.alternate,e!==null&&zo(e)===null&&(h=i),i=i.sibling;i=h,i===null?(h=r.child,r.child=null):(h=i.sibling,i.sibling=null),hl(r,!1,h,i,p);break;case"backwards":for(i=null,h=r.child,r.child=null;h!==null;){if(e=h.alternate,e!==null&&zo(e)===null){r.child=h;break}e=h.sibling,h.sibling=i,i=h,h=e}hl(r,!0,i,null,p);break;case"together":hl(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Yo(e,r){(r.mode&1)===0&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function fn(e,r,i){if(e!==null&&(r.dependencies=e.dependencies),Qn|=r.lanes,(i&r.childLanes)===0)return null;if(e!==null&&r.child!==e.child)throw Error(s(153));if(r.child!==null){for(e=r.child,i=Un(e,e.pendingProps),r.child=i,i.return=r;e.sibling!==null;)e=e.sibling,i=i.sibling=Un(e,e.pendingProps),i.return=r;i.sibling=null}return r.child}function km(e,r,i){switch(r.tag){case 3:Yd(r),Cr();break;case 5:pd(r);break;case 1:mt(r.type)&&Ao(r);break;case 4:Ha(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,h=r.memoizedProps.value;De(Uo,u._currentValue),u._currentValue=h;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(De(Fe,Fe.current&1),r.flags|=128,null):(i&r.child.childLanes)!==0?Xd(e,r,i):(De(Fe,Fe.current&1),e=fn(e,r,i),e!==null?e.sibling:null);De(Fe,Fe.current&1);break;case 19:if(u=(i&r.childLanes)!==0,(e.flags&128)!==0){if(u)return eh(e,r,i);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),De(Fe,Fe.current),u)break;return null;case 22:case 23:return r.lanes=0,qd(e,r,i)}return fn(e,r,i)}var th,fl,nh,rh;th=function(e,r){for(var i=r.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},fl=function(){},nh=function(e,r,i,u){var h=e.memoizedProps;if(h!==u){e=r.stateNode,Gn(tn.current);var p=null;switch(i){case"input":h=ce(e,h),u=ce(e,u),p=[];break;case"select":h=R({},h,{value:void 0}),u=R({},u,{value:void 0}),p=[];break;case"textarea":h=Hi(e,h),u=Hi(e,u),p=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(e.onclick=To)}qi(i,u);var w;i=null;for(U in h)if(!u.hasOwnProperty(U)&&h.hasOwnProperty(U)&&h[U]!=null)if(U==="style"){var C=h[U];for(w in C)C.hasOwnProperty(w)&&(i||(i={}),i[w]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(a.hasOwnProperty(U)?p||(p=[]):(p=p||[]).push(U,null));for(U in u){var D=u[U];if(C=h?.[U],u.hasOwnProperty(U)&&D!==C&&(D!=null||C!=null))if(U==="style")if(C){for(w in C)!C.hasOwnProperty(w)||D&&D.hasOwnProperty(w)||(i||(i={}),i[w]="");for(w in D)D.hasOwnProperty(w)&&C[w]!==D[w]&&(i||(i={}),i[w]=D[w])}else i||(p||(p=[]),p.push(U,i)),i=D;else U==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,C=C?C.__html:void 0,D!=null&&C!==D&&(p=p||[]).push(U,D)):U==="children"?typeof D!="string"&&typeof D!="number"||(p=p||[]).push(U,""+D):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(a.hasOwnProperty(U)?(D!=null&&U==="onScroll"&&Le("scroll",e),p||C===D||(p=[])):(p=p||[]).push(U,D))}i&&(p=p||[]).push("style",i);var U=p;(r.updateQueue=U)&&(r.flags|=4)}},rh=function(e,r,i,u){i!==u&&(r.flags|=4)};function Ds(e,r){if(!Ue)switch(e.tailMode){case"hidden":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function ct(e){var r=e.alternate!==null&&e.alternate.child===e.child,i=0,u=0;if(r)for(var h=e.child;h!==null;)i|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)i|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=u,e.childLanes=i,r}function Rm(e,r,i){var u=r.pendingProps;switch(Pa(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(r),null;case 1:return mt(r.type)&&Oo(),ct(r),null;case 3:return u=r.stateNode,Nr(),$e(gt),$e(lt),Ka(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(e===null||e.child===null)&&(Lo(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Wt!==null&&(El(Wt),Wt=null))),fl(e,r),ct(r),null;case 5:Ja(r);var h=Gn(Rs.current);if(i=r.type,e!==null&&r.stateNode!=null)nh(e,r,i,u,h),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ct(r),null}if(e=Gn(tn.current),Lo(r)){u=r.stateNode,i=r.type;var p=r.memoizedProps;switch(u[en]=r,u[Ss]=p,e=(r.mode&1)!==0,i){case"dialog":Le("cancel",u),Le("close",u);break;case"iframe":case"object":case"embed":Le("load",u);break;case"video":case"audio":for(h=0;h<xs.length;h++)Le(xs[h],u);break;case"source":Le("error",u);break;case"img":case"image":case"link":Le("error",u),Le("load",u);break;case"details":Le("toggle",u);break;case"input":Dt(u,p),Le("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},Le("invalid",u);break;case"textarea":Fu(u,p),Le("invalid",u)}qi(i,p),h=null;for(var w in p)if(p.hasOwnProperty(w)){var C=p[w];w==="children"?typeof C=="string"?u.textContent!==C&&(p.suppressHydrationWarning!==!0&&Ro(u.textContent,C,e),h=["children",C]):typeof C=="number"&&u.textContent!==""+C&&(p.suppressHydrationWarning!==!0&&Ro(u.textContent,C,e),h=["children",""+C]):a.hasOwnProperty(w)&&C!=null&&w==="onScroll"&&Le("scroll",u)}switch(i){case"input":ue(u),oo(u,p,!0);break;case"textarea":ue(u),zu(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=To)}u=h,r.updateQueue=u,u!==null&&(r.flags|=4)}else{w=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Wu(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=w.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof u.is=="string"?e=w.createElement(i,{is:u.is}):(e=w.createElement(i),i==="select"&&(w=e,u.multiple?w.multiple=!0:u.size&&(w.size=u.size))):e=w.createElementNS(e,i),e[en]=r,e[Ss]=u,th(e,r,!1,!1),r.stateNode=e;e:{switch(w=Ki(i,u),i){case"dialog":Le("cancel",e),Le("close",e),h=u;break;case"iframe":case"object":case"embed":Le("load",e),h=u;break;case"video":case"audio":for(h=0;h<xs.length;h++)Le(xs[h],e);h=u;break;case"source":Le("error",e),h=u;break;case"img":case"image":case"link":Le("error",e),Le("load",e),h=u;break;case"details":Le("toggle",e),h=u;break;case"input":Dt(e,u),h=ce(e,u),Le("invalid",e);break;case"option":h=u;break;case"select":e._wrapperState={wasMultiple:!!u.multiple},h=R({},u,{value:void 0}),Le("invalid",e);break;case"textarea":Fu(e,u),h=Hi(e,u),Le("invalid",e);break;default:h=u}qi(i,h),C=h;for(p in C)if(C.hasOwnProperty(p)){var D=C[p];p==="style"?Ju(e,D):p==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&Vu(e,D)):p==="children"?typeof D=="string"?(i!=="textarea"||D!=="")&&ts(e,D):typeof D=="number"&&ts(e,""+D):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?D!=null&&p==="onScroll"&&Le("scroll",e):D!=null&&A(e,p,D,w))}switch(i){case"input":ue(e),oo(e,u,!1);break;case"textarea":ue(e),zu(e);break;case"option":u.value!=null&&e.setAttribute("value",""+fe(u.value));break;case"select":e.multiple=!!u.multiple,p=u.value,p!=null?dr(e,!!u.multiple,p,!1):u.defaultValue!=null&&dr(e,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=To)}switch(i){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return ct(r),null;case 6:if(e&&r.stateNode!=null)rh(e,r,e.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=Gn(Rs.current),Gn(tn.current),Lo(r)){if(u=r.stateNode,i=r.memoizedProps,u[en]=r,(p=u.nodeValue!==i)&&(e=Ct,e!==null))switch(e.tag){case 3:Ro(u.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ro(u.nodeValue,i,(e.mode&1)!==0)}p&&(r.flags|=4)}else u=(i.nodeType===9?i:i.ownerDocument).createTextNode(u),u[en]=r,r.stateNode=u}return ct(r),null;case 13:if($e(Fe),u=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ue&&kt!==null&&(r.mode&1)!==0&&(r.flags&128)===0)id(),Cr(),r.flags|=98560,p=!1;else if(p=Lo(r),u!==null&&u.dehydrated!==null){if(e===null){if(!p)throw Error(s(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[en]=r}else Cr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ct(r),p=!1}else Wt!==null&&(El(Wt),Wt=null),p=!0;if(!p)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=i,r):(u=u!==null,u!==(e!==null&&e.memoizedState!==null)&&u&&(r.child.flags|=8192,(r.mode&1)!==0&&(e===null||(Fe.current&1)!==0?Qe===0&&(Qe=3):kl())),r.updateQueue!==null&&(r.flags|=4),ct(r),null);case 4:return Nr(),fl(e,r),e===null&&bs(r.stateNode.containerInfo),ct(r),null;case 10:return Ba(r.type._context),ct(r),null;case 17:return mt(r.type)&&Oo(),ct(r),null;case 19:if($e(Fe),p=r.memoizedState,p===null)return ct(r),null;if(u=(r.flags&128)!==0,w=p.rendering,w===null)if(u)Ds(p,!1);else{if(Qe!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(w=zo(e),w!==null){for(r.flags|=128,Ds(p,!1),u=w.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=i,i=r.child;i!==null;)p=i,e=u,p.flags&=14680066,w=p.alternate,w===null?(p.childLanes=0,p.lanes=e,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=w.childLanes,p.lanes=w.lanes,p.child=w.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=w.memoizedProps,p.memoizedState=w.memoizedState,p.updateQueue=w.updateQueue,p.type=w.type,e=w.dependencies,p.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return De(Fe,Fe.current&1|2),r.child}e=e.sibling}p.tail!==null&&Je()>Ir&&(r.flags|=128,u=!0,Ds(p,!1),r.lanes=4194304)}else{if(!u)if(e=zo(w),e!==null){if(r.flags|=128,u=!0,i=e.updateQueue,i!==null&&(r.updateQueue=i,r.flags|=4),Ds(p,!0),p.tail===null&&p.tailMode==="hidden"&&!w.alternate&&!Ue)return ct(r),null}else 2*Je()-p.renderingStartTime>Ir&&i!==1073741824&&(r.flags|=128,u=!0,Ds(p,!1),r.lanes=4194304);p.isBackwards?(w.sibling=r.child,r.child=w):(i=p.last,i!==null?i.sibling=w:r.child=w,p.last=w)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=Je(),r.sibling=null,i=Fe.current,De(Fe,u?i&1|2:i&1),r):(ct(r),null);case 22:case 23:return Cl(),u=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==u&&(r.flags|=8192),u&&(r.mode&1)!==0?(Rt&1073741824)!==0&&(ct(r),r.subtreeFlags&6&&(r.flags|=8192)):ct(r),null;case 24:return null;case 25:return null}throw Error(s(156,r.tag))}function Tm(e,r){switch(Pa(r),r.tag){case 1:return mt(r.type)&&Oo(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return Nr(),$e(gt),$e(lt),Ka(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 5:return Ja(r),null;case 13:if($e(Fe),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Cr()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return $e(Fe),null;case 4:return Nr(),null;case 10:return Ba(r.type._context),null;case 22:case 23:return Cl(),null;case 24:return null;default:return null}}var Qo=!1,dt=!1,Nm=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Ar(e,r){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(u){Ve(e,r,u)}else i.current=null}function pl(e,r,i){try{i()}catch(u){Ve(e,r,u)}}var sh=!1;function Om(e,r){if(Ca=yo,e=Lc(),va(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var u=i.getSelection&&i.getSelection();if(u&&u.rangeCount!==0){i=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{i.nodeType,p.nodeType}catch{i=null;break e}var w=0,C=-1,D=-1,U=0,V=0,H=e,W=null;t:for(;;){for(var ee;H!==i||h!==0&&H.nodeType!==3||(C=w+h),H!==p||u!==0&&H.nodeType!==3||(D=w+u),H.nodeType===3&&(w+=H.nodeValue.length),(ee=H.firstChild)!==null;)W=H,H=ee;for(;;){if(H===e)break t;if(W===i&&++U===h&&(C=w),W===p&&++V===u&&(D=w),(ee=H.nextSibling)!==null)break;H=W,W=H.parentNode}H=ee}i=C===-1||D===-1?null:{start:C,end:D}}else i=null}i=i||{start:0,end:0}}else i=null;for(ka={focusedElem:e,selectionRange:i},yo=!1,ne=r;ne!==null;)if(r=ne,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,ne=e;else for(;ne!==null;){r=ne;try{var re=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(re!==null){var oe=re.memoizedProps,qe=re.memoizedState,L=r.stateNode,I=L.getSnapshotBeforeUpdate(r.elementType===r.type?oe:Vt(r.type,oe),qe);L.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var $=r.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(G){Ve(r,r.return,G)}if(e=r.sibling,e!==null){e.return=r.return,ne=e;break}ne=r.return}return re=sh,sh=!1,re}function Is(e,r,i){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&e)===e){var p=h.destroy;h.destroy=void 0,p!==void 0&&pl(r,i,p)}h=h.next}while(h!==u)}}function Xo(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var u=i.create;i.destroy=u()}i=i.next}while(i!==r)}}function gl(e){var r=e.ref;if(r!==null){var i=e.stateNode;e.tag,e=i,typeof r=="function"?r(e):r.current=e}}function oh(e){var r=e.alternate;r!==null&&(e.alternate=null,oh(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[en],delete r[Ss],delete r[Oa],delete r[fm],delete r[pm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ih(e){return e.tag===5||e.tag===3||e.tag===4}function ah(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ih(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ml(e,r,i){var u=e.tag;if(u===5||u===6)e=e.stateNode,r?i.nodeType===8?i.parentNode.insertBefore(e,r):i.insertBefore(e,r):(i.nodeType===8?(r=i.parentNode,r.insertBefore(e,i)):(r=i,r.appendChild(e)),i=i._reactRootContainer,i!=null||r.onclick!==null||(r.onclick=To));else if(u!==4&&(e=e.child,e!==null))for(ml(e,r,i),e=e.sibling;e!==null;)ml(e,r,i),e=e.sibling}function yl(e,r,i){var u=e.tag;if(u===5||u===6)e=e.stateNode,r?i.insertBefore(e,r):i.appendChild(e);else if(u!==4&&(e=e.child,e!==null))for(yl(e,r,i),e=e.sibling;e!==null;)yl(e,r,i),e=e.sibling}var st=null,Ht=!1;function Dn(e,r,i){for(i=i.child;i!==null;)lh(e,r,i),i=i.sibling}function lh(e,r,i){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(co,i)}catch{}switch(i.tag){case 5:dt||Ar(i,r);case 6:var u=st,h=Ht;st=null,Dn(e,r,i),st=u,Ht=h,st!==null&&(Ht?(e=st,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):st.removeChild(i.stateNode));break;case 18:st!==null&&(Ht?(e=st,i=i.stateNode,e.nodeType===8?Na(e.parentNode,i):e.nodeType===1&&Na(e,i),hs(e)):Na(st,i.stateNode));break;case 4:u=st,h=Ht,st=i.stateNode.containerInfo,Ht=!0,Dn(e,r,i),st=u,Ht=h;break;case 0:case 11:case 14:case 15:if(!dt&&(u=i.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var p=h,w=p.destroy;p=p.tag,w!==void 0&&((p&2)!==0||(p&4)!==0)&&pl(i,r,w),h=h.next}while(h!==u)}Dn(e,r,i);break;case 1:if(!dt&&(Ar(i,r),u=i.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=i.memoizedProps,u.state=i.memoizedState,u.componentWillUnmount()}catch(C){Ve(i,r,C)}Dn(e,r,i);break;case 21:Dn(e,r,i);break;case 22:i.mode&1?(dt=(u=dt)||i.memoizedState!==null,Dn(e,r,i),dt=u):Dn(e,r,i);break;default:Dn(e,r,i)}}function uh(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Nm),r.forEach(function(u){var h=Fm.bind(null,e,u);i.has(u)||(i.add(u),u.then(h,h))})}}function Jt(e,r){var i=r.deletions;if(i!==null)for(var u=0;u<i.length;u++){var h=i[u];try{var p=e,w=r,C=w;e:for(;C!==null;){switch(C.tag){case 5:st=C.stateNode,Ht=!1;break e;case 3:st=C.stateNode.containerInfo,Ht=!0;break e;case 4:st=C.stateNode.containerInfo,Ht=!0;break e}C=C.return}if(st===null)throw Error(s(160));lh(p,w,h),st=null,Ht=!1;var D=h.alternate;D!==null&&(D.return=null),h.return=null}catch(U){Ve(h,r,U)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)ch(r,e),r=r.sibling}function ch(e,r){var i=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Jt(r,e),rn(e),u&4){try{Is(3,e,e.return),Xo(3,e)}catch(oe){Ve(e,e.return,oe)}try{Is(5,e,e.return)}catch(oe){Ve(e,e.return,oe)}}break;case 1:Jt(r,e),rn(e),u&512&&i!==null&&Ar(i,i.return);break;case 5:if(Jt(r,e),rn(e),u&512&&i!==null&&Ar(i,i.return),e.flags&32){var h=e.stateNode;try{ts(h,"")}catch(oe){Ve(e,e.return,oe)}}if(u&4&&(h=e.stateNode,h!=null)){var p=e.memoizedProps,w=i!==null?i.memoizedProps:p,C=e.type,D=e.updateQueue;if(e.updateQueue=null,D!==null)try{C==="input"&&p.type==="radio"&&p.name!=null&&Se(h,p),Ki(C,w);var U=Ki(C,p);for(w=0;w<D.length;w+=2){var V=D[w],H=D[w+1];V==="style"?Ju(h,H):V==="dangerouslySetInnerHTML"?Vu(h,H):V==="children"?ts(h,H):A(h,V,H,U)}switch(C){case"input":zn(h,p);break;case"textarea":Bu(h,p);break;case"select":var W=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var ee=p.value;ee!=null?dr(h,!!p.multiple,ee,!1):W!==!!p.multiple&&(p.defaultValue!=null?dr(h,!!p.multiple,p.defaultValue,!0):dr(h,!!p.multiple,p.multiple?[]:"",!1))}h[Ss]=p}catch(oe){Ve(e,e.return,oe)}}break;case 6:if(Jt(r,e),rn(e),u&4){if(e.stateNode===null)throw Error(s(162));h=e.stateNode,p=e.memoizedProps;try{h.nodeValue=p}catch(oe){Ve(e,e.return,oe)}}break;case 3:if(Jt(r,e),rn(e),u&4&&i!==null&&i.memoizedState.isDehydrated)try{hs(r.containerInfo)}catch(oe){Ve(e,e.return,oe)}break;case 4:Jt(r,e),rn(e);break;case 13:Jt(r,e),rn(e),h=e.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(xl=Je())),u&4&&uh(e);break;case 22:if(V=i!==null&&i.memoizedState!==null,e.mode&1?(dt=(U=dt)||V,Jt(r,e),dt=U):Jt(r,e),rn(e),u&8192){if(U=e.memoizedState!==null,(e.stateNode.isHidden=U)&&!V&&(e.mode&1)!==0)for(ne=e,V=e.child;V!==null;){for(H=ne=V;ne!==null;){switch(W=ne,ee=W.child,W.tag){case 0:case 11:case 14:case 15:Is(4,W,W.return);break;case 1:Ar(W,W.return);var re=W.stateNode;if(typeof re.componentWillUnmount=="function"){u=W,i=W.return;try{r=u,re.props=r.memoizedProps,re.state=r.memoizedState,re.componentWillUnmount()}catch(oe){Ve(u,i,oe)}}break;case 5:Ar(W,W.return);break;case 22:if(W.memoizedState!==null){fh(H);continue}}ee!==null?(ee.return=W,ne=ee):fh(H)}V=V.sibling}e:for(V=null,H=e;;){if(H.tag===5){if(V===null){V=H;try{h=H.stateNode,U?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(C=H.stateNode,D=H.memoizedProps.style,w=D!=null&&D.hasOwnProperty("display")?D.display:null,C.style.display=Hu("display",w))}catch(oe){Ve(e,e.return,oe)}}}else if(H.tag===6){if(V===null)try{H.stateNode.nodeValue=U?"":H.memoizedProps}catch(oe){Ve(e,e.return,oe)}}else if((H.tag!==22&&H.tag!==23||H.memoizedState===null||H===e)&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===e)break e;for(;H.sibling===null;){if(H.return===null||H.return===e)break e;V===H&&(V=null),H=H.return}V===H&&(V=null),H.sibling.return=H.return,H=H.sibling}}break;case 19:Jt(r,e),rn(e),u&4&&uh(e);break;case 21:break;default:Jt(r,e),rn(e)}}function rn(e){var r=e.flags;if(r&2){try{e:{for(var i=e.return;i!==null;){if(ih(i)){var u=i;break e}i=i.return}throw Error(s(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(ts(h,""),u.flags&=-33);var p=ah(e);yl(e,p,h);break;case 3:case 4:var w=u.stateNode.containerInfo,C=ah(e);ml(e,C,w);break;default:throw Error(s(161))}}catch(D){Ve(e,e.return,D)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function Am(e,r,i){ne=e,dh(e)}function dh(e,r,i){for(var u=(e.mode&1)!==0;ne!==null;){var h=ne,p=h.child;if(h.tag===22&&u){var w=h.memoizedState!==null||Qo;if(!w){var C=h.alternate,D=C!==null&&C.memoizedState!==null||dt;C=Qo;var U=dt;if(Qo=w,(dt=D)&&!U)for(ne=h;ne!==null;)w=ne,D=w.child,w.tag===22&&w.memoizedState!==null?ph(h):D!==null?(D.return=w,ne=D):ph(h);for(;p!==null;)ne=p,dh(p),p=p.sibling;ne=h,Qo=C,dt=U}hh(e)}else(h.subtreeFlags&8772)!==0&&p!==null?(p.return=h,ne=p):hh(e)}}function hh(e){for(;ne!==null;){var r=ne;if((r.flags&8772)!==0){var i=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:dt||Xo(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!dt)if(i===null)u.componentDidMount();else{var h=r.elementType===r.type?i.memoizedProps:Vt(r.type,i.memoizedProps);u.componentDidUpdate(h,i.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&fd(r,p,u);break;case 3:var w=r.updateQueue;if(w!==null){if(i=null,r.child!==null)switch(r.child.tag){case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}fd(r,w,i)}break;case 5:var C=r.stateNode;if(i===null&&r.flags&4){i=C;var D=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&i.focus();break;case"img":D.src&&(i.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var U=r.alternate;if(U!==null){var V=U.memoizedState;if(V!==null){var H=V.dehydrated;H!==null&&hs(H)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}dt||r.flags&512&&gl(r)}catch(W){Ve(r,r.return,W)}}if(r===e){ne=null;break}if(i=r.sibling,i!==null){i.return=r.return,ne=i;break}ne=r.return}}function fh(e){for(;ne!==null;){var r=ne;if(r===e){ne=null;break}var i=r.sibling;if(i!==null){i.return=r.return,ne=i;break}ne=r.return}}function ph(e){for(;ne!==null;){var r=ne;try{switch(r.tag){case 0:case 11:case 15:var i=r.return;try{Xo(4,r)}catch(D){Ve(r,i,D)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var h=r.return;try{u.componentDidMount()}catch(D){Ve(r,h,D)}}var p=r.return;try{gl(r)}catch(D){Ve(r,p,D)}break;case 5:var w=r.return;try{gl(r)}catch(D){Ve(r,w,D)}}}catch(D){Ve(r,r.return,D)}if(r===e){ne=null;break}var C=r.sibling;if(C!==null){C.return=r.return,ne=C;break}ne=r.return}}var Dm=Math.ceil,Zo=F.ReactCurrentDispatcher,vl=F.ReactCurrentOwner,Ut=F.ReactCurrentBatchConfig,Ee=0,nt=null,Ke=null,ot=0,Rt=0,Dr=Rn(0),Qe=0,Ps=null,Qn=0,ei=0,wl=0,Ls=null,vt=null,xl=0,Ir=1/0,pn=null,ti=!1,bl=null,In=null,ni=!1,Pn=null,ri=0,$s=0,_l=null,si=-1,oi=0;function pt(){return(Ee&6)!==0?Je():si!==-1?si:si=Je()}function Ln(e){return(e.mode&1)===0?1:(Ee&2)!==0&&ot!==0?ot&-ot:mm.transition!==null?(oi===0&&(oi=ac()),oi):(e=Oe,e!==0||(e=window.event,e=e===void 0?16:mc(e.type)),e)}function qt(e,r,i,u){if(50<$s)throw $s=0,_l=null,Error(s(185));as(e,i,u),((Ee&2)===0||e!==nt)&&(e===nt&&((Ee&2)===0&&(ei|=i),Qe===4&&$n(e,ot)),wt(e,u),i===1&&Ee===0&&(r.mode&1)===0&&(Ir=Je()+500,Do&&Nn()))}function wt(e,r){var i=e.callbackNode;mg(e,r);var u=po(e,e===nt?ot:0);if(u===0)i!==null&&sc(i),e.callbackNode=null,e.callbackPriority=0;else if(r=u&-u,e.callbackPriority!==r){if(i!=null&&sc(i),r===1)e.tag===0?gm(mh.bind(null,e)):td(mh.bind(null,e)),dm(function(){(Ee&6)===0&&Nn()}),i=null;else{switch(lc(u)){case 1:i=ta;break;case 4:i=oc;break;case 16:i=uo;break;case 536870912:i=ic;break;default:i=uo}i=Eh(i,gh.bind(null,e))}e.callbackPriority=r,e.callbackNode=i}}function gh(e,r){if(si=-1,oi=0,(Ee&6)!==0)throw Error(s(327));var i=e.callbackNode;if(Pr()&&e.callbackNode!==i)return null;var u=po(e,e===nt?ot:0);if(u===0)return null;if((u&30)!==0||(u&e.expiredLanes)!==0||r)r=ii(e,u);else{r=u;var h=Ee;Ee|=2;var p=vh();(nt!==e||ot!==r)&&(pn=null,Ir=Je()+500,Zn(e,r));do try{Lm();break}catch(C){yh(e,C)}while(!0);Fa(),Zo.current=p,Ee=h,Ke!==null?r=0:(nt=null,ot=0,r=Qe)}if(r!==0){if(r===2&&(h=na(e),h!==0&&(u=h,r=Sl(e,h))),r===1)throw i=Ps,Zn(e,0),$n(e,u),wt(e,Je()),i;if(r===6)$n(e,u);else{if(h=e.current.alternate,(u&30)===0&&!Im(h)&&(r=ii(e,u),r===2&&(p=na(e),p!==0&&(u=p,r=Sl(e,p))),r===1))throw i=Ps,Zn(e,0),$n(e,u),wt(e,Je()),i;switch(e.finishedWork=h,e.finishedLanes=u,r){case 0:case 1:throw Error(s(345));case 2:er(e,vt,pn);break;case 3:if($n(e,u),(u&130023424)===u&&(r=xl+500-Je(),10<r)){if(po(e,0)!==0)break;if(h=e.suspendedLanes,(h&u)!==u){pt(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=Ta(er.bind(null,e,vt,pn),r);break}er(e,vt,pn);break;case 4:if($n(e,u),(u&4194240)===u)break;for(r=e.eventTimes,h=-1;0<u;){var w=31-Bt(u);p=1<<w,w=r[w],w>h&&(h=w),u&=~p}if(u=h,u=Je()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Dm(u/1960))-u,10<u){e.timeoutHandle=Ta(er.bind(null,e,vt,pn),u);break}er(e,vt,pn);break;case 5:er(e,vt,pn);break;default:throw Error(s(329))}}}return wt(e,Je()),e.callbackNode===i?gh.bind(null,e):null}function Sl(e,r){var i=Ls;return e.current.memoizedState.isDehydrated&&(Zn(e,r).flags|=256),e=ii(e,r),e!==2&&(r=vt,vt=i,r!==null&&El(r)),e}function El(e){vt===null?vt=e:vt.push.apply(vt,e)}function Im(e){for(var r=e;;){if(r.flags&16384){var i=r.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var u=0;u<i.length;u++){var h=i[u],p=h.getSnapshot;h=h.value;try{if(!zt(p(),h))return!1}catch{return!1}}}if(i=r.child,r.subtreeFlags&16384&&i!==null)i.return=r,r=i;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function $n(e,r){for(r&=~wl,r&=~ei,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var i=31-Bt(r),u=1<<i;e[i]=-1,r&=~u}}function mh(e){if((Ee&6)!==0)throw Error(s(327));Pr();var r=po(e,0);if((r&1)===0)return wt(e,Je()),null;var i=ii(e,r);if(e.tag!==0&&i===2){var u=na(e);u!==0&&(r=u,i=Sl(e,u))}if(i===1)throw i=Ps,Zn(e,0),$n(e,r),wt(e,Je()),i;if(i===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,er(e,vt,pn),wt(e,Je()),null}function jl(e,r){var i=Ee;Ee|=1;try{return e(r)}finally{Ee=i,Ee===0&&(Ir=Je()+500,Do&&Nn())}}function Xn(e){Pn!==null&&Pn.tag===0&&(Ee&6)===0&&Pr();var r=Ee;Ee|=1;var i=Ut.transition,u=Oe;try{if(Ut.transition=null,Oe=1,e)return e()}finally{Oe=u,Ut.transition=i,Ee=r,(Ee&6)===0&&Nn()}}function Cl(){Rt=Dr.current,$e(Dr)}function Zn(e,r){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,cm(i)),Ke!==null)for(i=Ke.return;i!==null;){var u=i;switch(Pa(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Oo();break;case 3:Nr(),$e(gt),$e(lt),Ka();break;case 5:Ja(u);break;case 4:Nr();break;case 13:$e(Fe);break;case 19:$e(Fe);break;case 10:Ba(u.type._context);break;case 22:case 23:Cl()}i=i.return}if(nt=e,Ke=e=Un(e.current,null),ot=Rt=r,Qe=0,Ps=null,wl=ei=Qn=0,vt=Ls=null,Kn!==null){for(r=0;r<Kn.length;r++)if(i=Kn[r],u=i.interleaved,u!==null){i.interleaved=null;var h=u.next,p=i.pending;if(p!==null){var w=p.next;p.next=h,u.next=w}i.pending=u}Kn=null}return e}function yh(e,r){do{var i=Ke;try{if(Fa(),Wo.current=qo,Vo){for(var u=Be.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}Vo=!1}if(Yn=0,tt=Ye=Be=null,Ts=!1,Ns=0,vl.current=null,i===null||i.return===null){Qe=1,Ps=r,Ke=null;break}e:{var p=e,w=i.return,C=i,D=r;if(r=ot,C.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var U=D,V=C,H=V.tag;if((V.mode&1)===0&&(H===0||H===11||H===15)){var W=V.alternate;W?(V.updateQueue=W.updateQueue,V.memoizedState=W.memoizedState,V.lanes=W.lanes):(V.updateQueue=null,V.memoizedState=null)}var ee=zd(w);if(ee!==null){ee.flags&=-257,Wd(ee,w,C,p,r),ee.mode&1&&Bd(p,U,r),r=ee,D=U;var re=r.updateQueue;if(re===null){var oe=new Set;oe.add(D),r.updateQueue=oe}else re.add(D);break e}else{if((r&1)===0){Bd(p,U,r),kl();break e}D=Error(s(426))}}else if(Ue&&C.mode&1){var qe=zd(w);if(qe!==null){(qe.flags&65536)===0&&(qe.flags|=256),Wd(qe,w,C,p,r),Ua(Or(D,C));break e}}p=D=Or(D,C),Qe!==4&&(Qe=2),Ls===null?Ls=[p]:Ls.push(p),p=w;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var L=Md(p,D,r);hd(p,L);break e;case 1:C=D;var I=p.type,$=p.stateNode;if((p.flags&128)===0&&(typeof I.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(In===null||!In.has($)))){p.flags|=65536,r&=-r,p.lanes|=r;var G=Fd(p,C,r);hd(p,G);break e}}p=p.return}while(p!==null)}xh(i)}catch(ie){r=ie,Ke===i&&i!==null&&(Ke=i=i.return);continue}break}while(!0)}function vh(){var e=Zo.current;return Zo.current=qo,e===null?qo:e}function kl(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),nt===null||(Qn&268435455)===0&&(ei&268435455)===0||$n(nt,ot)}function ii(e,r){var i=Ee;Ee|=2;var u=vh();(nt!==e||ot!==r)&&(pn=null,Zn(e,r));do try{Pm();break}catch(h){yh(e,h)}while(!0);if(Fa(),Ee=i,Zo.current=u,Ke!==null)throw Error(s(261));return nt=null,ot=0,Qe}function Pm(){for(;Ke!==null;)wh(Ke)}function Lm(){for(;Ke!==null&&!ag();)wh(Ke)}function wh(e){var r=Sh(e.alternate,e,Rt);e.memoizedProps=e.pendingProps,r===null?xh(e):Ke=r,vl.current=null}function xh(e){var r=e;do{var i=r.alternate;if(e=r.return,(r.flags&32768)===0){if(i=Rm(i,r,Rt),i!==null){Ke=i;return}}else{if(i=Tm(i,r),i!==null){i.flags&=32767,Ke=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qe=6,Ke=null;return}}if(r=r.sibling,r!==null){Ke=r;return}Ke=r=e}while(r!==null);Qe===0&&(Qe=5)}function er(e,r,i){var u=Oe,h=Ut.transition;try{Ut.transition=null,Oe=1,$m(e,r,i,u)}finally{Ut.transition=h,Oe=u}return null}function $m(e,r,i,u){do Pr();while(Pn!==null);if((Ee&6)!==0)throw Error(s(327));i=e.finishedWork;var h=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var p=i.lanes|i.childLanes;if(yg(e,p),e===nt&&(Ke=nt=null,ot=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||ni||(ni=!0,Eh(uo,function(){return Pr(),null})),p=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||p){p=Ut.transition,Ut.transition=null;var w=Oe;Oe=1;var C=Ee;Ee|=4,vl.current=null,Om(e,i),ch(i,e),rm(ka),yo=!!Ca,ka=Ca=null,e.current=i,Am(i),lg(),Ee=C,Oe=w,Ut.transition=p}else e.current=i;if(ni&&(ni=!1,Pn=e,ri=h),p=e.pendingLanes,p===0&&(In=null),dg(i.stateNode),wt(e,Je()),r!==null)for(u=e.onRecoverableError,i=0;i<r.length;i++)h=r[i],u(h.value,{componentStack:h.stack,digest:h.digest});if(ti)throw ti=!1,e=bl,bl=null,e;return(ri&1)!==0&&e.tag!==0&&Pr(),p=e.pendingLanes,(p&1)!==0?e===_l?$s++:($s=0,_l=e):$s=0,Nn(),null}function Pr(){if(Pn!==null){var e=lc(ri),r=Ut.transition,i=Oe;try{if(Ut.transition=null,Oe=16>e?16:e,Pn===null)var u=!1;else{if(e=Pn,Pn=null,ri=0,(Ee&6)!==0)throw Error(s(331));var h=Ee;for(Ee|=4,ne=e.current;ne!==null;){var p=ne,w=p.child;if((ne.flags&16)!==0){var C=p.deletions;if(C!==null){for(var D=0;D<C.length;D++){var U=C[D];for(ne=U;ne!==null;){var V=ne;switch(V.tag){case 0:case 11:case 15:Is(8,V,p)}var H=V.child;if(H!==null)H.return=V,ne=H;else for(;ne!==null;){V=ne;var W=V.sibling,ee=V.return;if(oh(V),V===U){ne=null;break}if(W!==null){W.return=ee,ne=W;break}ne=ee}}}var re=p.alternate;if(re!==null){var oe=re.child;if(oe!==null){re.child=null;do{var qe=oe.sibling;oe.sibling=null,oe=qe}while(oe!==null)}}ne=p}}if((p.subtreeFlags&2064)!==0&&w!==null)w.return=p,ne=w;else e:for(;ne!==null;){if(p=ne,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:Is(9,p,p.return)}var L=p.sibling;if(L!==null){L.return=p.return,ne=L;break e}ne=p.return}}var I=e.current;for(ne=I;ne!==null;){w=ne;var $=w.child;if((w.subtreeFlags&2064)!==0&&$!==null)$.return=w,ne=$;else e:for(w=I;ne!==null;){if(C=ne,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:Xo(9,C)}}catch(ie){Ve(C,C.return,ie)}if(C===w){ne=null;break e}var G=C.sibling;if(G!==null){G.return=C.return,ne=G;break e}ne=C.return}}if(Ee=h,Nn(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(co,e)}catch{}u=!0}return u}finally{Oe=i,Ut.transition=r}}return!1}function bh(e,r,i){r=Or(i,r),r=Md(e,r,1),e=An(e,r,1),r=pt(),e!==null&&(as(e,1,r),wt(e,r))}function Ve(e,r,i){if(e.tag===3)bh(e,e,i);else for(;r!==null;){if(r.tag===3){bh(r,e,i);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(In===null||!In.has(u))){e=Or(i,e),e=Fd(r,e,1),r=An(r,e,1),e=pt(),r!==null&&(as(r,1,e),wt(r,e));break}}r=r.return}}function Um(e,r,i){var u=e.pingCache;u!==null&&u.delete(r),r=pt(),e.pingedLanes|=e.suspendedLanes&i,nt===e&&(ot&i)===i&&(Qe===4||Qe===3&&(ot&130023424)===ot&&500>Je()-xl?Zn(e,0):wl|=i),wt(e,r)}function _h(e,r){r===0&&((e.mode&1)===0?r=1:(r=fo,fo<<=1,(fo&130023424)===0&&(fo=4194304)));var i=pt();e=dn(e,r),e!==null&&(as(e,r,i),wt(e,i))}function Mm(e){var r=e.memoizedState,i=0;r!==null&&(i=r.retryLane),_h(e,i)}function Fm(e,r){var i=0;switch(e.tag){case 13:var u=e.stateNode,h=e.memoizedState;h!==null&&(i=h.retryLane);break;case 19:u=e.stateNode;break;default:throw Error(s(314))}u!==null&&u.delete(r),_h(e,i)}var Sh;Sh=function(e,r,i){if(e!==null)if(e.memoizedProps!==r.pendingProps||gt.current)yt=!0;else{if((e.lanes&i)===0&&(r.flags&128)===0)return yt=!1,km(e,r,i);yt=(e.flags&131072)!==0}else yt=!1,Ue&&(r.flags&1048576)!==0&&nd(r,Po,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;Yo(e,r),e=r.pendingProps;var h=Sr(r,lt.current);Tr(r,i),h=Qa(null,r,u,e,h,i);var p=Xa();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,mt(u)?(p=!0,Ao(r)):p=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Va(r),h.updater=Ko,r.stateNode=h,h._reactInternals=r,sl(r,u,e,i),r=ll(null,r,u,!0,p,i)):(r.tag=0,Ue&&p&&Ia(r),ft(null,r,h,i),r=r.child),r;case 16:u=r.elementType;e:{switch(Yo(e,r),e=r.pendingProps,h=u._init,u=h(u._payload),r.type=u,h=r.tag=zm(u),e=Vt(u,e),h){case 0:r=al(null,r,u,e,i);break e;case 1:r=Gd(null,r,u,e,i);break e;case 11:r=Vd(null,r,u,e,i);break e;case 14:r=Hd(null,r,u,Vt(u.type,e),i);break e}throw Error(s(306,u,""))}return r;case 0:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Vt(u,h),al(e,r,u,h,i);case 1:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Vt(u,h),Gd(e,r,u,h,i);case 3:e:{if(Yd(r),e===null)throw Error(s(387));u=r.pendingProps,p=r.memoizedState,h=p.element,dd(e,r),Bo(r,u,null,i);var w=r.memoizedState;if(u=w.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){h=Or(Error(s(423)),r),r=Qd(e,r,u,i,h);break e}else if(u!==h){h=Or(Error(s(424)),r),r=Qd(e,r,u,i,h);break e}else for(kt=kn(r.stateNode.containerInfo.firstChild),Ct=r,Ue=!0,Wt=null,i=ud(r,null,u,i),r.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Cr(),u===h){r=fn(e,r,i);break e}ft(e,r,u,i)}r=r.child}return r;case 5:return pd(r),e===null&&$a(r),u=r.type,h=r.pendingProps,p=e!==null?e.memoizedProps:null,w=h.children,Ra(u,h)?w=null:p!==null&&Ra(u,p)&&(r.flags|=32),Kd(e,r),ft(e,r,w,i),r.child;case 6:return e===null&&$a(r),null;case 13:return Xd(e,r,i);case 4:return Ha(r,r.stateNode.containerInfo),u=r.pendingProps,e===null?r.child=kr(r,null,u,i):ft(e,r,u,i),r.child;case 11:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Vt(u,h),Vd(e,r,u,h,i);case 7:return ft(e,r,r.pendingProps,i),r.child;case 8:return ft(e,r,r.pendingProps.children,i),r.child;case 12:return ft(e,r,r.pendingProps.children,i),r.child;case 10:e:{if(u=r.type._context,h=r.pendingProps,p=r.memoizedProps,w=h.value,De(Uo,u._currentValue),u._currentValue=w,p!==null)if(zt(p.value,w)){if(p.children===h.children&&!gt.current){r=fn(e,r,i);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var C=p.dependencies;if(C!==null){w=p.child;for(var D=C.firstContext;D!==null;){if(D.context===u){if(p.tag===1){D=hn(-1,i&-i),D.tag=2;var U=p.updateQueue;if(U!==null){U=U.shared;var V=U.pending;V===null?D.next=D:(D.next=V.next,V.next=D),U.pending=D}}p.lanes|=i,D=p.alternate,D!==null&&(D.lanes|=i),za(p.return,i,r),C.lanes|=i;break}D=D.next}}else if(p.tag===10)w=p.type===r.type?null:p.child;else if(p.tag===18){if(w=p.return,w===null)throw Error(s(341));w.lanes|=i,C=w.alternate,C!==null&&(C.lanes|=i),za(w,i,r),w=p.sibling}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===r){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}ft(e,r,h.children,i),r=r.child}return r;case 9:return h=r.type,u=r.pendingProps.children,Tr(r,i),h=Lt(h),u=u(h),r.flags|=1,ft(e,r,u,i),r.child;case 14:return u=r.type,h=Vt(u,r.pendingProps),h=Vt(u.type,h),Hd(e,r,u,h,i);case 15:return Jd(e,r,r.type,r.pendingProps,i);case 17:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Vt(u,h),Yo(e,r),r.tag=1,mt(u)?(e=!0,Ao(r)):e=!1,Tr(r,i),$d(r,u,h),sl(r,u,h,i),ll(null,r,u,!0,e,i);case 19:return eh(e,r,i);case 22:return qd(e,r,i)}throw Error(s(156,r.tag))};function Eh(e,r){return rc(e,r)}function Bm(e,r,i,u){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(e,r,i,u){return new Bm(e,r,i,u)}function Rl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zm(e){if(typeof e=="function")return Rl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Te)return 11;if(e===We)return 14}return 2}function Un(e,r){var i=e.alternate;return i===null?(i=Mt(e.tag,r,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=r,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,r=e.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function ai(e,r,i,u,h,p){var w=2;if(u=e,typeof e=="function")Rl(e)&&(w=1);else if(typeof e=="string")w=5;else e:switch(e){case Q:return tr(i.children,h,p,r);case X:w=8,h|=8;break;case q:return e=Mt(12,i,r,h|2),e.elementType=q,e.lanes=p,e;case Pe:return e=Mt(13,i,r,h),e.elementType=Pe,e.lanes=p,e;case je:return e=Mt(19,i,r,h),e.elementType=je,e.lanes=p,e;case ke:return li(i,h,p,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case me:w=10;break e;case Ae:w=9;break e;case Te:w=11;break e;case We:w=14;break e;case _e:w=16,u=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return r=Mt(w,i,r,h),r.elementType=e,r.type=u,r.lanes=p,r}function tr(e,r,i,u){return e=Mt(7,e,u,r),e.lanes=i,e}function li(e,r,i,u){return e=Mt(22,e,u,r),e.elementType=ke,e.lanes=i,e.stateNode={isHidden:!1},e}function Tl(e,r,i){return e=Mt(6,e,null,r),e.lanes=i,e}function Nl(e,r,i){return r=Mt(4,e.children!==null?e.children:[],e.key,r),r.lanes=i,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function Wm(e,r,i,u,h){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ra(0),this.expirationTimes=ra(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ra(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Ol(e,r,i,u,h,p,w,C,D){return e=new Wm(e,r,i,C,D),r===1?(r=1,p===!0&&(r|=8)):r=0,p=Mt(3,null,null,r),e.current=p,p.stateNode=e,p.memoizedState={element:u,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Va(p),e}function Vm(e,r,i){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:u==null?null:""+u,children:e,containerInfo:r,implementation:i}}function jh(e){if(!e)return Tn;e=e._reactInternals;e:{if(Wn(e)!==e||e.tag!==1)throw Error(s(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(mt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(s(171))}if(e.tag===1){var i=e.type;if(mt(i))return Zc(e,i,r)}return r}function Ch(e,r,i,u,h,p,w,C,D){return e=Ol(i,u,!0,e,h,p,w,C,D),e.context=jh(null),i=e.current,u=pt(),h=Ln(i),p=hn(u,h),p.callback=r??null,An(i,p,h),e.current.lanes=h,as(e,h,u),wt(e,u),e}function ui(e,r,i,u){var h=r.current,p=pt(),w=Ln(h);return i=jh(i),r.context===null?r.context=i:r.pendingContext=i,r=hn(p,w),r.payload={element:e},u=u===void 0?null:u,u!==null&&(r.callback=u),e=An(h,r,w),e!==null&&(qt(e,h,w,p),Fo(e,h,w)),w}function ci(e){return e=e.current,e.child?(e.child.tag===5,e.child.stateNode):null}function kh(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<r?i:r}}function Al(e,r){kh(e,r),(e=e.alternate)&&kh(e,r)}function Hm(){return null}var Rh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Dl(e){this._internalRoot=e}di.prototype.render=Dl.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(s(409));ui(e,r,null,null)},di.prototype.unmount=Dl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;Xn(function(){ui(null,e,null,null)}),r[an]=null}};function di(e){this._internalRoot=e}di.prototype.unstable_scheduleHydration=function(e){if(e){var r=dc();e={blockedOn:null,target:e,priority:r};for(var i=0;i<En.length&&r!==0&&r<En[i].priority;i++);En.splice(i,0,e),i===0&&pc(e)}};function Il(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Th(){}function Jm(e,r,i,u,h){if(h){if(typeof u=="function"){var p=u;u=function(){var U=ci(w);p.call(U)}}var w=Ch(r,u,e,0,null,!1,!1,"",Th);return e._reactRootContainer=w,e[an]=w.current,bs(e.nodeType===8?e.parentNode:e),Xn(),w}for(;h=e.lastChild;)e.removeChild(h);if(typeof u=="function"){var C=u;u=function(){var U=ci(D);C.call(U)}}var D=Ol(e,0,!1,null,null,!1,!1,"",Th);return e._reactRootContainer=D,e[an]=D.current,bs(e.nodeType===8?e.parentNode:e),Xn(function(){ui(r,D,i,u)}),D}function fi(e,r,i,u,h){var p=i._reactRootContainer;if(p){var w=p;if(typeof h=="function"){var C=h;h=function(){var D=ci(w);C.call(D)}}ui(r,w,e,h)}else w=Jm(i,r,e,h,u);return ci(w)}uc=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var i=is(r.pendingLanes);i!==0&&(sa(r,i|1),wt(r,Je()),(Ee&6)===0&&(Ir=Je()+500,Nn()))}break;case 13:Xn(function(){var u=dn(e,1);if(u!==null){var h=pt();qt(u,e,1,h)}}),Al(e,1)}},oa=function(e){if(e.tag===13){var r=dn(e,134217728);if(r!==null){var i=pt();qt(r,e,134217728,i)}Al(e,134217728)}},cc=function(e){if(e.tag===13){var r=Ln(e),i=dn(e,r);if(i!==null){var u=pt();qt(i,e,r,u)}Al(e,r)}},dc=function(){return Oe},hc=function(e,r){var i=Oe;try{return Oe=e,r()}finally{Oe=i}},Qi=function(e,r,i){switch(r){case"input":if(zn(e,i),r=i.name,i.type==="radio"&&r!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<i.length;r++){var u=i[r];if(u!==e&&u.form===e.form){var h=No(u);if(!h)throw Error(s(90));Ne(u),zn(u,h)}}}break;case"textarea":Bu(e,i);break;case"select":r=i.value,r!=null&&dr(e,!!i.multiple,r,!1)}},Yu=jl,Qu=Xn;var qm={usingClientEntryPoint:!1,Events:[Es,br,No,Ku,Gu,jl]},Us={findFiberByHostInstance:Vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Km={bundleType:Us.bundleType,version:Us.version,rendererPackageName:Us.rendererPackageName,rendererConfig:Us.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=tc(e),e===null?null:e.stateNode},findFiberByHostInstance:Us.findFiberByHostInstance||Hm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pi.isDisabled&&pi.supportsFiber)try{co=pi.inject(Km),Zt=pi}catch{}}return xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qm,xt.createPortal=function(e,r){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Il(r))throw Error(s(200));return Vm(e,r,null,i)},xt.createRoot=function(e,r){if(!Il(e))throw Error(s(299));var i=!1,u="",h=Rh;return r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=Ol(e,1,!1,null,null,i,!1,u,h),e[an]=r.current,bs(e.nodeType===8?e.parentNode:e),new Dl(r)},xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=tc(r),e=e===null?null:e.stateNode,e},xt.flushSync=function(e){return Xn(e)},xt.hydrate=function(e,r,i){if(!hi(r))throw Error(s(200));return fi(null,e,r,!0,i)},xt.hydrateRoot=function(e,r,i){if(!Il(e))throw Error(s(405));var u=i!=null&&i.hydratedSources||null,h=!1,p="",w=Rh;if(i!=null&&(i.unstable_strictMode===!0&&(h=!0),i.identifierPrefix!==void 0&&(p=i.identifierPrefix),i.onRecoverableError!==void 0&&(w=i.onRecoverableError)),r=Ch(r,null,e,1,i??null,h,!1,p,w),e[an]=r.current,bs(e),u)for(e=0;e<u.length;e++)i=u[e],h=i._getVersion,h=h(i._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[i,h]:r.mutableSourceEagerHydrationData.push(i,h);return new di(r)},xt.render=function(e,r,i){if(!hi(r))throw Error(s(200));return fi(null,e,r,!1,i)},xt.unmountComponentAtNode=function(e){if(!hi(e))throw Error(s(40));return e._reactRootContainer?(Xn(function(){fi(null,null,e,!1,function(){e._reactRootContainer=null,e[an]=null})}),!0):!1},xt.unstable_batchedUpdates=jl,xt.unstable_renderSubtreeIntoContainer=function(e,r,i,u){if(!hi(i))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return fi(e,r,i,!1,u)},xt.version="18.3.1-next-f1338f8080-20240426",xt}var $h;function ny(){if($h)return $l.exports;$h=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),$l.exports=ty(),$l.exports}var Uh;function ry(){if(Uh)return gi;Uh=1;var n=ny();return gi.createRoot=n.createRoot,gi.hydrateRoot=n.hydrateRoot,gi}var sy=ry();const oy=Hf(sy);var Mh="popstate";function iy(n={}){function t(o,a){let{pathname:c,search:d,hash:f}=o.location;return nu("",{pathname:c,search:d,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(o,a){return typeof a=="string"?a:Hs(a)}return ly(t,s,null,n)}function Me(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Ft(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ay(){return Math.random().toString(36).substring(2,10)}function Fh(n,t){return{usr:n.state,key:n.key,idx:t}}function nu(n,t,s=null,o){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Yr(t):t,state:s,key:t&&t.key||o||ay()}}function Hs({pathname:n="/",search:t="",hash:s=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(n+=s.charAt(0)==="#"?s:"#"+s),n}function Yr(n){let t={};if(n){let s=n.indexOf("#");s>=0&&(t.hash=n.substring(s),n=n.substring(0,s));let o=n.indexOf("?");o>=0&&(t.search=n.substring(o),n=n.substring(0,o)),n&&(t.pathname=n)}return t}function ly(n,t,s,o={}){let{window:a=document.defaultView,v5Compat:c=!1}=o,d=a.history,f="POP",g=null,m=y();m==null&&(m=0,d.replaceState({...d.state,idx:m},""));function y(){return(d.state||{idx:null}).idx}function b(){f="POP";let x=y(),T=x==null?null:x-m;m=x,g&&g({action:f,location:_.location,delta:T})}function j(x,T){f="PUSH";let N=nu(_.location,x,T);m=y()+1;let A=Fh(N,m),F=_.createHref(N);try{d.pushState(A,"",F)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;a.location.assign(F)}c&&g&&g({action:f,location:_.location,delta:1})}function k(x,T){f="REPLACE";let N=nu(_.location,x,T);m=y();let A=Fh(N,m),F=_.createHref(N);d.replaceState(A,"",F),c&&g&&g({action:f,location:_.location,delta:0})}function v(x){return uy(x)}let _={get action(){return f},get location(){return n(a,d)},listen(x){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(Mh,b),g=x,()=>{a.removeEventListener(Mh,b),g=null}},createHref(x){return t(a,x)},createURL:v,encodeLocation(x){let T=v(x);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:j,replace:k,go(x){return d.go(x)}};return _}function uy(n,t=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Me(s,"No window.location.(origin|href) available to create URL");let o=typeof n=="string"?n:Hs(n);return o=o.replace(/ $/,"%20"),!t&&o.startsWith("//")&&(o=s+o),new URL(o,s)}function qf(n,t,s="/"){return cy(n,t,s,!1)}function cy(n,t,s,o){let a=typeof t=="string"?Yr(t):t,c=yn(a.pathname||"/",s);if(c==null)return null;let d=Kf(n);dy(d);let f=null;for(let g=0;f==null&&g<d.length;++g){let m=_y(c);f=xy(d[g],m,o)}return f}function Kf(n,t=[],s=[],o="",a=!1){let c=(d,f,g=a,m)=>{let y={relativePath:m===void 0?d.path||"":m,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(o)&&g)return;Me(y.relativePath.startsWith(o),`Absolute route path "${y.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(o.length)}let b=mn([o,y.relativePath]),j=s.concat(y);d.children&&d.children.length>0&&(Me(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),Kf(d.children,t,j,b,g)),!(d.path==null&&!d.index)&&t.push({path:b,score:vy(b,d.index),routesMeta:j})};return n.forEach((d,f)=>{if(d.path===""||!d.path?.includes("?"))c(d,f);else for(let g of Gf(d.path))c(d,f,!0,g)}),t}function Gf(n){let t=n.split("/");if(t.length===0)return[];let[s,...o]=t,a=s.endsWith("?"),c=s.replace(/\?$/,"");if(o.length===0)return a?[c,""]:[c];let d=Gf(o.join("/")),f=[];return f.push(...d.map(g=>g===""?c:[c,g].join("/"))),a&&f.push(...d),f.map(g=>n.startsWith("/")&&g===""?"/":g)}function dy(n){n.sort((t,s)=>t.score!==s.score?s.score-t.score:wy(t.routesMeta.map(o=>o.childrenIndex),s.routesMeta.map(o=>o.childrenIndex)))}var hy=/^:[\w-]+$/,fy=3,py=2,gy=1,my=10,yy=-2,Bh=n=>n==="*";function vy(n,t){let s=n.split("/"),o=s.length;return s.some(Bh)&&(o+=yy),t&&(o+=py),s.filter(a=>!Bh(a)).reduce((a,c)=>a+(hy.test(c)?fy:c===""?gy:my),o)}function wy(n,t){return n.length===t.length&&n.slice(0,-1).every((o,a)=>o===t[a])?n[n.length-1]-t[t.length-1]:0}function xy(n,t,s=!1){let{routesMeta:o}=n,a={},c="/",d=[];for(let f=0;f<o.length;++f){let g=o[f],m=f===o.length-1,y=c==="/"?t:t.slice(c.length)||"/",b=Ni({path:g.relativePath,caseSensitive:g.caseSensitive,end:m},y),j=g.route;if(!b&&m&&s&&!o[o.length-1].route.index&&(b=Ni({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},y)),!b)return null;Object.assign(a,b.params),d.push({params:a,pathname:mn([c,b.pathname]),pathnameBase:Cy(mn([c,b.pathnameBase])),route:j}),b.pathnameBase!=="/"&&(c=mn([c,b.pathnameBase]))}return d}function Ni(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[s,o]=by(n.path,n.caseSensitive,n.end),a=t.match(s);if(!a)return null;let c=a[0],d=c.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:o.reduce((m,{paramName:y,isOptional:b},j)=>{if(y==="*"){let v=f[j]||"";d=c.slice(0,c.length-v.length).replace(/(.)\/+$/,"$1")}const k=f[j];return b&&!k?m[y]=void 0:m[y]=(k||"").replace(/%2F/g,"/"),m},{}),pathname:c,pathnameBase:d,pattern:n}}function by(n,t=!1,s=!0){Ft(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let o=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,g)=>(o.push({paramName:f,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(o.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),o]}function _y(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ft(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function yn(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,o=n.charAt(s);return o&&o!=="/"?null:n.slice(s)||"/"}var Yf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sy=n=>Yf.test(n);function Ey(n,t="/"){let{pathname:s,search:o="",hash:a=""}=typeof n=="string"?Yr(n):n,c;if(s)if(Sy(s))c=s;else{if(s.includes("//")){let d=s;s=s.replace(/\/\/+/g,"/"),Ft(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${s}`)}s.startsWith("/")?c=zh(s.substring(1),"/"):c=zh(s,t)}else c=t;return{pathname:c,search:ky(o),hash:Ry(a)}}function zh(n,t){let s=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function Fl(n,t,s,o){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jy(n){return n.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function bu(n){let t=jy(n);return t.map((s,o)=>o===t.length-1?s.pathname:s.pathnameBase)}function _u(n,t,s,o=!1){let a;typeof n=="string"?a=Yr(n):(a={...n},Me(!a.pathname||!a.pathname.includes("?"),Fl("?","pathname","search",a)),Me(!a.pathname||!a.pathname.includes("#"),Fl("#","pathname","hash",a)),Me(!a.search||!a.search.includes("#"),Fl("#","search","hash",a)));let c=n===""||a.pathname==="",d=c?"/":a.pathname,f;if(d==null)f=s;else{let b=t.length-1;if(!o&&d.startsWith("..")){let j=d.split("/");for(;j[0]==="..";)j.shift(),b-=1;a.pathname=j.join("/")}f=b>=0?t[b]:"/"}let g=Ey(a,f),m=d&&d!=="/"&&d.endsWith("/"),y=(c||d===".")&&s.endsWith("/");return!g.pathname.endsWith("/")&&(m||y)&&(g.pathname+="/"),g}var mn=n=>n.join("/").replace(/\/\/+/g,"/"),Cy=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),ky=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Ry=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Ty=class{constructor(n,t,s,o=!1){this.status=n,this.statusText=t||"",this.internal=o,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function Ny(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function Oy(n){return n.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Qf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Xf(n,t){let s=n;if(typeof s!="string"||!Yf.test(s))return{absoluteURL:void 0,isExternal:!1,to:s};let o=s,a=!1;if(Qf)try{let c=new URL(window.location.href),d=s.startsWith("//")?new URL(c.protocol+s):new URL(s),f=yn(d.pathname,t);d.origin===c.origin&&f!=null?s=f+d.search+d.hash:a=!0}catch{Ft(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:o,isExternal:a,to:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Zf=["POST","PUT","PATCH","DELETE"];new Set(Zf);var Ay=["GET",...Zf];new Set(Ay);var Qr=S.createContext(null);Qr.displayName="DataRouter";var Pi=S.createContext(null);Pi.displayName="DataRouterState";var Dy=S.createContext(!1),ep=S.createContext({isTransitioning:!1});ep.displayName="ViewTransition";var Iy=S.createContext(new Map);Iy.displayName="Fetchers";var Py=S.createContext(null);Py.displayName="Await";var At=S.createContext(null);At.displayName="Navigation";var Xs=S.createContext(null);Xs.displayName="Location";var on=S.createContext({outlet:null,matches:[],isDataRoute:!1});on.displayName="Route";var Su=S.createContext(null);Su.displayName="RouteError";var tp="REACT_ROUTER_ERROR",Ly="REDIRECT",$y="ROUTE_ERROR_RESPONSE";function Uy(n){if(n.startsWith(`${tp}:${Ly}:{`))try{let t=JSON.parse(n.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function My(n){if(n.startsWith(`${tp}:${$y}:{`))try{let t=JSON.parse(n.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new Ty(t.status,t.statusText,t.data)}catch{}}function Fy(n,{relative:t}={}){Me(Xr(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:o}=S.useContext(At),{hash:a,pathname:c,search:d}=Zs(n,{relative:t}),f=c;return s!=="/"&&(f=c==="/"?s:mn([s,c])),o.createHref({pathname:f,search:d,hash:a})}function Xr(){return S.useContext(Xs)!=null}function vn(){return Me(Xr(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Xs).location}var np="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rp(n){S.useContext(At).static||S.useLayoutEffect(n)}function Eu(){let{isDataRoute:n}=S.useContext(on);return n?Zy():By()}function By(){Me(Xr(),"useNavigate() may be used only in the context of a <Router> component.");let n=S.useContext(Qr),{basename:t,navigator:s}=S.useContext(At),{matches:o}=S.useContext(on),{pathname:a}=vn(),c=JSON.stringify(bu(o)),d=S.useRef(!1);return rp(()=>{d.current=!0}),S.useCallback((g,m={})=>{if(Ft(d.current,np),!d.current)return;if(typeof g=="number"){s.go(g);return}let y=_u(g,JSON.parse(c),a,m.relative==="path");n==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:mn([t,y.pathname])),(m.replace?s.replace:s.push)(y,m.state,m)},[t,s,c,a,n])}S.createContext(null);function Zs(n,{relative:t}={}){let{matches:s}=S.useContext(on),{pathname:o}=vn(),a=JSON.stringify(bu(s));return S.useMemo(()=>_u(n,JSON.parse(a),o,t==="path"),[n,a,o,t])}function zy(n,t){return sp(n,t)}function sp(n,t,s,o,a){Me(Xr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=S.useContext(At),{matches:d}=S.useContext(on),f=d[d.length-1],g=f?f.params:{},m=f?f.pathname:"/",y=f?f.pathnameBase:"/",b=f&&f.route;{let N=b&&b.path||"";ip(m,!b||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let j=vn(),k;if(t){let N=typeof t=="string"?Yr(t):t;Me(y==="/"||N.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${N.pathname}" was given in the \`location\` prop.`),k=N}else k=j;let v=k.pathname||"/",_=v;if(y!=="/"){let N=y.replace(/^\//,"").split("/");_="/"+v.replace(/^\//,"").split("/").slice(N.length).join("/")}let x=qf(n,{pathname:_});Ft(b||x!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Ft(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=qy(x&&x.map(N=>Object.assign({},N,{params:Object.assign({},g,N.params),pathname:mn([y,c.encodeLocation?c.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?y:mn([y,c.encodeLocation?c.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),d,s,o,a);return t&&T?S.createElement(Xs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},T):T}function Wy(){let n=Xy(),t=Ny(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),s=n instanceof Error?n.stack:null,o="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:o},c={padding:"2px 4px",backgroundColor:o},d=null;return console.error("Error handled by React Router default ErrorBoundary:",n),d=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:c},"ErrorBoundary")," or"," ",S.createElement("code",{style:c},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),s?S.createElement("pre",{style:a},s):null,d)}var Vy=S.createElement(Wy,null),op=class extends S.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const s=My(n.digest);s&&(n=s)}let t=n!==void 0?S.createElement(on.Provider,{value:this.props.routeContext},S.createElement(Su.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?S.createElement(Hy,{error:n},t):t}};op.contextType=Dy;var Bl=new WeakMap;function Hy({children:n,error:t}){let{basename:s}=S.useContext(At);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let o=Uy(t.digest);if(o){let a=Bl.get(t);if(a)throw a;let c=Xf(o.location,s);if(Qf&&!Bl.get(t))if(c.isExternal||o.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:o.replace}));throw Bl.set(t,d),d}return S.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return n}function Jy({routeContext:n,match:t,children:s}){let o=S.useContext(Qr);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement(on.Provider,{value:n},s)}function qy(n,t=[],s=null,o=null,a=null){if(n==null){if(!s)return null;if(s.errors)n=s.matches;else if(t.length===0&&!s.initialized&&s.matches.length>0)n=s.matches;else return null}let c=n,d=s?.errors;if(d!=null){let y=c.findIndex(b=>b.route.id&&d?.[b.route.id]!==void 0);Me(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,y+1))}let f=!1,g=-1;if(s)for(let y=0;y<c.length;y++){let b=c[y];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=y),b.route.id){let{loaderData:j,errors:k}=s,v=b.route.loader&&!j.hasOwnProperty(b.route.id)&&(!k||k[b.route.id]===void 0);if(b.route.lazy||v){f=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let m=s&&o?(y,b)=>{o(y,{location:s.location,params:s.matches?.[0]?.params??{},unstable_pattern:Oy(s.matches),errorInfo:b})}:void 0;return c.reduceRight((y,b,j)=>{let k,v=!1,_=null,x=null;s&&(k=d&&b.route.id?d[b.route.id]:void 0,_=b.route.errorElement||Vy,f&&(g<0&&j===0?(ip("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,x=null):g===j&&(v=!0,x=b.route.hydrateFallbackElement||null)));let T=t.concat(c.slice(0,j+1)),N=()=>{let A;return k?A=_:v?A=x:b.route.Component?A=S.createElement(b.route.Component,null):b.route.element?A=b.route.element:A=y,S.createElement(Jy,{match:b,routeContext:{outlet:y,matches:T,isDataRoute:s!=null},children:A})};return s&&(b.route.ErrorBoundary||b.route.errorElement||j===0)?S.createElement(op,{location:s.location,revalidation:s.revalidation,component:_,error:k,children:N(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:m}):N()},null)}function ju(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ky(n){let t=S.useContext(Qr);return Me(t,ju(n)),t}function Gy(n){let t=S.useContext(Pi);return Me(t,ju(n)),t}function Yy(n){let t=S.useContext(on);return Me(t,ju(n)),t}function Cu(n){let t=Yy(n),s=t.matches[t.matches.length-1];return Me(s.route.id,`${n} can only be used on routes that contain a unique "id"`),s.route.id}function Qy(){return Cu("useRouteId")}function Xy(){let n=S.useContext(Su),t=Gy("useRouteError"),s=Cu("useRouteError");return n!==void 0?n:t.errors?.[s]}function Zy(){let{router:n}=Ky("useNavigate"),t=Cu("useNavigate"),s=S.useRef(!1);return rp(()=>{s.current=!0}),S.useCallback(async(a,c={})=>{Ft(s.current,np),s.current&&(typeof a=="number"?await n.navigate(a):await n.navigate(a,{fromRouteId:t,...c}))},[n,t])}var Wh={};function ip(n,t,s){!t&&!Wh[n]&&(Wh[n]=!0,Ft(!1,s))}S.memo(ev);function ev({routes:n,future:t,state:s,onError:o}){return sp(n,void 0,s,o,t)}function tv({to:n,replace:t,state:s,relative:o}){Me(Xr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=S.useContext(At);Ft(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=S.useContext(on),{pathname:d}=vn(),f=Eu(),g=_u(n,bu(c),d,o==="path"),m=JSON.stringify(g);return S.useEffect(()=>{f(JSON.parse(m),{replace:t,state:s,relative:o})},[f,m,o,t,s]),null}function zr(n){Me(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nv({basename:n="/",children:t=null,location:s,navigationType:o="POP",navigator:a,static:c=!1,unstable_useTransitions:d}){Me(!Xr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),g=S.useMemo(()=>({basename:f,navigator:a,static:c,unstable_useTransitions:d,future:{}}),[f,a,c,d]);typeof s=="string"&&(s=Yr(s));let{pathname:m="/",search:y="",hash:b="",state:j=null,key:k="default"}=s,v=S.useMemo(()=>{let _=yn(m,f);return _==null?null:{location:{pathname:_,search:y,hash:b,state:j,key:k},navigationType:o}},[f,m,y,b,j,k,o]);return Ft(v!=null,`<Router basename="${f}"> is not able to match the URL "${m}${y}${b}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:S.createElement(At.Provider,{value:g},S.createElement(Xs.Provider,{children:t,value:v}))}function rv({children:n,location:t}){return zy(ru(n),t)}function ru(n,t=[]){let s=[];return S.Children.forEach(n,(o,a)=>{if(!S.isValidElement(o))return;let c=[...t,a];if(o.type===S.Fragment){s.push.apply(s,ru(o.props.children,c));return}Me(o.type===zr,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Me(!o.props.index||!o.props.children,"An index route cannot have child routes.");let d={id:o.props.id||c.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(d.children=ru(o.props.children,c)),s.push(d)}),s}var ji="get",Ci="application/x-www-form-urlencoded";function Li(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function sv(n){return Li(n)&&n.tagName.toLowerCase()==="button"}function ov(n){return Li(n)&&n.tagName.toLowerCase()==="form"}function iv(n){return Li(n)&&n.tagName.toLowerCase()==="input"}function av(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function lv(n,t){return n.button===0&&(!t||t==="_self")&&!av(n)}var mi=null;function uv(){if(mi===null)try{new FormData(document.createElement("form"),0),mi=!1}catch{mi=!0}return mi}var cv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zl(n){return n!=null&&!cv.has(n)?(Ft(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ci}"`),null):n}function dv(n,t){let s,o,a,c,d;if(ov(n)){let f=n.getAttribute("action");o=f?yn(f,t):null,s=n.getAttribute("method")||ji,a=zl(n.getAttribute("enctype"))||Ci,c=new FormData(n)}else if(sv(n)||iv(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=n.getAttribute("formaction")||f.getAttribute("action");if(o=g?yn(g,t):null,s=n.getAttribute("formmethod")||f.getAttribute("method")||ji,a=zl(n.getAttribute("formenctype"))||zl(f.getAttribute("enctype"))||Ci,c=new FormData(f,n),!uv()){let{name:m,type:y,value:b}=n;if(y==="image"){let j=m?`${m}.`:"";c.append(`${j}x`,"0"),c.append(`${j}y`,"0")}else m&&c.append(m,b)}}else{if(Li(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=ji,o=null,a=Ci,d=n}return c&&a==="text/plain"&&(d=c,c=void 0),{action:o,method:s.toLowerCase(),encType:a,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ku(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function hv(n,t,s){let o=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return o.pathname==="/"?o.pathname=`_root.${s}`:t&&yn(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function fv(n,t){if(n.id in t)return t[n.id];try{let s=await import(n.module);return t[n.id]=s,s}catch(s){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pv(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function gv(n,t,s){let o=await Promise.all(n.map(async a=>{let c=t.routes[a.route.id];if(c){let d=await fv(c,s);return d.links?d.links():[]}return[]}));return wv(o.flat(1).filter(pv).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Vh(n,t,s,o,a,c){let d=(g,m)=>s[m]?g.route.id!==s[m].route.id:!0,f=(g,m)=>s[m].pathname!==g.pathname||s[m].route.path?.endsWith("*")&&s[m].params["*"]!==g.params["*"];return c==="assets"?t.filter((g,m)=>d(g,m)||f(g,m)):c==="data"?t.filter((g,m)=>{let y=o.routes[g.route.id];if(!y||!y.hasLoader)return!1;if(d(g,m)||f(g,m))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function mv(n,t,{includeHydrateFallback:s}={}){return yv(n.map(o=>{let a=t.routes[o.route.id];if(!a)return[];let c=[a.module];return a.clientActionModule&&(c=c.concat(a.clientActionModule)),a.clientLoaderModule&&(c=c.concat(a.clientLoaderModule)),s&&a.hydrateFallbackModule&&(c=c.concat(a.hydrateFallbackModule)),a.imports&&(c=c.concat(a.imports)),c}).flat(1))}function yv(n){return[...new Set(n)]}function vv(n){let t={},s=Object.keys(n).sort();for(let o of s)t[o]=n[o];return t}function wv(n,t){let s=new Set;return new Set(t),n.reduce((o,a)=>{let c=JSON.stringify(vv(a));return s.has(c)||(s.add(c),o.push({key:c,link:a})),o},[])}function ap(){let n=S.useContext(Qr);return ku(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function xv(){let n=S.useContext(Pi);return ku(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ru=S.createContext(void 0);Ru.displayName="FrameworkContext";function lp(){let n=S.useContext(Ru);return ku(n,"You must render this element inside a <HydratedRouter> element"),n}function bv(n,t){let s=S.useContext(Ru),[o,a]=S.useState(!1),[c,d]=S.useState(!1),{onFocus:f,onBlur:g,onMouseEnter:m,onMouseLeave:y,onTouchStart:b}=t,j=S.useRef(null);S.useEffect(()=>{if(n==="render"&&d(!0),n==="viewport"){let _=T=>{T.forEach(N=>{d(N.isIntersecting)})},x=new IntersectionObserver(_,{threshold:.5});return j.current&&x.observe(j.current),()=>{x.disconnect()}}},[n]),S.useEffect(()=>{if(o){let _=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(_)}}},[o]);let k=()=>{a(!0)},v=()=>{a(!1),d(!1)};return s?n!=="intent"?[c,j,{}]:[c,j,{onFocus:Fs(f,k),onBlur:Fs(g,v),onMouseEnter:Fs(m,k),onMouseLeave:Fs(y,v),onTouchStart:Fs(b,k)}]:[!1,j,{}]}function Fs(n,t){return s=>{n&&n(s),s.defaultPrevented||t(s)}}function _v({page:n,...t}){let{router:s}=ap(),o=S.useMemo(()=>qf(s.routes,n,s.basename),[s.routes,n,s.basename]);return o?S.createElement(Ev,{page:n,matches:o,...t}):null}function Sv(n){let{manifest:t,routeModules:s}=lp(),[o,a]=S.useState([]);return S.useEffect(()=>{let c=!1;return gv(n,t,s).then(d=>{c||a(d)}),()=>{c=!0}},[n,t,s]),o}function Ev({page:n,matches:t,...s}){let o=vn(),{manifest:a,routeModules:c}=lp(),{basename:d}=ap(),{loaderData:f,matches:g}=xv(),m=S.useMemo(()=>Vh(n,t,g,a,o,"data"),[n,t,g,a,o]),y=S.useMemo(()=>Vh(n,t,g,a,o,"assets"),[n,t,g,a,o]),b=S.useMemo(()=>{if(n===o.pathname+o.search+o.hash)return[];let v=new Set,_=!1;if(t.forEach(T=>{let N=a.routes[T.route.id];!N||!N.hasLoader||(!m.some(A=>A.route.id===T.route.id)&&T.route.id in f&&c[T.route.id]?.shouldRevalidate||N.hasClientLoader?_=!0:v.add(T.route.id))}),v.size===0)return[];let x=hv(n,d,"data");return _&&v.size>0&&x.searchParams.set("_routes",t.filter(T=>v.has(T.route.id)).map(T=>T.route.id).join(",")),[x.pathname+x.search]},[d,f,o,a,m,t,n,c]),j=S.useMemo(()=>mv(y,a),[y,a]),k=Sv(y);return S.createElement(S.Fragment,null,b.map(v=>S.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...s})),j.map(v=>S.createElement("link",{key:v,rel:"modulepreload",href:v,...s})),k.map(({key:v,link:_})=>S.createElement("link",{key:v,nonce:s.nonce,..._})))}function jv(...n){return t=>{n.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}var Cv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Cv&&(window.__reactRouterVersion="7.11.0")}catch{}function kv({basename:n,children:t,unstable_useTransitions:s,window:o}){let a=S.useRef();a.current==null&&(a.current=iy({window:o,v5Compat:!0}));let c=a.current,[d,f]=S.useState({action:c.action,location:c.location}),g=S.useCallback(m=>{s===!1?f(m):S.startTransition(()=>f(m))},[s]);return S.useLayoutEffect(()=>c.listen(g),[c,g]),S.createElement(nv,{basename:n,children:t,location:d.location,navigationType:d.action,navigator:c,unstable_useTransitions:s})}var up=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jr=S.forwardRef(function({onClick:t,discover:s="render",prefetch:o="none",relative:a,reloadDocument:c,replace:d,state:f,target:g,to:m,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:j,...k},v){let{basename:_,unstable_useTransitions:x}=S.useContext(At),T=typeof m=="string"&&up.test(m),N=Xf(m,_);m=N.to;let A=Fy(m,{relative:a}),[F,z,K]=bv(o,k),Q=Ov(m,{replace:d,state:f,target:g,preventScrollReset:y,relative:a,viewTransition:b,unstable_defaultShouldRevalidate:j,unstable_useTransitions:x});function X(me){t&&t(me),me.defaultPrevented||Q(me)}let q=S.createElement("a",{...k,...K,href:N.absoluteURL||A,onClick:N.isExternal||c?t:X,ref:jv(v,z),target:g,"data-discover":!T&&s==="render"?"true":void 0});return F&&!T?S.createElement(S.Fragment,null,q,S.createElement(_v,{page:A})):q});Jr.displayName="Link";var Rv=S.forwardRef(function({"aria-current":t="page",caseSensitive:s=!1,className:o="",end:a=!1,style:c,to:d,viewTransition:f,children:g,...m},y){let b=Zs(d,{relative:m.relative}),j=vn(),k=S.useContext(Pi),{navigator:v,basename:_}=S.useContext(At),x=k!=null&&Lv(b)&&f===!0,T=v.encodeLocation?v.encodeLocation(b).pathname:b.pathname,N=j.pathname,A=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;s||(N=N.toLowerCase(),A=A?A.toLowerCase():null,T=T.toLowerCase()),A&&_&&(A=yn(A,_)||A);const F=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let z=N===T||!a&&N.startsWith(T)&&N.charAt(F)==="/",K=A!=null&&(A===T||!a&&A.startsWith(T)&&A.charAt(T.length)==="/"),Q={isActive:z,isPending:K,isTransitioning:x},X=z?t:void 0,q;typeof o=="function"?q=o(Q):q=[o,z?"active":null,K?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let me=typeof c=="function"?c(Q):c;return S.createElement(Jr,{...m,"aria-current":X,className:q,ref:y,style:me,to:d,viewTransition:f},typeof g=="function"?g(Q):g)});Rv.displayName="NavLink";var Tv=S.forwardRef(({discover:n="render",fetcherKey:t,navigate:s,reloadDocument:o,replace:a,state:c,method:d=ji,action:f,onSubmit:g,relative:m,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:j,...k},v)=>{let{unstable_useTransitions:_}=S.useContext(At),x=Iv(),T=Pv(f,{relative:m}),N=d.toLowerCase()==="get"?"get":"post",A=typeof f=="string"&&up.test(f),F=z=>{if(g&&g(z),z.defaultPrevented)return;z.preventDefault();let K=z.nativeEvent.submitter,Q=K?.getAttribute("formmethod")||d,X=()=>x(K||z.currentTarget,{fetcherKey:t,method:Q,navigate:s,replace:a,state:c,relative:m,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:j});_&&s!==!1?S.startTransition(()=>X()):X()};return S.createElement("form",{ref:v,method:N,action:T,onSubmit:o?g:F,...k,"data-discover":!A&&n==="render"?"true":void 0})});Tv.displayName="Form";function Nv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cp(n){let t=S.useContext(Qr);return Me(t,Nv(n)),t}function Ov(n,{target:t,replace:s,state:o,preventScrollReset:a,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:f,unstable_useTransitions:g}={}){let m=Eu(),y=vn(),b=Zs(n,{relative:c});return S.useCallback(j=>{if(lv(j,t)){j.preventDefault();let k=s!==void 0?s:Hs(y)===Hs(b),v=()=>m(n,{replace:k,state:o,preventScrollReset:a,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:f});g?S.startTransition(()=>v()):v()}},[y,m,b,s,o,t,n,a,c,d,f,g])}var Av=0,Dv=()=>`__${String(++Av)}__`;function Iv(){let{router:n}=cp("useSubmit"),{basename:t}=S.useContext(At),s=Qy(),o=n.fetch,a=n.navigate;return S.useCallback(async(c,d={})=>{let{action:f,method:g,encType:m,formData:y,body:b}=dv(c,t);if(d.navigate===!1){let j=d.fetcherKey||Dv();await o(j,s,d.action||f,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:y,body:b,formMethod:d.method||g,formEncType:d.encType||m,flushSync:d.flushSync})}else await a(d.action||f,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:y,body:b,formMethod:d.method||g,formEncType:d.encType||m,replace:d.replace,state:d.state,fromRouteId:s,flushSync:d.flushSync,viewTransition:d.viewTransition})},[o,a,t,s])}function Pv(n,{relative:t}={}){let{basename:s}=S.useContext(At),o=S.useContext(on);Me(o,"useFormAction must be used inside a RouteContext");let[a]=o.matches.slice(-1),c={...Zs(n||".",{relative:t})},d=vn();if(n==null){c.search=d.search;let f=new URLSearchParams(c.search),g=f.getAll("index");if(g.some(y=>y==="")){f.delete("index"),g.filter(b=>b).forEach(b=>f.append("index",b));let y=f.toString();c.search=y?`?${y}`:""}}return(!n||n===".")&&a.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(c.pathname=c.pathname==="/"?s:mn([s,c.pathname])),Hs(c)}function Lv(n,{relative:t}={}){let s=S.useContext(ep);Me(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=cp("useViewTransitionState"),a=Zs(n,{relative:t});if(!s.isTransitioning)return!1;let c=yn(s.currentLocation.pathname,o)||s.currentLocation.pathname,d=yn(s.nextLocation.pathname,o)||s.nextLocation.pathname;return Ni(a.pathname,d)!=null||Ni(a.pathname,c)!=null}function dp(n,t){return function(){return n.apply(t,arguments)}}const{toString:$v}=Object.prototype,{getPrototypeOf:Tu}=Object,{iterator:$i,toStringTag:hp}=Symbol,Ui=(n=>t=>{const s=$v.call(t);return n[s]||(n[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Xt=n=>(n=n.toLowerCase(),t=>Ui(t)===n),Mi=n=>t=>typeof t===n,{isArray:Zr}=Array,Gr=Mi("undefined");function eo(n){return n!==null&&!Gr(n)&&n.constructor!==null&&!Gr(n.constructor)&&St(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const fp=Xt("ArrayBuffer");function Uv(n){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(n):t=n&&n.buffer&&fp(n.buffer),t}const Mv=Mi("string"),St=Mi("function"),pp=Mi("number"),to=n=>n!==null&&typeof n=="object",Fv=n=>n===!0||n===!1,ki=n=>{if(Ui(n)!=="object")return!1;const t=Tu(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(hp in n)&&!($i in n)},Bv=n=>{if(!to(n)||eo(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},zv=Xt("Date"),Wv=Xt("File"),Vv=Xt("Blob"),Hv=Xt("FileList"),Jv=n=>to(n)&&St(n.pipe),qv=n=>{let t;return n&&(typeof FormData=="function"&&n instanceof FormData||St(n.append)&&((t=Ui(n))==="formdata"||t==="object"&&St(n.toString)&&n.toString()==="[object FormData]"))},Kv=Xt("URLSearchParams"),[Gv,Yv,Qv,Xv]=["ReadableStream","Request","Response","Headers"].map(Xt),Zv=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function no(n,t,{allOwnKeys:s=!1}={}){if(n===null||typeof n>"u")return;let o,a;if(typeof n!="object"&&(n=[n]),Zr(n))for(o=0,a=n.length;o<a;o++)t.call(null,n[o],o,n);else{if(eo(n))return;const c=s?Object.getOwnPropertyNames(n):Object.keys(n),d=c.length;let f;for(o=0;o<d;o++)f=c[o],t.call(null,n[f],f,n)}}function gp(n,t){if(eo(n))return null;t=t.toLowerCase();const s=Object.keys(n);let o=s.length,a;for(;o-- >0;)if(a=s[o],t===a.toLowerCase())return a;return null}const ar=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,mp=n=>!Gr(n)&&n!==ar;function su(){const{caseless:n,skipUndefined:t}=mp(this)&&this||{},s={},o=(a,c)=>{const d=n&&gp(s,c)||c;ki(s[d])&&ki(a)?s[d]=su(s[d],a):ki(a)?s[d]=su({},a):Zr(a)?s[d]=a.slice():(!t||!Gr(a))&&(s[d]=a)};for(let a=0,c=arguments.length;a<c;a++)arguments[a]&&no(arguments[a],o);return s}const e0=(n,t,s,{allOwnKeys:o}={})=>(no(t,(a,c)=>{s&&St(a)?n[c]=dp(a,s):n[c]=a},{allOwnKeys:o}),n),t0=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),n0=(n,t,s,o)=>{n.prototype=Object.create(t.prototype,o),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:t.prototype}),s&&Object.assign(n.prototype,s)},r0=(n,t,s,o)=>{let a,c,d;const f={};if(t=t||{},n==null)return t;do{for(a=Object.getOwnPropertyNames(n),c=a.length;c-- >0;)d=a[c],(!o||o(d,n,t))&&!f[d]&&(t[d]=n[d],f[d]=!0);n=s!==!1&&Tu(n)}while(n&&(!s||s(n,t))&&n!==Object.prototype);return t},s0=(n,t,s)=>{n=String(n),(s===void 0||s>n.length)&&(s=n.length),s-=t.length;const o=n.indexOf(t,s);return o!==-1&&o===s},o0=n=>{if(!n)return null;if(Zr(n))return n;let t=n.length;if(!pp(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=n[t];return s},i0=(n=>t=>n&&t instanceof n)(typeof Uint8Array<"u"&&Tu(Uint8Array)),a0=(n,t)=>{const o=(n&&n[$i]).call(n);let a;for(;(a=o.next())&&!a.done;){const c=a.value;t.call(n,c[0],c[1])}},l0=(n,t)=>{let s;const o=[];for(;(s=n.exec(t))!==null;)o.push(s);return o},u0=Xt("HTMLFormElement"),c0=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,o,a){return o.toUpperCase()+a}),Hh=(({hasOwnProperty:n})=>(t,s)=>n.call(t,s))(Object.prototype),d0=Xt("RegExp"),yp=(n,t)=>{const s=Object.getOwnPropertyDescriptors(n),o={};no(s,(a,c)=>{let d;(d=t(a,c,n))!==!1&&(o[c]=d||a)}),Object.defineProperties(n,o)},h0=n=>{yp(n,(t,s)=>{if(St(n)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const o=n[s];if(St(o)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},f0=(n,t)=>{const s={},o=a=>{a.forEach(c=>{s[c]=!0})};return Zr(n)?o(n):o(String(n).split(t)),s},p0=()=>{},g0=(n,t)=>n!=null&&Number.isFinite(n=+n)?n:t;function m0(n){return!!(n&&St(n.append)&&n[hp]==="FormData"&&n[$i])}const y0=n=>{const t=new Array(10),s=(o,a)=>{if(to(o)){if(t.indexOf(o)>=0)return;if(eo(o))return o;if(!("toJSON"in o)){t[a]=o;const c=Zr(o)?[]:{};return no(o,(d,f)=>{const g=s(d,a+1);!Gr(g)&&(c[f]=g)}),t[a]=void 0,c}}return o};return s(n,0)},v0=Xt("AsyncFunction"),w0=n=>n&&(to(n)||St(n))&&St(n.then)&&St(n.catch),vp=((n,t)=>n?setImmediate:t?((s,o)=>(ar.addEventListener("message",({source:a,data:c})=>{a===ar&&c===s&&o.length&&o.shift()()},!1),a=>{o.push(a),ar.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",St(ar.postMessage)),x0=typeof queueMicrotask<"u"?queueMicrotask.bind(ar):typeof process<"u"&&process.nextTick||vp,b0=n=>n!=null&&St(n[$i]),M={isArray:Zr,isArrayBuffer:fp,isBuffer:eo,isFormData:qv,isArrayBufferView:Uv,isString:Mv,isNumber:pp,isBoolean:Fv,isObject:to,isPlainObject:ki,isEmptyObject:Bv,isReadableStream:Gv,isRequest:Yv,isResponse:Qv,isHeaders:Xv,isUndefined:Gr,isDate:zv,isFile:Wv,isBlob:Vv,isRegExp:d0,isFunction:St,isStream:Jv,isURLSearchParams:Kv,isTypedArray:i0,isFileList:Hv,forEach:no,merge:su,extend:e0,trim:Zv,stripBOM:t0,inherits:n0,toFlatObject:r0,kindOf:Ui,kindOfTest:Xt,endsWith:s0,toArray:o0,forEachEntry:a0,matchAll:l0,isHTMLForm:u0,hasOwnProperty:Hh,hasOwnProp:Hh,reduceDescriptors:yp,freezeMethods:h0,toObjectSet:f0,toCamelCase:c0,noop:p0,toFiniteNumber:g0,findKey:gp,global:ar,isContextDefined:mp,isSpecCompliantForm:m0,toJSONObject:y0,isAsyncFn:v0,isThenable:w0,setImmediate:vp,asap:x0,isIterable:b0};function we(n,t,s,o,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),o&&(this.request=o),a&&(this.response=a,this.status=a.status?a.status:null)}M.inherits(we,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:M.toJSONObject(this.config),code:this.code,status:this.status}}});const wp=we.prototype,xp={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{xp[n]={value:n}});Object.defineProperties(we,xp);Object.defineProperty(wp,"isAxiosError",{value:!0});we.from=(n,t,s,o,a,c)=>{const d=Object.create(wp);M.toFlatObject(n,d,function(y){return y!==Error.prototype},m=>m!=="isAxiosError");const f=n&&n.message?n.message:"Error",g=t==null&&n?n.code:t;return we.call(d,f,g,s,o,a),n&&d.cause==null&&Object.defineProperty(d,"cause",{value:n,configurable:!0}),d.name=n&&n.name||"Error",c&&Object.assign(d,c),d};const _0=null;function ou(n){return M.isPlainObject(n)||M.isArray(n)}function bp(n){return M.endsWith(n,"[]")?n.slice(0,-2):n}function Jh(n,t,s){return n?n.concat(t).map(function(a,c){return a=bp(a),!s&&c?"["+a+"]":a}).join(s?".":""):t}function S0(n){return M.isArray(n)&&!n.some(ou)}const E0=M.toFlatObject(M,{},null,function(t){return/^is[A-Z]/.test(t)});function Fi(n,t,s){if(!M.isObject(n))throw new TypeError("target must be an object");t=t||new FormData,s=M.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,x){return!M.isUndefined(x[_])});const o=s.metaTokens,a=s.visitor||y,c=s.dots,d=s.indexes,g=(s.Blob||typeof Blob<"u"&&Blob)&&M.isSpecCompliantForm(t);if(!M.isFunction(a))throw new TypeError("visitor must be a function");function m(v){if(v===null)return"";if(M.isDate(v))return v.toISOString();if(M.isBoolean(v))return v.toString();if(!g&&M.isBlob(v))throw new we("Blob is not supported. Use a Buffer instead.");return M.isArrayBuffer(v)||M.isTypedArray(v)?g&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function y(v,_,x){let T=v;if(v&&!x&&typeof v=="object"){if(M.endsWith(_,"{}"))_=o?_:_.slice(0,-2),v=JSON.stringify(v);else if(M.isArray(v)&&S0(v)||(M.isFileList(v)||M.endsWith(_,"[]"))&&(T=M.toArray(v)))return _=bp(_),T.forEach(function(A,F){!(M.isUndefined(A)||A===null)&&t.append(d===!0?Jh([_],F,c):d===null?_:_+"[]",m(A))}),!1}return ou(v)?!0:(t.append(Jh(x,_,c),m(v)),!1)}const b=[],j=Object.assign(E0,{defaultVisitor:y,convertValue:m,isVisitable:ou});function k(v,_){if(!M.isUndefined(v)){if(b.indexOf(v)!==-1)throw Error("Circular reference detected in "+_.join("."));b.push(v),M.forEach(v,function(T,N){(!(M.isUndefined(T)||T===null)&&a.call(t,T,M.isString(N)?N.trim():N,_,j))===!0&&k(T,_?_.concat(N):[N])}),b.pop()}}if(!M.isObject(n))throw new TypeError("data must be an object");return k(n),t}function qh(n){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(o){return t[o]})}function Nu(n,t){this._pairs=[],n&&Fi(n,this,t)}const _p=Nu.prototype;_p.append=function(t,s){this._pairs.push([t,s])};_p.toString=function(t){const s=t?function(o){return t.call(this,o,qh)}:qh;return this._pairs.map(function(a){return s(a[0])+"="+s(a[1])},"").join("&")};function j0(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Sp(n,t,s){if(!t)return n;const o=s&&s.encode||j0;M.isFunction(s)&&(s={serialize:s});const a=s&&s.serialize;let c;if(a?c=a(t,s):c=M.isURLSearchParams(t)?t.toString():new Nu(t,s).toString(o),c){const d=n.indexOf("#");d!==-1&&(n=n.slice(0,d)),n+=(n.indexOf("?")===-1?"?":"&")+c}return n}class Kh{constructor(){this.handlers=[]}use(t,s,o){return this.handlers.push({fulfilled:t,rejected:s,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){M.forEach(this.handlers,function(o){o!==null&&t(o)})}}const Ep={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},C0=typeof URLSearchParams<"u"?URLSearchParams:Nu,k0=typeof FormData<"u"?FormData:null,R0=typeof Blob<"u"?Blob:null,T0={isBrowser:!0,classes:{URLSearchParams:C0,FormData:k0,Blob:R0},protocols:["http","https","file","blob","url","data"]},Ou=typeof window<"u"&&typeof document<"u",iu=typeof navigator=="object"&&navigator||void 0,N0=Ou&&(!iu||["ReactNative","NativeScript","NS"].indexOf(iu.product)<0),O0=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",A0=Ou&&window.location.href||"http://localhost",D0=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ou,hasStandardBrowserEnv:N0,hasStandardBrowserWebWorkerEnv:O0,navigator:iu,origin:A0},Symbol.toStringTag,{value:"Module"})),ht={...D0,...T0};function I0(n,t){return Fi(n,new ht.classes.URLSearchParams,{visitor:function(s,o,a,c){return ht.isNode&&M.isBuffer(s)?(this.append(o,s.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)},...t})}function P0(n){return M.matchAll(/\w+|\[(\w*)]/g,n).map(t=>t[0]==="[]"?"":t[1]||t[0])}function L0(n){const t={},s=Object.keys(n);let o;const a=s.length;let c;for(o=0;o<a;o++)c=s[o],t[c]=n[c];return t}function jp(n){function t(s,o,a,c){let d=s[c++];if(d==="__proto__")return!0;const f=Number.isFinite(+d),g=c>=s.length;return d=!d&&M.isArray(a)?a.length:d,g?(M.hasOwnProp(a,d)?a[d]=[a[d],o]:a[d]=o,!f):((!a[d]||!M.isObject(a[d]))&&(a[d]=[]),t(s,o,a[d],c)&&M.isArray(a[d])&&(a[d]=L0(a[d])),!f)}if(M.isFormData(n)&&M.isFunction(n.entries)){const s={};return M.forEachEntry(n,(o,a)=>{t(P0(o),a,s,0)}),s}return null}function $0(n,t,s){if(M.isString(n))try{return(t||JSON.parse)(n),M.trim(n)}catch(o){if(o.name!=="SyntaxError")throw o}return(s||JSON.stringify)(n)}const ro={transitional:Ep,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const o=s.getContentType()||"",a=o.indexOf("application/json")>-1,c=M.isObject(t);if(c&&M.isHTMLForm(t)&&(t=new FormData(t)),M.isFormData(t))return a?JSON.stringify(jp(t)):t;if(M.isArrayBuffer(t)||M.isBuffer(t)||M.isStream(t)||M.isFile(t)||M.isBlob(t)||M.isReadableStream(t))return t;if(M.isArrayBufferView(t))return t.buffer;if(M.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let f;if(c){if(o.indexOf("application/x-www-form-urlencoded")>-1)return I0(t,this.formSerializer).toString();if((f=M.isFileList(t))||o.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return Fi(f?{"files[]":t}:t,g&&new g,this.formSerializer)}}return c||a?(s.setContentType("application/json",!1),$0(t)):t}],transformResponse:[function(t){const s=this.transitional||ro.transitional,o=s&&s.forcedJSONParsing,a=this.responseType==="json";if(M.isResponse(t)||M.isReadableStream(t))return t;if(t&&M.isString(t)&&(o&&!this.responseType||a)){const d=!(s&&s.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(f){if(d)throw f.name==="SyntaxError"?we.from(f,we.ERR_BAD_RESPONSE,this,null,this.response):f}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ht.classes.FormData,Blob:ht.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};M.forEach(["delete","get","head","post","put","patch"],n=>{ro.headers[n]={}});const U0=M.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),M0=n=>{const t={};let s,o,a;return n&&n.split(`
`).forEach(function(d){a=d.indexOf(":"),s=d.substring(0,a).trim().toLowerCase(),o=d.substring(a+1).trim(),!(!s||t[s]&&U0[s])&&(s==="set-cookie"?t[s]?t[s].push(o):t[s]=[o]:t[s]=t[s]?t[s]+", "+o:o)}),t},Gh=Symbol("internals");function Bs(n){return n&&String(n).trim().toLowerCase()}function Ri(n){return n===!1||n==null?n:M.isArray(n)?n.map(Ri):String(n)}function F0(n){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=s.exec(n);)t[o[1]]=o[2];return t}const B0=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Wl(n,t,s,o,a){if(M.isFunction(o))return o.call(this,t,s);if(a&&(t=s),!!M.isString(t)){if(M.isString(o))return t.indexOf(o)!==-1;if(M.isRegExp(o))return o.test(t)}}function z0(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,o)=>s.toUpperCase()+o)}function W0(n,t){const s=M.toCamelCase(" "+t);["get","set","has"].forEach(o=>{Object.defineProperty(n,o+s,{value:function(a,c,d){return this[o].call(this,t,a,c,d)},configurable:!0})})}let Et=class{constructor(t){t&&this.set(t)}set(t,s,o){const a=this;function c(f,g,m){const y=Bs(g);if(!y)throw new Error("header name must be a non-empty string");const b=M.findKey(a,y);(!b||a[b]===void 0||m===!0||m===void 0&&a[b]!==!1)&&(a[b||g]=Ri(f))}const d=(f,g)=>M.forEach(f,(m,y)=>c(m,y,g));if(M.isPlainObject(t)||t instanceof this.constructor)d(t,s);else if(M.isString(t)&&(t=t.trim())&&!B0(t))d(M0(t),s);else if(M.isObject(t)&&M.isIterable(t)){let f={},g,m;for(const y of t){if(!M.isArray(y))throw TypeError("Object iterator must return a key-value pair");f[m=y[0]]=(g=f[m])?M.isArray(g)?[...g,y[1]]:[g,y[1]]:y[1]}d(f,s)}else t!=null&&c(s,t,o);return this}get(t,s){if(t=Bs(t),t){const o=M.findKey(this,t);if(o){const a=this[o];if(!s)return a;if(s===!0)return F0(a);if(M.isFunction(s))return s.call(this,a,o);if(M.isRegExp(s))return s.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=Bs(t),t){const o=M.findKey(this,t);return!!(o&&this[o]!==void 0&&(!s||Wl(this,this[o],o,s)))}return!1}delete(t,s){const o=this;let a=!1;function c(d){if(d=Bs(d),d){const f=M.findKey(o,d);f&&(!s||Wl(o,o[f],f,s))&&(delete o[f],a=!0)}}return M.isArray(t)?t.forEach(c):c(t),a}clear(t){const s=Object.keys(this);let o=s.length,a=!1;for(;o--;){const c=s[o];(!t||Wl(this,this[c],c,t,!0))&&(delete this[c],a=!0)}return a}normalize(t){const s=this,o={};return M.forEach(this,(a,c)=>{const d=M.findKey(o,c);if(d){s[d]=Ri(a),delete s[c];return}const f=t?z0(c):String(c).trim();f!==c&&delete s[c],s[f]=Ri(a),o[f]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return M.forEach(this,(o,a)=>{o!=null&&o!==!1&&(s[a]=t&&M.isArray(o)?o.join(", "):o)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const o=new this(t);return s.forEach(a=>o.set(a)),o}static accessor(t){const o=(this[Gh]=this[Gh]={accessors:{}}).accessors,a=this.prototype;function c(d){const f=Bs(d);o[f]||(W0(a,d),o[f]=!0)}return M.isArray(t)?t.forEach(c):c(t),this}};Et.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);M.reduceDescriptors(Et.prototype,({value:n},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(o){this[s]=o}}});M.freezeMethods(Et);function Vl(n,t){const s=this||ro,o=t||s,a=Et.from(o.headers);let c=o.data;return M.forEach(n,function(f){c=f.call(s,c,a.normalize(),t?t.status:void 0)}),a.normalize(),c}function Cp(n){return!!(n&&n.__CANCEL__)}function es(n,t,s){we.call(this,n??"canceled",we.ERR_CANCELED,t,s),this.name="CanceledError"}M.inherits(es,we,{__CANCEL__:!0});function kp(n,t,s){const o=s.config.validateStatus;!s.status||!o||o(s.status)?n(s):t(new we("Request failed with status code "+s.status,[we.ERR_BAD_REQUEST,we.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function V0(n){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return t&&t[1]||""}function H0(n,t){n=n||10;const s=new Array(n),o=new Array(n);let a=0,c=0,d;return t=t!==void 0?t:1e3,function(g){const m=Date.now(),y=o[c];d||(d=m),s[a]=g,o[a]=m;let b=c,j=0;for(;b!==a;)j+=s[b++],b=b%n;if(a=(a+1)%n,a===c&&(c=(c+1)%n),m-d<t)return;const k=y&&m-y;return k?Math.round(j*1e3/k):void 0}}function J0(n,t){let s=0,o=1e3/t,a,c;const d=(m,y=Date.now())=>{s=y,a=null,c&&(clearTimeout(c),c=null),n(...m)};return[(...m)=>{const y=Date.now(),b=y-s;b>=o?d(m,y):(a=m,c||(c=setTimeout(()=>{c=null,d(a)},o-b)))},()=>a&&d(a)]}const Oi=(n,t,s=3)=>{let o=0;const a=H0(50,250);return J0(c=>{const d=c.loaded,f=c.lengthComputable?c.total:void 0,g=d-o,m=a(g),y=d<=f;o=d;const b={loaded:d,total:f,progress:f?d/f:void 0,bytes:g,rate:m||void 0,estimated:m&&f&&y?(f-d)/m:void 0,event:c,lengthComputable:f!=null,[t?"download":"upload"]:!0};n(b)},s)},Yh=(n,t)=>{const s=n!=null;return[o=>t[0]({lengthComputable:s,total:n,loaded:o}),t[1]]},Qh=n=>(...t)=>M.asap(()=>n(...t)),q0=ht.hasStandardBrowserEnv?((n,t)=>s=>(s=new URL(s,ht.origin),n.protocol===s.protocol&&n.host===s.host&&(t||n.port===s.port)))(new URL(ht.origin),ht.navigator&&/(msie|trident)/i.test(ht.navigator.userAgent)):()=>!0,K0=ht.hasStandardBrowserEnv?{write(n,t,s,o,a,c,d){if(typeof document>"u")return;const f=[`${n}=${encodeURIComponent(t)}`];M.isNumber(s)&&f.push(`expires=${new Date(s).toUTCString()}`),M.isString(o)&&f.push(`path=${o}`),M.isString(a)&&f.push(`domain=${a}`),c===!0&&f.push("secure"),M.isString(d)&&f.push(`SameSite=${d}`),document.cookie=f.join("; ")},read(n){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function G0(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Y0(n,t){return t?n.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):n}function Rp(n,t,s){let o=!G0(t);return n&&(o||s==!1)?Y0(n,t):t}const Xh=n=>n instanceof Et?{...n}:n;function cr(n,t){t=t||{};const s={};function o(m,y,b,j){return M.isPlainObject(m)&&M.isPlainObject(y)?M.merge.call({caseless:j},m,y):M.isPlainObject(y)?M.merge({},y):M.isArray(y)?y.slice():y}function a(m,y,b,j){if(M.isUndefined(y)){if(!M.isUndefined(m))return o(void 0,m,b,j)}else return o(m,y,b,j)}function c(m,y){if(!M.isUndefined(y))return o(void 0,y)}function d(m,y){if(M.isUndefined(y)){if(!M.isUndefined(m))return o(void 0,m)}else return o(void 0,y)}function f(m,y,b){if(b in t)return o(m,y);if(b in n)return o(void 0,m)}const g={url:c,method:c,data:c,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:f,headers:(m,y,b)=>a(Xh(m),Xh(y),b,!0)};return M.forEach(Object.keys({...n,...t}),function(y){const b=g[y]||a,j=b(n[y],t[y],y);M.isUndefined(j)&&b!==f||(s[y]=j)}),s}const Tp=n=>{const t=cr({},n);let{data:s,withXSRFToken:o,xsrfHeaderName:a,xsrfCookieName:c,headers:d,auth:f}=t;if(t.headers=d=Et.from(d),t.url=Sp(Rp(t.baseURL,t.url,t.allowAbsoluteUrls),n.params,n.paramsSerializer),f&&d.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):""))),M.isFormData(s)){if(ht.hasStandardBrowserEnv||ht.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if(M.isFunction(s.getHeaders)){const g=s.getHeaders(),m=["content-type","content-length"];Object.entries(g).forEach(([y,b])=>{m.includes(y.toLowerCase())&&d.set(y,b)})}}if(ht.hasStandardBrowserEnv&&(o&&M.isFunction(o)&&(o=o(t)),o||o!==!1&&q0(t.url))){const g=a&&c&&K0.read(c);g&&d.set(a,g)}return t},Q0=typeof XMLHttpRequest<"u",X0=Q0&&function(n){return new Promise(function(s,o){const a=Tp(n);let c=a.data;const d=Et.from(a.headers).normalize();let{responseType:f,onUploadProgress:g,onDownloadProgress:m}=a,y,b,j,k,v;function _(){k&&k(),v&&v(),a.cancelToken&&a.cancelToken.unsubscribe(y),a.signal&&a.signal.removeEventListener("abort",y)}let x=new XMLHttpRequest;x.open(a.method.toUpperCase(),a.url,!0),x.timeout=a.timeout;function T(){if(!x)return;const A=Et.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),z={data:!f||f==="text"||f==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:A,config:n,request:x};kp(function(Q){s(Q),_()},function(Q){o(Q),_()},z),x=null}"onloadend"in x?x.onloadend=T:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(T)},x.onabort=function(){x&&(o(new we("Request aborted",we.ECONNABORTED,n,x)),x=null)},x.onerror=function(F){const z=F&&F.message?F.message:"Network Error",K=new we(z,we.ERR_NETWORK,n,x);K.event=F||null,o(K),x=null},x.ontimeout=function(){let F=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const z=a.transitional||Ep;a.timeoutErrorMessage&&(F=a.timeoutErrorMessage),o(new we(F,z.clarifyTimeoutError?we.ETIMEDOUT:we.ECONNABORTED,n,x)),x=null},c===void 0&&d.setContentType(null),"setRequestHeader"in x&&M.forEach(d.toJSON(),function(F,z){x.setRequestHeader(z,F)}),M.isUndefined(a.withCredentials)||(x.withCredentials=!!a.withCredentials),f&&f!=="json"&&(x.responseType=a.responseType),m&&([j,v]=Oi(m,!0),x.addEventListener("progress",j)),g&&x.upload&&([b,k]=Oi(g),x.upload.addEventListener("progress",b),x.upload.addEventListener("loadend",k)),(a.cancelToken||a.signal)&&(y=A=>{x&&(o(!A||A.type?new es(null,n,x):A),x.abort(),x=null)},a.cancelToken&&a.cancelToken.subscribe(y),a.signal&&(a.signal.aborted?y():a.signal.addEventListener("abort",y)));const N=V0(a.url);if(N&&ht.protocols.indexOf(N)===-1){o(new we("Unsupported protocol "+N+":",we.ERR_BAD_REQUEST,n));return}x.send(c||null)})},Z0=(n,t)=>{const{length:s}=n=n?n.filter(Boolean):[];if(t||s){let o=new AbortController,a;const c=function(m){if(!a){a=!0,f();const y=m instanceof Error?m:this.reason;o.abort(y instanceof we?y:new es(y instanceof Error?y.message:y))}};let d=t&&setTimeout(()=>{d=null,c(new we(`timeout ${t} of ms exceeded`,we.ETIMEDOUT))},t);const f=()=>{n&&(d&&clearTimeout(d),d=null,n.forEach(m=>{m.unsubscribe?m.unsubscribe(c):m.removeEventListener("abort",c)}),n=null)};n.forEach(m=>m.addEventListener("abort",c));const{signal:g}=o;return g.unsubscribe=()=>M.asap(f),g}},ew=function*(n,t){let s=n.byteLength;if(s<t){yield n;return}let o=0,a;for(;o<s;)a=o+t,yield n.slice(o,a),o=a},tw=async function*(n,t){for await(const s of nw(n))yield*ew(s,t)},nw=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const t=n.getReader();try{for(;;){const{done:s,value:o}=await t.read();if(s)break;yield o}}finally{await t.cancel()}},Zh=(n,t,s,o)=>{const a=tw(n,t);let c=0,d,f=g=>{d||(d=!0,o&&o(g))};return new ReadableStream({async pull(g){try{const{done:m,value:y}=await a.next();if(m){f(),g.close();return}let b=y.byteLength;if(s){let j=c+=b;s(j)}g.enqueue(new Uint8Array(y))}catch(m){throw f(m),m}},cancel(g){return f(g),a.return()}},{highWaterMark:2})},ef=64*1024,{isFunction:yi}=M,rw=(({Request:n,Response:t})=>({Request:n,Response:t}))(M.global),{ReadableStream:tf,TextEncoder:nf}=M.global,rf=(n,...t)=>{try{return!!n(...t)}catch{return!1}},sw=n=>{n=M.merge.call({skipUndefined:!0},rw,n);const{fetch:t,Request:s,Response:o}=n,a=t?yi(t):typeof fetch=="function",c=yi(s),d=yi(o);if(!a)return!1;const f=a&&yi(tf),g=a&&(typeof nf=="function"?(v=>_=>v.encode(_))(new nf):async v=>new Uint8Array(await new s(v).arrayBuffer())),m=c&&f&&rf(()=>{let v=!1;const _=new s(ht.origin,{body:new tf,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!_}),y=d&&f&&rf(()=>M.isReadableStream(new o("").body)),b={stream:y&&(v=>v.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!b[v]&&(b[v]=(_,x)=>{let T=_&&_[v];if(T)return T.call(_);throw new we(`Response type '${v}' is not supported`,we.ERR_NOT_SUPPORT,x)})});const j=async v=>{if(v==null)return 0;if(M.isBlob(v))return v.size;if(M.isSpecCompliantForm(v))return(await new s(ht.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(M.isArrayBufferView(v)||M.isArrayBuffer(v))return v.byteLength;if(M.isURLSearchParams(v)&&(v=v+""),M.isString(v))return(await g(v)).byteLength},k=async(v,_)=>{const x=M.toFiniteNumber(v.getContentLength());return x??j(_)};return async v=>{let{url:_,method:x,data:T,signal:N,cancelToken:A,timeout:F,onDownloadProgress:z,onUploadProgress:K,responseType:Q,headers:X,withCredentials:q="same-origin",fetchOptions:me}=Tp(v),Ae=t||fetch;Q=Q?(Q+"").toLowerCase():"text";let Te=Z0([N,A&&A.toAbortSignal()],F),Pe=null;const je=Te&&Te.unsubscribe&&(()=>{Te.unsubscribe()});let We;try{if(K&&m&&x!=="get"&&x!=="head"&&(We=await k(X,T))!==0){let O=new s(_,{method:"POST",body:T,duplex:"half"}),P;if(M.isFormData(T)&&(P=O.headers.get("content-type"))&&X.setContentType(P),O.body){const[Z,se]=Yh(We,Oi(Qh(K)));T=Zh(O.body,ef,Z,se)}}M.isString(q)||(q=q?"include":"omit");const _e=c&&"credentials"in s.prototype,ke={...me,signal:Te,method:x.toUpperCase(),headers:X.normalize().toJSON(),body:T,duplex:"half",credentials:_e?q:void 0};Pe=c&&new s(_,ke);let Y=await(c?Ae(Pe,me):Ae(_,ke));const ae=y&&(Q==="stream"||Q==="response");if(y&&(z||ae&&je)){const O={};["status","statusText","headers"].forEach(E=>{O[E]=Y[E]});const P=M.toFiniteNumber(Y.headers.get("content-length")),[Z,se]=z&&Yh(P,Oi(Qh(z),!0))||[];Y=new o(Zh(Y.body,ef,Z,()=>{se&&se(),je&&je()}),O)}Q=Q||"text";let R=await b[M.findKey(b,Q)||"text"](Y,v);return!ae&&je&&je(),await new Promise((O,P)=>{kp(O,P,{data:R,headers:Et.from(Y.headers),status:Y.status,statusText:Y.statusText,config:v,request:Pe})})}catch(_e){throw je&&je(),_e&&_e.name==="TypeError"&&/Load failed|fetch/i.test(_e.message)?Object.assign(new we("Network Error",we.ERR_NETWORK,v,Pe),{cause:_e.cause||_e}):we.from(_e,_e&&_e.code,v,Pe)}}},ow=new Map,Np=n=>{let t=n&&n.env||{};const{fetch:s,Request:o,Response:a}=t,c=[o,a,s];let d=c.length,f=d,g,m,y=ow;for(;f--;)g=c[f],m=y.get(g),m===void 0&&y.set(g,m=f?new Map:sw(t)),y=m;return m};Np();const Au={http:_0,xhr:X0,fetch:{get:Np}};M.forEach(Au,(n,t)=>{if(n){try{Object.defineProperty(n,"name",{value:t})}catch{}Object.defineProperty(n,"adapterName",{value:t})}});const sf=n=>`- ${n}`,iw=n=>M.isFunction(n)||n===null||n===!1;function aw(n,t){n=M.isArray(n)?n:[n];const{length:s}=n;let o,a;const c={};for(let d=0;d<s;d++){o=n[d];let f;if(a=o,!iw(o)&&(a=Au[(f=String(o)).toLowerCase()],a===void 0))throw new we(`Unknown adapter '${f}'`);if(a&&(M.isFunction(a)||(a=a.get(t))))break;c[f||"#"+d]=a}if(!a){const d=Object.entries(c).map(([g,m])=>`adapter ${g} `+(m===!1?"is not supported by the environment":"is not available in the build"));let f=s?d.length>1?`since :
`+d.map(sf).join(`
`):" "+sf(d[0]):"as no adapter specified";throw new we("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return a}const Op={getAdapter:aw,adapters:Au};function Hl(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new es(null,n)}function of(n){return Hl(n),n.headers=Et.from(n.headers),n.data=Vl.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Op.getAdapter(n.adapter||ro.adapter,n)(n).then(function(o){return Hl(n),o.data=Vl.call(n,n.transformResponse,o),o.headers=Et.from(o.headers),o},function(o){return Cp(o)||(Hl(n),o&&o.response&&(o.response.data=Vl.call(n,n.transformResponse,o.response),o.response.headers=Et.from(o.response.headers))),Promise.reject(o)})}const Ap="1.13.2",Bi={};["object","boolean","number","function","string","symbol"].forEach((n,t)=>{Bi[n]=function(o){return typeof o===n||"a"+(t<1?"n ":" ")+n}});const af={};Bi.transitional=function(t,s,o){function a(c,d){return"[Axios v"+Ap+"] Transitional option '"+c+"'"+d+(o?". "+o:"")}return(c,d,f)=>{if(t===!1)throw new we(a(d," has been removed"+(s?" in "+s:"")),we.ERR_DEPRECATED);return s&&!af[d]&&(af[d]=!0,console.warn(a(d," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(c,d,f):!0}};Bi.spelling=function(t){return(s,o)=>(console.warn(`${o} is likely a misspelling of ${t}`),!0)};function lw(n,t,s){if(typeof n!="object")throw new we("options must be an object",we.ERR_BAD_OPTION_VALUE);const o=Object.keys(n);let a=o.length;for(;a-- >0;){const c=o[a],d=t[c];if(d){const f=n[c],g=f===void 0||d(f,c,n);if(g!==!0)throw new we("option "+c+" must be "+g,we.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new we("Unknown option "+c,we.ERR_BAD_OPTION)}}const Ti={assertOptions:lw,validators:Bi},sn=Ti.validators;let ur=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Kh,response:new Kh}}async request(t,s){try{return await this._request(t,s)}catch(o){if(o instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const c=a.stack?a.stack.replace(/^.+\n/,""):"";try{o.stack?c&&!String(o.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+c):o.stack=c}catch{}}throw o}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=cr(this.defaults,s);const{transitional:o,paramsSerializer:a,headers:c}=s;o!==void 0&&Ti.assertOptions(o,{silentJSONParsing:sn.transitional(sn.boolean),forcedJSONParsing:sn.transitional(sn.boolean),clarifyTimeoutError:sn.transitional(sn.boolean)},!1),a!=null&&(M.isFunction(a)?s.paramsSerializer={serialize:a}:Ti.assertOptions(a,{encode:sn.function,serialize:sn.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Ti.assertOptions(s,{baseUrl:sn.spelling("baseURL"),withXsrfToken:sn.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let d=c&&M.merge(c.common,c[s.method]);c&&M.forEach(["delete","get","head","post","put","patch","common"],v=>{delete c[v]}),s.headers=Et.concat(d,c);const f=[];let g=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(s)===!1||(g=g&&_.synchronous,f.unshift(_.fulfilled,_.rejected))});const m=[];this.interceptors.response.forEach(function(_){m.push(_.fulfilled,_.rejected)});let y,b=0,j;if(!g){const v=[of.bind(this),void 0];for(v.unshift(...f),v.push(...m),j=v.length,y=Promise.resolve(s);b<j;)y=y.then(v[b++],v[b++]);return y}j=f.length;let k=s;for(;b<j;){const v=f[b++],_=f[b++];try{k=v(k)}catch(x){_.call(this,x);break}}try{y=of.call(this,k)}catch(v){return Promise.reject(v)}for(b=0,j=m.length;b<j;)y=y.then(m[b++],m[b++]);return y}getUri(t){t=cr(this.defaults,t);const s=Rp(t.baseURL,t.url,t.allowAbsoluteUrls);return Sp(s,t.params,t.paramsSerializer)}};M.forEach(["delete","get","head","options"],function(t){ur.prototype[t]=function(s,o){return this.request(cr(o||{},{method:t,url:s,data:(o||{}).data}))}});M.forEach(["post","put","patch"],function(t){function s(o){return function(c,d,f){return this.request(cr(f||{},{method:t,headers:o?{"Content-Type":"multipart/form-data"}:{},url:c,data:d}))}}ur.prototype[t]=s(),ur.prototype[t+"Form"]=s(!0)});let uw=class Dp{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(c){s=c});const o=this;this.promise.then(a=>{if(!o._listeners)return;let c=o._listeners.length;for(;c-- >0;)o._listeners[c](a);o._listeners=null}),this.promise.then=a=>{let c;const d=new Promise(f=>{o.subscribe(f),c=f}).then(a);return d.cancel=function(){o.unsubscribe(c)},d},t(function(c,d,f){o.reason||(o.reason=new es(c,d,f),s(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=o=>{t.abort(o)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new Dp(function(a){t=a}),cancel:t}}};function cw(n){return function(s){return n.apply(null,s)}}function dw(n){return M.isObject(n)&&n.isAxiosError===!0}const au={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(au).forEach(([n,t])=>{au[t]=n});function Ip(n){const t=new ur(n),s=dp(ur.prototype.request,t);return M.extend(s,ur.prototype,t,{allOwnKeys:!0}),M.extend(s,t,null,{allOwnKeys:!0}),s.create=function(a){return Ip(cr(n,a))},s}const xe=Ip(ro);xe.Axios=ur;xe.CanceledError=es;xe.CancelToken=uw;xe.isCancel=Cp;xe.VERSION=Ap;xe.toFormData=Fi;xe.AxiosError=we;xe.Cancel=xe.CanceledError;xe.all=function(t){return Promise.all(t)};xe.spread=cw;xe.isAxiosError=dw;xe.mergeConfig=cr;xe.AxiosHeaders=Et;xe.formToJSON=n=>jp(M.isHTMLForm(n)?new FormData(n):n);xe.getAdapter=Op.getAdapter;xe.HttpStatusCode=au;xe.default=xe;const{Axios:V_,AxiosError:H_,CanceledError:J_,isCancel:q_,CancelToken:K_,VERSION:G_,all:Y_,Cancel:Q_,isAxiosError:X_,spread:Z_,toFormData:eS,AxiosHeaders:tS,HttpStatusCode:nS,formToJSON:rS,getAdapter:sS,mergeConfig:oS}=xe;function zi(n,t){var s={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&t.indexOf(o)<0&&(s[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(n);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(n,o[a])&&(s[o[a]]=n[o[a]]);return s}function hw(n,t,s,o){function a(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function f(y){try{m(o.next(y))}catch(b){d(b)}}function g(y){try{m(o.throw(y))}catch(b){d(b)}}function m(y){y.done?c(y.value):a(y.value).then(f,g)}m((o=o.apply(n,t||[])).next())})}const fw=n=>n?(...t)=>n(...t):(...t)=>fetch(...t);class Du extends Error{constructor(t,s="FunctionsError",o){super(t),this.name=s,this.context=o}}class pw extends Du{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class lf extends Du{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class uf extends Du{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var lu;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(lu||(lu={}));class gw{constructor(t,{headers:s={},customFetch:o,region:a=lu.Any}={}){this.url=t,this.headers=s,this.region=a,this.fetch=fw(o)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return hw(this,arguments,void 0,function*(s,o={}){var a;let c,d;try{const{headers:f,method:g,body:m,signal:y,timeout:b}=o;let j={},{region:k}=o;k||(k=this.region);const v=new URL(`${this.url}/${s}`);k&&k!=="any"&&(j["x-region"]=k,v.searchParams.set("forceFunctionRegion",k));let _;m&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(j["Content-Type"]="application/octet-stream",_=m):typeof m=="string"?(j["Content-Type"]="text/plain",_=m):typeof FormData<"u"&&m instanceof FormData?_=m:(j["Content-Type"]="application/json",_=JSON.stringify(m)):_=m;let x=y;b&&(d=new AbortController,c=setTimeout(()=>d.abort(),b),y?(x=d.signal,y.addEventListener("abort",()=>d.abort())):x=d.signal);const T=yield this.fetch(v.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},j),this.headers),f),body:_,signal:x}).catch(z=>{throw new pw(z)}),N=T.headers.get("x-relay-error");if(N&&N==="true")throw new lf(T);if(!T.ok)throw new uf(T);let A=((a=T.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),F;return A==="application/json"?F=yield T.json():A==="application/octet-stream"||A==="application/pdf"?F=yield T.blob():A==="text/event-stream"?F=T:A==="multipart/form-data"?F=yield T.formData():F=yield T.text(),{data:F,error:null,response:T}}catch(f){return{data:null,error:f,response:f instanceof uf||f instanceof lf?f.context:void 0}}finally{c&&clearTimeout(c)}})}}var mw=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},yw=class{constructor(n){var t,s;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(t=n.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=n.signal,this.isMaybeSingle=(s=n.isMaybeSingle)!==null&&s!==void 0?s:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,t){return this.headers=new Headers(this.headers),this.headers.set(n,t),this}then(n,t){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{let d=null,f=null,g=null,m=c.status,y=c.statusText;if(c.ok){var b,j;if(s.method!=="HEAD"){var k;const T=await c.text();T===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((k=s.headers.get("Accept"))===null||k===void 0)&&k.includes("application/vnd.pgrst.plan+text"))?f=T:f=JSON.parse(T))}const _=(b=s.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),x=(j=c.headers.get("content-range"))===null||j===void 0?void 0:j.split("/");_&&x&&x.length>1&&(g=parseInt(x[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,g=null,m=406,y="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var v;const _=await c.text();try{d=JSON.parse(_),Array.isArray(d)&&c.status===404&&(f=[],d=null,m=200,y="OK")}catch{c.status===404&&_===""?(m=204,y="No Content"):d={message:_}}if(d&&s.isMaybeSingle&&(!(d==null||(v=d.details)===null||v===void 0)&&v.includes("0 rows"))&&(d=null,m=200,y="OK"),d&&s.shouldThrowOnError)throw new mw(d)}return{error:d,data:f,count:g,status:m,statusText:y}});return this.shouldThrowOnError||(a=a.catch(c=>{var d;let f="";const g=c?.cause;if(g){var m,y,b,j;const v=(m=g?.message)!==null&&m!==void 0?m:"",_=(y=g?.code)!==null&&y!==void 0?y:"";f=`${(b=c?.name)!==null&&b!==void 0?b:"FetchError"}: ${c?.message}`,f+=`

Caused by: ${(j=g?.name)!==null&&j!==void 0?j:"Error"}: ${v}`,_&&(f+=` (${_})`),g?.stack&&(f+=`
${g.stack}`)}else{var k;f=(k=c?.stack)!==null&&k!==void 0?k:""}return{error:{message:`${(d=c?.name)!==null&&d!==void 0?d:"FetchError"}: ${c?.message}`,details:f,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(n,t)}returns(){return this}overrideTypes(){return this}},vw=class extends yw{select(n){let t=!1;const s=(n??"*").split("").map(o=>/\s/.test(o)&&!t?"":(o==='"'&&(t=!t),o)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:t=!0,nullsFirst:s,foreignTable:o,referencedTable:a=o}={}){const c=a?`${a}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${n}.${t?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:t,referencedTable:s=t}={}){const o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${n}`),this}range(n,t,{foreignTable:s,referencedTable:o=s}={}){const a=typeof o>"u"?"offset":`${o}.offset`,c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${n}`),this.url.searchParams.set(c,`${t-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:t=!1,settings:s=!1,buffers:o=!1,wal:a=!1,format:c="text"}={}){var d;const f=[n?"analyze":null,t?"verbose":null,s?"settings":null,o?"buffers":null,a?"wal":null].filter(Boolean).join("|"),g=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${g}"; options=${f};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const cf=new RegExp("[,()]");var Wr=class extends vw{eq(n,t){return this.url.searchParams.append(n,`eq.${t}`),this}neq(n,t){return this.url.searchParams.append(n,`neq.${t}`),this}gt(n,t){return this.url.searchParams.append(n,`gt.${t}`),this}gte(n,t){return this.url.searchParams.append(n,`gte.${t}`),this}lt(n,t){return this.url.searchParams.append(n,`lt.${t}`),this}lte(n,t){return this.url.searchParams.append(n,`lte.${t}`),this}like(n,t){return this.url.searchParams.append(n,`like.${t}`),this}likeAllOf(n,t){return this.url.searchParams.append(n,`like(all).{${t.join(",")}}`),this}likeAnyOf(n,t){return this.url.searchParams.append(n,`like(any).{${t.join(",")}}`),this}ilike(n,t){return this.url.searchParams.append(n,`ilike.${t}`),this}ilikeAllOf(n,t){return this.url.searchParams.append(n,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(n,t){return this.url.searchParams.append(n,`ilike(any).{${t.join(",")}}`),this}regexMatch(n,t){return this.url.searchParams.append(n,`match.${t}`),this}regexIMatch(n,t){return this.url.searchParams.append(n,`imatch.${t}`),this}is(n,t){return this.url.searchParams.append(n,`is.${t}`),this}isDistinct(n,t){return this.url.searchParams.append(n,`isdistinct.${t}`),this}in(n,t){const s=Array.from(new Set(t)).map(o=>typeof o=="string"&&cf.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(n,`in.(${s})`),this}notIn(n,t){const s=Array.from(new Set(t)).map(o=>typeof o=="string"&&cf.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(n,`not.in.(${s})`),this}contains(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cs.{${t.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(t)}`),this}containedBy(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cd.{${t.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(t)}`),this}rangeGt(n,t){return this.url.searchParams.append(n,`sr.${t}`),this}rangeGte(n,t){return this.url.searchParams.append(n,`nxl.${t}`),this}rangeLt(n,t){return this.url.searchParams.append(n,`sl.${t}`),this}rangeLte(n,t){return this.url.searchParams.append(n,`nxr.${t}`),this}rangeAdjacent(n,t){return this.url.searchParams.append(n,`adj.${t}`),this}overlaps(n,t){return typeof t=="string"?this.url.searchParams.append(n,`ov.${t}`):this.url.searchParams.append(n,`ov.{${t.join(",")}}`),this}textSearch(n,t,{config:s,type:o}={}){let a="";o==="plain"?a="pl":o==="phrase"?a="ph":o==="websearch"&&(a="w");const c=s===void 0?"":`(${s})`;return this.url.searchParams.append(n,`${a}fts${c}.${t}`),this}match(n){return Object.entries(n).forEach(([t,s])=>{this.url.searchParams.append(t,`eq.${s}`)}),this}not(n,t,s){return this.url.searchParams.append(n,`not.${t}.${s}`),this}or(n,{foreignTable:t,referencedTable:s=t}={}){const o=s?`${s}.or`:"or";return this.url.searchParams.append(o,`(${n})`),this}filter(n,t,s){return this.url.searchParams.append(n,`${t}.${s}`),this}},ww=class{constructor(n,{headers:t={},schema:s,fetch:o}){this.url=n,this.headers=new Headers(t),this.schema=s,this.fetch=o}select(n,t){const{head:s=!1,count:o}=t??{},a=s?"HEAD":"GET";let c=!1;const d=(n??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",d),o&&this.headers.append("Prefer",`count=${o}`),new Wr({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:t,defaultToNull:s=!0}={}){var o;const a="POST";if(t&&this.headers.append("Prefer",`count=${t}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const c=n.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new Wr({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(n,{onConflict:t,ignoreDuplicates:s=!1,count:o,defaultToNull:a=!0}={}){var c;const d="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),o&&this.headers.append("Prefer",`count=${o}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const f=n.reduce((g,m)=>g.concat(Object.keys(m)),[]);if(f.length>0){const g=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",g.join(","))}}return new Wr({method:d,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(n,{count:t}={}){var s;const o="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new Wr({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:n}={}){var t;const s="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new Wr({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},xw=class Pp{constructor(t,{headers:s={},schema:o,fetch:a}={}){this.url=t,this.headers=new Headers(s),this.schemaName=o,this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new ww(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Pp(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,s={},{head:o=!1,get:a=!1,count:c}={}){var d;let f;const g=new URL(`${this.url}/rpc/${t}`);let m;o||a?(f=o?"HEAD":"GET",Object.entries(s).filter(([b,j])=>j!==void 0).map(([b,j])=>[b,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([b,j])=>{g.searchParams.append(b,j)})):(f="POST",m=s);const y=new Headers(this.headers);return c&&y.set("Prefer",`count=${c}`),new Wr({method:f,url:g,headers:y,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};class bw{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const o=s.node,a=parseInt(o.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let s=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(s+=`

Suggested solution: ${t.workaround}`),new Error(s)}static createWebSocket(t,s){const o=this.getWebSocketConstructor();return new o(t,s)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const _w="2.89.0",Sw=`realtime-js/${_w}`,Lp="1.0.0",Ew="2.0.0",df=Lp,uu=1e4,jw=1e3,Cw=100;var Fn;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Fn||(Fn={}));var Xe;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Xe||(Xe={}));var Qt;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Qt||(Qt={}));var cu;(function(n){n.websocket="websocket"})(cu||(cu={}));var or;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(or||(or={}));class kw{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,s){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(t));let o=[t.join_ref,t.ref,t.topic,t.event,t.payload];return s(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(t){var s;return this._isArrayBuffer((s=t.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var s,o;const a=(o=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var s,o;const a=(o=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&o!==void 0?o:{},d=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(t,s,o){var a,c;const d=t.topic,f=(a=t.ref)!==null&&a!==void 0?a:"",g=(c=t.join_ref)!==null&&c!==void 0?c:"",m=t.payload.event,y=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},b=Object.keys(y).length===0?"":JSON.stringify(y);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const j=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+f.length+d.length+m.length+b.length,k=new ArrayBuffer(this.HEADER_LENGTH+j);let v=new DataView(k),_=0;v.setUint8(_++,this.KINDS.userBroadcastPush),v.setUint8(_++,g.length),v.setUint8(_++,f.length),v.setUint8(_++,d.length),v.setUint8(_++,m.length),v.setUint8(_++,b.length),v.setUint8(_++,s),Array.from(g,T=>v.setUint8(_++,T.charCodeAt(0))),Array.from(f,T=>v.setUint8(_++,T.charCodeAt(0))),Array.from(d,T=>v.setUint8(_++,T.charCodeAt(0))),Array.from(m,T=>v.setUint8(_++,T.charCodeAt(0))),Array.from(b,T=>v.setUint8(_++,T.charCodeAt(0)));var x=new Uint8Array(k.byteLength+o.byteLength);return x.set(new Uint8Array(k),0),x.set(new Uint8Array(o),k.byteLength),x.buffer}decode(t,s){if(this._isArrayBuffer(t)){let o=this._binaryDecode(t);return s(o)}if(typeof t=="string"){const o=JSON.parse(t),[a,c,d,f,g]=o;return s({join_ref:a,ref:c,topic:d,event:f,payload:g})}return s({})}_binaryDecode(t){const s=new DataView(t),o=s.getUint8(0),a=new TextDecoder;if(o===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,s,a)}_decodeUserBroadcast(t,s,o){const a=s.getUint8(1),c=s.getUint8(2),d=s.getUint8(3),f=s.getUint8(4);let g=this.HEADER_LENGTH+4;const m=o.decode(t.slice(g,g+a));g=g+a;const y=o.decode(t.slice(g,g+c));g=g+c;const b=o.decode(t.slice(g,g+d));g=g+d;const j=t.slice(g,t.byteLength),k=f===this.JSON_ENCODING?JSON.parse(o.decode(j)):j,v={type:this.BROADCAST_EVENT,event:y,payload:k};return d>0&&(v.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var s;return t instanceof ArrayBuffer||((s=t?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(t,s){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([o])=>s.includes(o)))}}class $p{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ie;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Ie||(Ie={}));const hf=(n,t,s={})=>{var o;const a=(o=s.skipTypes)!==null&&o!==void 0?o:[];return t?Object.keys(t).reduce((c,d)=>(c[d]=Rw(d,n,t,a),c),{}):{}},Rw=(n,t,s,o)=>{const a=t.find(f=>f.name===n),c=a?.type,d=s[n];return c&&!o.includes(c)?Up(c,d):du(d)},Up=(n,t)=>{if(n.charAt(0)==="_"){const s=n.slice(1,n.length);return Aw(t,s)}switch(n){case Ie.bool:return Tw(t);case Ie.float4:case Ie.float8:case Ie.int2:case Ie.int4:case Ie.int8:case Ie.numeric:case Ie.oid:return Nw(t);case Ie.json:case Ie.jsonb:return Ow(t);case Ie.timestamp:return Dw(t);case Ie.abstime:case Ie.date:case Ie.daterange:case Ie.int4range:case Ie.int8range:case Ie.money:case Ie.reltime:case Ie.text:case Ie.time:case Ie.timestamptz:case Ie.timetz:case Ie.tsrange:case Ie.tstzrange:return du(t);default:return du(t)}},du=n=>n,Tw=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Nw=n=>{if(typeof n=="string"){const t=parseFloat(n);if(!Number.isNaN(t))return t}return n},Ow=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},Aw=(n,t)=>{if(typeof n!="string")return n;const s=n.length-1,o=n[s];if(n[0]==="{"&&o==="}"){let c;const d=n.slice(1,s);try{c=JSON.parse("["+d+"]")}catch{c=d?d.split(","):[]}return c.map(f=>Up(t,f))}return n},Dw=n=>typeof n=="string"?n.replace(" ","T"):n,Mp=n=>{const t=new URL(n);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Jl{constructor(t,s,o={},a=uu){this.channel=t,this.event=s,this.payload=o,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var o;return this._hasReceived(t)&&s((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(o=>o.status===t).forEach(o=>o.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ff;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(ff||(ff={}));class Ws{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},a=>{const{onJoin:c,onLeave:d,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ws.syncState(this.state,a,c,d),this.pendingDiffs.forEach(g=>{this.state=Ws.syncDiff(this.state,g,c,d)}),this.pendingDiffs=[],f()}),this.channel._on(o.diff,{},a=>{const{onJoin:c,onLeave:d,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Ws.syncDiff(this.state,a,c,d),f())}),this.onJoin((a,c,d)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:c,newPresences:d})}),this.onLeave((a,c,d)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:c,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,o,a){const c=this.cloneDeep(t),d=this.transformState(s),f={},g={};return this.map(c,(m,y)=>{d[m]||(g[m]=y)}),this.map(d,(m,y)=>{const b=c[m];if(b){const j=y.map(x=>x.presence_ref),k=b.map(x=>x.presence_ref),v=y.filter(x=>k.indexOf(x.presence_ref)<0),_=b.filter(x=>j.indexOf(x.presence_ref)<0);v.length>0&&(f[m]=v),_.length>0&&(g[m]=_)}else f[m]=y}),this.syncDiff(c,{joins:f,leaves:g},o,a)}static syncDiff(t,s,o,a){const{joins:c,leaves:d}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return o||(o=()=>{}),a||(a=()=>{}),this.map(c,(f,g)=>{var m;const y=(m=t[f])!==null&&m!==void 0?m:[];if(t[f]=this.cloneDeep(g),y.length>0){const b=t[f].map(k=>k.presence_ref),j=y.filter(k=>b.indexOf(k.presence_ref)<0);t[f].unshift(...j)}o(f,y,g)}),this.map(d,(f,g)=>{let m=t[f];if(!m)return;const y=g.map(b=>b.presence_ref);m=m.filter(b=>y.indexOf(b.presence_ref)<0),t[f]=m,a(f,m,g),m.length===0&&delete t[f]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(o=>s(o,t[o]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,o)=>{const a=t[o];return"metas"in a?s[o]=a.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[o]=a,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var pf;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(pf||(pf={}));var Vs;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Vs||(Vs={}));var gn;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(gn||(gn={}));class qr{constructor(t,s={config:{}},o){var a,c;if(this.topic=t,this.params=s,this.socket=o,this.bindings={},this.state=Xe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Jl(this,Qt.join,this.params,this.timeout),this.rejoinTimer=new $p(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Xe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Xe.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Xe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Xe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Xe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qt.reply,{},(d,f)=>{this._trigger(this._replyEventName(f),d)}),this.presence=new Ws(this),this.broadcastEndpointURL=Mp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,s=this.timeout){var o,a,c;if(this.socket.isConnected()||this.socket.connect(),this.state==Xe.closed){const{config:{broadcast:d,presence:f,private:g}}=this.params,m=(a=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(k=>k.filter))!==null&&a!==void 0?a:[],y=!!this.bindings[Vs.PRESENCE]&&this.bindings[Vs.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,b={},j={broadcast:d,presence:Object.assign(Object.assign({},f),{enabled:y}),postgres_changes:m,private:g};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(k=>t?.(gn.CHANNEL_ERROR,k)),this._onClose(()=>t?.(gn.CLOSED)),this.updateJoinPayload(Object.assign({config:j},b)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:k})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),k===void 0){t?.(gn.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,x=(v=_?.length)!==null&&v!==void 0?v:0,T=[];for(let N=0;N<x;N++){const A=_[N],{filter:{event:F,schema:z,table:K,filter:Q}}=A,X=k&&k[N];if(X&&X.event===F&&qr.isFilterValueEqual(X.schema,z)&&qr.isFilterValueEqual(X.table,K)&&qr.isFilterValueEqual(X.filter,Q))T.push(Object.assign(Object.assign({},A),{id:X.id}));else{this.unsubscribe(),this.state=Xe.errored,t?.(gn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,t&&t(gn.SUBSCRIBED);return}}).receive("error",k=>{this.state=Xe.errored,t?.(gn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(k).join(", ")||"error")))}).receive("timeout",()=>{t?.(gn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,o){return this.state===Xe.joined&&t===Vs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,s,o)}async httpSend(t,s,o={}){var a;if(s==null)return Promise.reject("Payload is required for httpSend()");const c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:s,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(a=o.timeout)!==null&&a!==void 0?a:this.timeout);if(f.status===202)return{success:!0};let g=f.statusText;try{const m=await f.json();g=m.error||m.message||g}catch{}return Promise.reject(new Error(g))}async send(t,s={}){var o,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:d}=t,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:d,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);return await((a=m.body)===null||a===void 0?void 0:a.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var d,f,g;const m=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((g=(f=(d=this.params)===null||d===void 0?void 0:d.config)===null||f===void 0?void 0:f.broadcast)===null||g===void 0)&&g.ack)&&c("ok"),m.receive("ok",()=>c("ok")),m.receive("error",()=>c("error")),m.receive("timeout",()=>c("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Xe.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qt.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(a=>{o=new Jl(this,Qt.leave,{},t),o.receive("ok",()=>{s(),a("ok")}).receive("timeout",()=>{s(),a("timed out")}).receive("error",()=>{a("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Xe.closed,this.bindings={}}async _fetchWithTimeout(t,s,o){const a=new AbortController,c=setTimeout(()=>a.abort(),o),d=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:a.signal}));return clearTimeout(c),d}_push(t,s,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Jl(this,t,s,o);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Cw){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(t,s,o){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,o){var a,c;const d=t.toLocaleLowerCase(),{close:f,error:g,leave:m,join:y}=Qt;if(o&&[f,g,m,y].indexOf(d)>=0&&o!==this._joinRef())return;let j=this._onMessage(d,s,o);if(s&&!j)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(k=>{var v,_,x;return((v=k.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(_=k.filter)===null||_===void 0?void 0:_.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===d}).map(k=>k.callback(j,o)):(c=this.bindings[d])===null||c===void 0||c.filter(k=>{var v,_,x,T,N,A;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in k){const F=k.id,z=(v=k.filter)===null||v===void 0?void 0:v.event;return F&&((_=s.ids)===null||_===void 0?void 0:_.includes(F))&&(z==="*"||z?.toLocaleLowerCase()===((x=s.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const F=(N=(T=k?.filter)===null||T===void 0?void 0:T.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return F==="*"||F===((A=s?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return k.type.toLocaleLowerCase()===d}).map(k=>{if(typeof j=="object"&&"ids"in j){const v=j.data,{schema:_,table:x,commit_timestamp:T,type:N,errors:A}=v;j=Object.assign(Object.assign({},{schema:_,table:x,commit_timestamp:T,eventType:N,new:{},old:{},errors:A}),this._getPayloadRecords(v))}k.callback(j,o)})}_isClosed(){return this.state===Xe.closed}_isJoined(){return this.state===Xe.joined}_isJoining(){return this.state===Xe.joining}_isLeaving(){return this.state===Xe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,o){const a=t.toLocaleLowerCase(),c={type:a,filter:s,callback:o};return this.bindings[a]?this.bindings[a].push(c):this.bindings[a]=[c],this}_off(t,s){const o=t.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(a=>{var c;return!(((c=a.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===o&&qr.isEqual(a.filter,s))})),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const o in t)if(t[o]!==s[o])return!1;return!0}static isFilterValueEqual(t,s){return(t??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Qt.close,{},t)}_onError(t){this._on(Qt.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Xe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=hf(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=hf(t.columns,t.old_record)),s}}const ql=()=>{},vi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Iw=[1e3,2e3,5e3,1e4],Pw=1e4,Lw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class $w{constructor(t,s){var o;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=uu,this.transport=null,this.heartbeatIntervalMs=vi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ql,this.ref=0,this.reconnectTimer=null,this.vsn=df,this.logger=ql,this.conn=null,this.sendBuffer=[],this.serializer=new kw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...c)=>a(...c):(...c)=>fetch(...c),!(!((o=s?.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${t}/${cu.websocket}`,this.httpEndpoint=Mp(t),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=bw.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const s=t.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,o){this.logger(t,s,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Fn.connecting:return or.Connecting;case Fn.open:return or.Open;case Fn.closing:return or.Closing;default:return or.Closed}}isConnected(){return this.connectionState()===or.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,s={config:{}}){const o=`realtime:${t}`,a=this.getChannels().find(c=>c.topic===o);if(a)return a;{const c=new qr(`realtime:${t}`,s,this);return this.channels.push(c),c}}push(t){const{topic:s,event:o,payload:a,ref:c}=t,d=()=>{this.encode(t,f=>{var g;(g=this.conn)===null||g===void 0||g.send(f)})};this.log("push",`${s} ${o} (${c})`,a),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(jw,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},vi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(o=>o.topic===t&&(o._isJoined()||o._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:a,payload:c,ref:d}=s,f=d?`(${d})`:"",g=c.status||"";this.log("receive",`${g} ${o} ${a} ${f}`.trim(),c),this.channels.filter(m=>m._isMember(o)).forEach(m=>m._trigger(a,c,d)),this._triggerStateCallbacks("message",s)})}_clearTimer(t){var s;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Fn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Fn.open||this.conn.readyState===Fn.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var s;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Qt.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const o=t.match(/\?/)?"&":"?",a=new URLSearchParams(s);return`${t}${o}${a}`}_workerObjectUrl(t){let s;if(t)s=t;else{const o=new Blob([Lw],{type:"application/javascript"});s=URL.createObjectURL(o)}return s}_setConnectionState(t,s=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(t=null){let s,o=!1;if(t)s=t,o=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),s=this.accessTokenValue}else s=this.accessTokenValue;o?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(a=>{const c={access_token:s,version:Sw};s&&a.updateJoinPayload(c),a.joinedOnce&&a._isJoined()&&a._push(Qt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${t}`,s)})}_triggerStateCallbacks(t,s){try{this.stateChangeCallbacks[t].forEach(o=>{try{o(s)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(o){this.log("error",`error triggering ${t} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new $p(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},vi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var s,o,a,c,d,f,g,m,y,b,j,k;switch(this.transport=(s=t?.transport)!==null&&s!==void 0?s:null,this.timeout=(o=t?.timeout)!==null&&o!==void 0?o:uu,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:vi.HEARTBEAT_INTERVAL,this.worker=(c=t?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(d=t?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(f=t?.heartbeatCallback)!==null&&f!==void 0?f:ql,this.vsn=(g=t?.vsn)!==null&&g!==void 0?g:df,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=t?.reconnectAfterMs)!==null&&m!==void 0?m:(v=>Iw[v-1]||Pw),this.vsn){case Lp:this.encode=(y=t?.encode)!==null&&y!==void 0?y:((v,_)=>_(JSON.stringify(v))),this.decode=(b=t?.decode)!==null&&b!==void 0?b:((v,_)=>_(JSON.parse(v)));break;case Ew:this.encode=(j=t?.encode)!==null&&j!==void 0?j:this.serializer.encode.bind(this.serializer),this.decode=(k=t?.decode)!==null&&k!==void 0?k:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var Js=class extends Error{constructor(n,t){super(n),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Uw(n,t,s){const o=new URL(t,n);if(s)for(const[a,c]of Object.entries(s))c!==void 0&&o.searchParams.set(a,c);return o.toString()}async function Mw(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function Fw(n){const t=n.fetchImpl??globalThis.fetch;return{async request({method:s,path:o,query:a,body:c,headers:d}){const f=Uw(n.baseUrl,o,a),g=await Mw(n.auth),m=await t(f,{method:s,headers:{...c?{"Content-Type":"application/json"}:{},...g,...d},body:c?JSON.stringify(c):void 0}),y=await m.text(),b=(m.headers.get("content-type")||"").includes("application/json"),j=b&&y?JSON.parse(y):y;if(!m.ok){const k=b?j:void 0,v=k?.error;throw new Js(v?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:v?.type,icebergCode:v?.code,details:k})}return{status:m.status,headers:m.headers,data:j}}}}function wi(n){return n.join("")}var Bw=class{constructor(n,t=""){this.client=n,this.prefix=t}async listNamespaces(n){const t=n?{parent:wi(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(n,t){const s={namespace:n.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${wi(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wi(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${wi(n.namespace)}`}),!0}catch(t){if(t instanceof Js&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(n,t){try{return await this.createNamespace(n,t)}catch(s){if(s instanceof Js&&s.status===409)return;throw s}}};function Lr(n){return n.join("")}var zw=class{constructor(n,t="",s){this.client=n,this.prefix=t,this.accessDelegation=s}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Lr(n.namespace)}/tables`})).data.identifiers}async createTable(n,t){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Lr(n.namespace)}/tables`,body:t,headers:s})).data.metadata}async updateTable(n,t){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Lr(n.namespace)}/tables/${n.name}`,body:t});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(n,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Lr(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(n){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Lr(n.namespace)}/tables/${n.name}`,headers:t})).data.metadata}async tableExists(n){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Lr(n.namespace)}/tables/${n.name}`,headers:t}),!0}catch(s){if(s instanceof Js&&s.status===404)return!1;throw s}}async createTableIfNotExists(n,t){try{return await this.createTable(n,t)}catch(s){if(s instanceof Js&&s.status===409)return await this.loadTable({namespace:n.namespace,name:t.name});throw s}}},Ww=class{constructor(n){let t="v1";n.catalogName&&(t+=`/${n.catalogName}`);const s=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=Fw({baseUrl:s,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=n.accessDelegation?.join(","),this.namespaceOps=new Bw(this.client,t),this.tableOps=new zw(this.client,t,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,t){return this.namespaceOps.createNamespace(n,t)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,t){return this.tableOps.createTable(n,t)}async updateTable(n,t){return this.tableOps.updateTable(n,t)}async dropTable(n,t){await this.tableOps.dropTable(n,t)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,t){return this.namespaceOps.createNamespaceIfNotExists(n,t)}async createTableIfNotExists(n,t){return this.tableOps.createTableIfNotExists(n,t)}},Wi=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function ze(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var Vw=class extends Wi{constructor(n,t,s){super(n),this.name="StorageApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},hu=class extends Wi{constructor(n,t){super(n),this.name="StorageUnknownError",this.originalError=t}};const Iu=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),Hw=()=>Response,fu=n=>{if(Array.isArray(n))return n.map(s=>fu(s));if(typeof n=="function"||n!==Object(n))return n;const t={};return Object.entries(n).forEach(([s,o])=>{const a=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));t[a]=fu(o)}),t},Jw=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},qw=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function qs(n){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qs(n)}function Kw(n,t){if(qs(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var o=s.call(n,t);if(qs(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Gw(n){var t=Kw(n,"string");return qs(t)=="symbol"?t:t+""}function Yw(n,t,s){return(t=Gw(t))in n?Object.defineProperty(n,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[t]=s,n}function gf(n,t){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);t&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,o)}return s}function ge(n){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?gf(Object(s),!0).forEach(function(o){Yw(n,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):gf(Object(s)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(s,o))})}return n}const Kl=n=>{var t;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(t=n.error)===null||t===void 0?void 0:t.message)||JSON.stringify(n)},Qw=async(n,t,s)=>{n instanceof await Hw()&&!s?.noResolveJson?n.json().then(o=>{const a=n.status||500,c=o?.statusCode||a+"";t(new Vw(Kl(o),a,c))}).catch(o=>{t(new hu(Kl(o),o))}):t(new hu(Kl(n),n))},Xw=(n,t,s,o)=>{const a={method:n,headers:t?.headers||{}};return n==="GET"||!o?a:(Jw(o)?(a.headers=ge({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(o)):a.body=o,t?.duplex&&(a.duplex=t.duplex),ge(ge({},a),s))};async function so(n,t,s,o,a,c){return new Promise((d,f)=>{n(s,Xw(t,o,a,c)).then(g=>{if(!g.ok)throw g;return o?.noResolveJson?g:g.json()}).then(g=>d(g)).catch(g=>Qw(g,f,o))})}async function Ks(n,t,s,o){return so(n,"GET",t,s,o)}async function Yt(n,t,s,o,a){return so(n,"POST",t,o,a,s)}async function pu(n,t,s,o,a){return so(n,"PUT",t,o,a,s)}async function Zw(n,t,s,o){return so(n,"HEAD",t,ge(ge({},s),{},{noResolveJson:!0}),o)}async function Pu(n,t,s,o,a){return so(n,"DELETE",t,o,a,s)}var ex=class{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t}then(n,t){return this.execute().then(n,t)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(t){if(n.shouldThrowOnError)throw t;if(ze(t))return{data:null,error:t};throw t}}};let Fp;Fp=Symbol.toStringTag;var tx=class{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t,this[Fp]="BlobDownloadBuilder",this.promise=null}asStream(){return new ex(this.downloadFn,this.shouldThrowOnError)}then(n,t){return this.getPromise().then(n,t)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(t){if(n.shouldThrowOnError)throw t;if(ze(t))return{data:null,error:t};throw t}}};const nx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var rx=class{constructor(n,t={},s,o){this.shouldThrowOnError=!1,this.url=n,this.headers=t,this.bucketId=s,this.fetch=Iu(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(n,t,s,o){var a=this;try{let c;const d=ge(ge({},mf),o);let f=ge(ge({},a.headers),n==="POST"&&{"x-upsert":String(d.upsert)});const g=d.metadata;typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),g&&c.append("metadata",a.encodeMetadata(g)),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.has("cacheControl")||c.append("cacheControl",d.cacheControl),g&&!c.has("metadata")&&c.append("metadata",a.encodeMetadata(g))):(c=s,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType,g&&(f["x-metadata"]=a.toBase64(a.encodeMetadata(g))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!d.duplex&&(d.duplex="half")),o?.headers&&(f=ge(ge({},f),o.headers));const m=a._removeEmptyFolders(t),y=a._getFinalPath(m),b=await(n=="PUT"?pu:Yt)(a.fetch,`${a.url}/object/${y}`,c,ge({headers:f},d?.duplex?{duplex:d.duplex}:{}));return{data:{path:m,id:b.Id,fullPath:b.Key},error:null}}catch(c){if(a.shouldThrowOnError)throw c;if(ze(c))return{data:null,error:c};throw c}}async upload(n,t,s){return this.uploadOrUpdate("POST",n,t,s)}async uploadToSignedUrl(n,t,s,o){var a=this;const c=a._removeEmptyFolders(n),d=a._getFinalPath(c),f=new URL(a.url+`/object/upload/sign/${d}`);f.searchParams.set("token",t);try{let g;const m=ge({upsert:mf.upsert},o),y=ge(ge({},a.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&s instanceof Blob?(g=new FormData,g.append("cacheControl",m.cacheControl),g.append("",s)):typeof FormData<"u"&&s instanceof FormData?(g=s,g.append("cacheControl",m.cacheControl)):(g=s,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType),{data:{path:c,fullPath:(await pu(a.fetch,f.toString(),g,{headers:y})).Key},error:null}}catch(g){if(a.shouldThrowOnError)throw g;if(ze(g))return{data:null,error:g};throw g}}async createSignedUploadUrl(n,t){var s=this;try{let o=s._getFinalPath(n);const a=ge({},s.headers);t?.upsert&&(a["x-upsert"]="true");const c=await Yt(s.fetch,`${s.url}/object/upload/sign/${o}`,{},{headers:a}),d=new URL(s.url+c.url),f=d.searchParams.get("token");if(!f)throw new Wi("No token returned by API");return{data:{signedUrl:d.toString(),path:n,token:f},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(ze(o))return{data:null,error:o};throw o}}async update(n,t,s){return this.uploadOrUpdate("PUT",n,t,s)}async move(n,t,s){var o=this;try{return{data:await Yt(o.fetch,`${o.url}/object/move`,{bucketId:o.bucketId,sourceKey:n,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:o.headers}),error:null}}catch(a){if(o.shouldThrowOnError)throw a;if(ze(a))return{data:null,error:a};throw a}}async copy(n,t,s){var o=this;try{return{data:{path:(await Yt(o.fetch,`${o.url}/object/copy`,{bucketId:o.bucketId,sourceKey:n,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:o.headers})).Key},error:null}}catch(a){if(o.shouldThrowOnError)throw a;if(ze(a))return{data:null,error:a};throw a}}async createSignedUrl(n,t,s){var o=this;try{let a=o._getFinalPath(n),c=await Yt(o.fetch,`${o.url}/object/sign/${a}`,ge({expiresIn:t},s?.transform?{transform:s.transform}:{}),{headers:o.headers});const d=s?.download?`&download=${s.download===!0?"":s.download}`:"";return c={signedUrl:encodeURI(`${o.url}${c.signedURL}${d}`)},{data:c,error:null}}catch(a){if(o.shouldThrowOnError)throw a;if(ze(a))return{data:null,error:a};throw a}}async createSignedUrls(n,t,s){var o=this;try{const a=await Yt(o.fetch,`${o.url}/object/sign/${o.bucketId}`,{expiresIn:t,paths:n},{headers:o.headers}),c=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:a.map(d=>ge(ge({},d),{},{signedUrl:d.signedURL?encodeURI(`${o.url}${d.signedURL}${c}`):null})),error:null}}catch(a){if(o.shouldThrowOnError)throw a;if(ze(a))return{data:null,error:a};throw a}}download(n,t){const s=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),a=o?`?${o}`:"",c=this._getFinalPath(n),d=()=>Ks(this.fetch,`${this.url}/${s}/${c}${a}`,{headers:this.headers,noResolveJson:!0});return new tx(d,this.shouldThrowOnError)}async info(n){var t=this;const s=t._getFinalPath(n);try{return{data:fu(await Ks(t.fetch,`${t.url}/object/info/${s}`,{headers:t.headers})),error:null}}catch(o){if(t.shouldThrowOnError)throw o;if(ze(o))return{data:null,error:o};throw o}}async exists(n){var t=this;const s=t._getFinalPath(n);try{return await Zw(t.fetch,`${t.url}/object/${s}`,{headers:t.headers}),{data:!0,error:null}}catch(o){if(t.shouldThrowOnError)throw o;if(ze(o)&&o instanceof hu){const a=o.originalError;if([400,404].includes(a?.status))return{data:!1,error:o}}throw o}}getPublicUrl(n,t){const s=this._getFinalPath(n),o=[],a=t?.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&o.push(a);const c=typeof t?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(t?.transform||{});d!==""&&o.push(d);let f=o.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${s}${f}`)}}}async remove(n){var t=this;try{return{data:await Pu(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:n},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(ze(s))return{data:null,error:s};throw s}}async list(n,t,s){var o=this;try{const a=ge(ge(ge({},nx),t),{},{prefix:n||""});return{data:await Yt(o.fetch,`${o.url}/object/list/${o.bucketId}`,a,{headers:o.headers},s),error:null}}catch(a){if(o.shouldThrowOnError)throw a;if(ze(a))return{data:null,error:a};throw a}}async listV2(n,t){var s=this;try{const o=ge({},n);return{data:await Yt(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,o,{headers:s.headers},t),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(ze(o))return{data:null,error:o};throw o}}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}};const Bp="2.89.0",zp={"X-Client-Info":`storage-js/${Bp}`};var sx=class{constructor(n,t={},s,o){this.shouldThrowOnError=!1;const a=new URL(n);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=ge(ge({},zp),t),this.fetch=Iu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(n){var t=this;try{const s=t.listBucketOptionsToQueryString(n);return{data:await Ks(t.fetch,`${t.url}/bucket${s}`,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(ze(s))return{data:null,error:s};throw s}}async getBucket(n){var t=this;try{return{data:await Ks(t.fetch,`${t.url}/bucket/${n}`,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(ze(s))return{data:null,error:s};throw s}}async createBucket(n,t={public:!1}){var s=this;try{return{data:await Yt(s.fetch,`${s.url}/bucket`,{id:n,name:n,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(ze(o))return{data:null,error:o};throw o}}async updateBucket(n,t){var s=this;try{return{data:await pu(s.fetch,`${s.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(ze(o))return{data:null,error:o};throw o}}async emptyBucket(n){var t=this;try{return{data:await Yt(t.fetch,`${t.url}/bucket/${n}/empty`,{},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(ze(s))return{data:null,error:s};throw s}}async deleteBucket(n){var t=this;try{return{data:await Pu(t.fetch,`${t.url}/bucket/${n}`,{},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(ze(s))return{data:null,error:s};throw s}}listBucketOptionsToQueryString(n){const t={};return n&&("limit"in n&&(t.limit=String(n.limit)),"offset"in n&&(t.offset=String(n.offset)),n.search&&(t.search=n.search),n.sortColumn&&(t.sortColumn=n.sortColumn),n.sortOrder&&(t.sortOrder=n.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},ox=class{constructor(n,t={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=ge(ge({},zp),t),this.fetch=Iu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var t=this;try{return{data:await Yt(t.fetch,`${t.url}/bucket`,{name:n},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(ze(s))return{data:null,error:s};throw s}}async listBuckets(n){var t=this;try{const s=new URLSearchParams;n?.limit!==void 0&&s.set("limit",n.limit.toString()),n?.offset!==void 0&&s.set("offset",n.offset.toString()),n?.sortColumn&&s.set("sortColumn",n.sortColumn),n?.sortOrder&&s.set("sortOrder",n.sortOrder),n?.search&&s.set("search",n.search);const o=s.toString(),a=o?`${t.url}/bucket?${o}`:`${t.url}/bucket`;return{data:await Ks(t.fetch,a,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(ze(s))return{data:null,error:s};throw s}}async deleteBucket(n){var t=this;try{return{data:await Pu(t.fetch,`${t.url}/bucket/${n}`,{},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(ze(s))return{data:null,error:s};throw s}}from(n){var t=this;if(!qw(n))throw new Wi("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new Ww({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),o=this.shouldThrowOnError;return new Proxy(s,{get(a,c){const d=a[c];return typeof d!="function"?d:async(...f)=>{try{return{data:await d.apply(a,f),error:null}}catch(g){if(o)throw g;return{data:null,error:g}}}}})}};const Lu={"X-Client-Info":`storage-js/${Bp}`,"Content-Type":"application/json"};var Wp=class extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Nt(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var Gl=class extends Wp{constructor(n,t,s){super(n),this.name="StorageVectorsApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ix=class extends Wp{constructor(n,t){super(n),this.name="StorageVectorsUnknownError",this.originalError=t}};const $u=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),ax=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},yf=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),lx=async(n,t,s)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!s?.noResolveJson){const o=n.status||500,a=n;if(typeof a.json=="function")a.json().then(c=>{const d=c?.statusCode||c?.code||o+"";t(new Gl(yf(c),o,d))}).catch(()=>{const c=o+"";t(new Gl(a.statusText||`HTTP ${o} error`,o,c))});else{const c=o+"";t(new Gl(a.statusText||`HTTP ${o} error`,o,c))}}else t(new ix(yf(n),n))},ux=(n,t,s,o)=>{const a={method:n,headers:t?.headers||{}};return o?(ax(o)?(a.headers=ge({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(o)):a.body=o,ge(ge({},a),s)):a};async function cx(n,t,s,o,a,c){return new Promise((d,f)=>{n(s,ux(t,o,a,c)).then(g=>{if(!g.ok)throw g;if(o?.noResolveJson)return g;const m=g.headers.get("content-type");return!m||!m.includes("application/json")?{}:g.json()}).then(g=>d(g)).catch(g=>lx(g,f,o))})}async function Ot(n,t,s,o,a){return cx(n,"POST",t,o,a,s)}var dx=class{constructor(n,t={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=ge(ge({},Lu),t),this.fetch=$u(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(n){var t=this;try{return{data:await Ot(t.fetch,`${t.url}/CreateIndex`,n,{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Nt(s))return{data:null,error:s};throw s}}async getIndex(n,t){var s=this;try{return{data:await Ot(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:n,indexName:t},{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Nt(o))return{data:null,error:o};throw o}}async listIndexes(n){var t=this;try{return{data:await Ot(t.fetch,`${t.url}/ListIndexes`,n,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Nt(s))return{data:null,error:s};throw s}}async deleteIndex(n,t){var s=this;try{return{data:await Ot(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:n,indexName:t},{headers:s.headers})||{},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Nt(o))return{data:null,error:o};throw o}}},hx=class{constructor(n,t={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=ge(ge({},Lu),t),this.fetch=$u(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(n){var t=this;try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ot(t.fetch,`${t.url}/PutVectors`,n,{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Nt(s))return{data:null,error:s};throw s}}async getVectors(n){var t=this;try{return{data:await Ot(t.fetch,`${t.url}/GetVectors`,n,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Nt(s))return{data:null,error:s};throw s}}async listVectors(n){var t=this;try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:await Ot(t.fetch,`${t.url}/ListVectors`,n,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Nt(s))return{data:null,error:s};throw s}}async queryVectors(n){var t=this;try{return{data:await Ot(t.fetch,`${t.url}/QueryVectors`,n,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Nt(s))return{data:null,error:s};throw s}}async deleteVectors(n){var t=this;try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ot(t.fetch,`${t.url}/DeleteVectors`,n,{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Nt(s))return{data:null,error:s};throw s}}},fx=class{constructor(n,t={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=ge(ge({},Lu),t),this.fetch=$u(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var t=this;try{return{data:await Ot(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Nt(s))return{data:null,error:s};throw s}}async getBucket(n){var t=this;try{return{data:await Ot(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:n},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Nt(s))return{data:null,error:s};throw s}}async listBuckets(n={}){var t=this;try{return{data:await Ot(t.fetch,`${t.url}/ListVectorBuckets`,n,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Nt(s))return{data:null,error:s};throw s}}async deleteBucket(n){var t=this;try{return{data:await Ot(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Nt(s))return{data:null,error:s};throw s}}},px=class extends fx{constructor(n,t={}){super(n,t.headers||{},t.fetch)}from(n){return new gx(this.url,this.headers,n,this.fetch)}async createBucket(n){var t=()=>super.createBucket,s=this;return t().call(s,n)}async getBucket(n){var t=()=>super.getBucket,s=this;return t().call(s,n)}async listBuckets(n={}){var t=()=>super.listBuckets,s=this;return t().call(s,n)}async deleteBucket(n){var t=()=>super.deleteBucket,s=this;return t().call(s,n)}},gx=class extends dx{constructor(n,t,s,o){super(n,t,o),this.vectorBucketName=s}async createIndex(n){var t=()=>super.createIndex,s=this;return t().call(s,ge(ge({},n),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(n={}){var t=()=>super.listIndexes,s=this;return t().call(s,ge(ge({},n),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(n){var t=()=>super.getIndex,s=this;return t().call(s,s.vectorBucketName,n)}async deleteIndex(n){var t=()=>super.deleteIndex,s=this;return t().call(s,s.vectorBucketName,n)}index(n){return new mx(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},mx=class extends hx{constructor(n,t,s,o,a){super(n,t,a),this.vectorBucketName=s,this.indexName=o}async putVectors(n){var t=()=>super.putVectors,s=this;return t().call(s,ge(ge({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(n){var t=()=>super.getVectors,s=this;return t().call(s,ge(ge({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(n={}){var t=()=>super.listVectors,s=this;return t().call(s,ge(ge({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(n){var t=()=>super.queryVectors,s=this;return t().call(s,ge(ge({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(n){var t=()=>super.deleteVectors,s=this;return t().call(s,ge(ge({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},yx=class extends sx{constructor(n,t={},s,o){super(n,t,s,o)}from(n){return new rx(this.url,this.headers,n,this.fetch)}get vectors(){return new px(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new ox(this.url+"/iceberg",this.headers,this.fetch)}};const Vp="2.89.0",Vr=30*1e3,gu=3,Yl=gu*Vr,vx="http://localhost:9999",wx="supabase.auth.token",xx={"X-Client-Info":`gotrue-js/${Vp}`},mu="X-Supabase-Api-Version",Hp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},bx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_x=600*1e3;class Gs extends Error{constructor(t,s,o){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=o}}function le(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class Sx extends Gs{constructor(t,s,o){super(t,s,o),this.name="AuthApiError",this.status=s,this.code=o}}function Ex(n){return le(n)&&n.name==="AuthApiError"}class ir extends Gs{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class wn extends Gs{constructor(t,s,o,a){super(t,o,a),this.name=s,this.status=o}}class Tt extends wn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function jx(n){return le(n)&&n.name==="AuthSessionMissingError"}class $r extends wn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xi extends wn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class bi extends wn{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Cx(n){return le(n)&&n.name==="AuthImplicitGrantRedirectError"}class vf extends wn{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kx extends wn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class yu extends wn{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function Ql(n){return le(n)&&n.name==="AuthRetryableFetchError"}class wf extends wn{constructor(t,s,o){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=o}}class vu extends wn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ai="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),xf=` 	
\r=`.split(""),Rx=(()=>{const n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<xf.length;t+=1)n[xf[t].charCodeAt(0)]=-2;for(let t=0;t<Ai.length;t+=1)n[Ai[t].charCodeAt(0)]=t;return n})();function bf(n,t,s){if(n!==null)for(t.queue=t.queue<<8|n,t.queuedBits+=8;t.queuedBits>=6;){const o=t.queue>>t.queuedBits-6&63;s(Ai[o]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const o=t.queue>>t.queuedBits-6&63;s(Ai[o]),t.queuedBits-=6}}function Jp(n,t,s){const o=Rx[n];if(o>-1)for(t.queue=t.queue<<6|o,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function _f(n){const t=[],s=d=>{t.push(String.fromCodePoint(d))},o={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},c=d=>{Ox(d,o,s)};for(let d=0;d<n.length;d+=1)Jp(n.charCodeAt(d),a,c);return t.join("")}function Tx(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function Nx(n,t){for(let s=0;s<n.length;s+=1){let o=n.charCodeAt(s);if(o>55295&&o<=56319){const a=(o-55296)*1024&65535;o=(n.charCodeAt(s+1)-56320&65535|a)+65536,s+=1}Tx(o,t)}}function Ox(n,t,s){if(t.utf8seq===0){if(n<=127){s(n);return}for(let o=1;o<6;o+=1)if((n>>7-o&1)===0){t.utf8seq=o;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function Kr(n){const t=[],s={queue:0,queuedBits:0},o=a=>{t.push(a)};for(let a=0;a<n.length;a+=1)Jp(n.charCodeAt(a),s,o);return new Uint8Array(t)}function Ax(n){const t=[];return Nx(n,s=>t.push(s)),new Uint8Array(t)}function lr(n){const t=[],s={queue:0,queuedBits:0},o=a=>{t.push(a)};return n.forEach(a=>bf(a,s,o)),bf(null,s,o),t.join("")}function Dx(n){return Math.round(Date.now()/1e3)+n}function Ix(){return Symbol("auth-callback")}const at=()=>typeof window<"u"&&typeof document<"u",nr={tested:!1,writable:!1},qp=()=>{if(!at())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(nr.tested)return nr.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),nr.tested=!0,nr.writable=!0}catch{nr.tested=!0,nr.writable=!1}return nr.writable};function Px(n){const t={},s=new URL(n);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((a,c)=>{t[c]=a})}catch{}return s.searchParams.forEach((o,a)=>{t[a]=o}),t}const Kp=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),Lx=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Hr=async(n,t,s)=>{await n.setItem(t,JSON.stringify(s))},rr=async(n,t)=>{const s=await n.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},it=async(n,t)=>{await n.removeItem(t)};class Vi{constructor(){this.promise=new Vi.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}Vi.promiseConstructor=Promise;function Xl(n){const t=n.split(".");if(t.length!==3)throw new vu("Invalid JWT structure");for(let o=0;o<t.length;o++)if(!bx.test(t[o]))throw new vu("JWT not in base64url format");return{header:JSON.parse(_f(t[0])),payload:JSON.parse(_f(t[1])),signature:Kr(t[2]),raw:{header:t[0],payload:t[1]}}}async function $x(n){return await new Promise(t=>{setTimeout(()=>t(null),n)})}function Ux(n,t){return new Promise((o,a)=>{(async()=>{for(let c=0;c<1/0;c++)try{const d=await n(c);if(!t(c,null,d)){o(d);return}}catch(d){if(!t(c,d)){a(d);return}}})()})}function Mx(n){return("0"+n.toString(16)).substr(-2)}function Fx(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=s.length;let a="";for(let c=0;c<56;c++)a+=s.charAt(Math.floor(Math.random()*o));return a}return crypto.getRandomValues(t),Array.from(t,Mx).join("")}async function Bx(n){const s=new TextEncoder().encode(n),o=await crypto.subtle.digest("SHA-256",s),a=new Uint8Array(o);return Array.from(a).map(c=>String.fromCharCode(c)).join("")}async function zx(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const s=await Bx(n);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ur(n,t,s=!1){const o=Fx();let a=o;s&&(a+="/PASSWORD_RECOVERY"),await Hr(n,`${t}-code-verifier`,a);const c=await zx(o);return[c,o===c?"plain":"s256"]}const Wx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Vx(n){const t=n.headers.get(mu);if(!t||!t.match(Wx))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Hx(n){if(!n)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function Jx(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const qx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Mr(n){if(!qx.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Zl(){const n={};return new Proxy(n,{get:(t,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const o=s.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Kx(n,t){return new Proxy(n,{get:(s,o,a)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const c=o.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,o,a)}return!t.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(s,o,a)}})}function Sf(n){return JSON.parse(JSON.stringify(n))}const sr=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Gx=[502,503,504];async function Ef(n){var t;if(!Lx(n))throw new yu(sr(n),0);if(Gx.includes(n.status))throw new yu(sr(n),n.status);let s;try{s=await n.json()}catch(c){throw new ir(sr(c),c)}let o;const a=Vx(n);if(a&&a.getTime()>=Hp["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?o=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(o=s.error_code),o){if(o==="weak_password")throw new wf(sr(s),n.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(o==="session_not_found")throw new Tt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,d)=>c&&typeof d=="string",!0))throw new wf(sr(s),n.status,s.weak_password.reasons);throw new Sx(sr(s),n.status||500,o)}const Yx=(n,t,s,o)=>{const a={method:n,headers:t?.headers||{}};return n==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(o),Object.assign(Object.assign({},a),s))};async function pe(n,t,s,o){var a;const c=Object.assign({},o?.headers);c[mu]||(c[mu]=Hp["2024-01-01"].name),o?.jwt&&(c.Authorization=`Bearer ${o.jwt}`);const d=(a=o?.query)!==null&&a!==void 0?a:{};o?.redirectTo&&(d.redirect_to=o.redirectTo);const f=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",g=await Qx(n,t,s+f,{headers:c,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(g):{data:Object.assign({},g),error:null}}async function Qx(n,t,s,o,a,c){const d=Yx(t,o,a,c);let f;try{f=await n(s,Object.assign({},d))}catch(g){throw console.error(g),new yu(sr(g),0)}if(f.ok||await Ef(f),o?.noResolveJson)return f;try{return await f.json()}catch(g){await Ef(g)}}function Gt(n){var t;let s=null;eb(n)&&(s=Object.assign({},n),n.expires_at||(s.expires_at=Dx(n.expires_in)));const o=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:s,user:o},error:null}}function jf(n){const t=Gt(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0)&&(t.data.weak_password=n.weak_password),t}function Bn(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function Xx(n){return{data:n,error:null}}function Zx(n){const{action_link:t,email_otp:s,hashed_token:o,redirect_to:a,verification_type:c}=n,d=zi(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:s,hashed_token:o,redirect_to:a,verification_type:c},g=Object.assign({},d);return{data:{properties:f,user:g},error:null}}function Cf(n){return n}function eb(n){return n.access_token&&n.refresh_token&&n.expires_in}const eu=["global","local","others"];class tb{constructor({url:t="",headers:s={},fetch:o}){this.url=t,this.headers=s,this.fetch=Kp(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,s=eu[0]){if(eu.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${eu.join(", ")}`);try{return await pe(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(o){if(le(o))return{data:null,error:o};throw o}}async inviteUserByEmail(t,s={}){try{return await pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Bn})}catch(o){if(le(o))return{data:{user:null},error:o};throw o}}async generateLink(t){try{const{options:s}=t,o=zi(t,["options"]),a=Object.assign(Object.assign({},o),s);return"newEmail"in o&&(a.new_email=o?.newEmail,delete a.newEmail),await pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Zx,redirectTo:s?.redirectTo})}catch(s){if(le(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await pe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Bn})}catch(s){if(le(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,o,a,c,d,f,g;try{const m={nextPage:null,lastPage:0,total:0},y=await pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(s=t?.page)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"",per_page:(c=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&c!==void 0?c:""},xform:Cf});if(y.error)throw y.error;const b=await y.json(),j=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,k=(g=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&g!==void 0?g:[];return k.length>0&&(k.forEach(v=>{const _=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);m[`${x}Page`]=_}),m.total=parseInt(j)),{data:Object.assign(Object.assign({},b),m),error:null}}catch(m){if(le(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){Mr(t);try{return await pe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Bn})}catch(s){if(le(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){Mr(t);try{return await pe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:Bn})}catch(o){if(le(o))return{data:{user:null},error:o};throw o}}async deleteUser(t,s=!1){Mr(t);try{return await pe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:Bn})}catch(o){if(le(o))return{data:{user:null},error:o};throw o}}async _listFactors(t){Mr(t.userId);try{const{data:s,error:o}=await pe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:s,error:o}}catch(s){if(le(s))return{data:null,error:s};throw s}}async _deleteFactor(t){Mr(t.userId),Mr(t.id);try{return{data:await pe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}}async _listOAuthClients(t){var s,o,a,c,d,f,g;try{const m={nextPage:null,lastPage:0,total:0},y=await pe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(s=t?.page)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"",per_page:(c=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&c!==void 0?c:""},xform:Cf});if(y.error)throw y.error;const b=await y.json(),j=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,k=(g=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&g!==void 0?g:[];return k.length>0&&(k.forEach(v=>{const _=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);m[`${x}Page`]=_}),m.total=parseInt(j)),{data:Object.assign(Object.assign({},b),m),error:null}}catch(m){if(le(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(t){try{return await pe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(le(s))return{data:null,error:s};throw s}}async _getOAuthClient(t){try{return await pe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(le(s))return{data:null,error:s};throw s}}async _updateOAuthClient(t,s){try{return await pe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:s,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(le(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(t){try{return await pe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(t){try{return await pe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(le(s))return{data:null,error:s};throw s}}}function kf(n={}){return{getItem:t=>n[t]||null,setItem:(t,s)=>{n[t]=s},removeItem:t=>{delete n[t]}}}const Fr={debug:!!(globalThis&&qp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Gp extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class nb extends Gp{}async function rb(n,t,s){Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);const o=new globalThis.AbortController;return t>0&&setTimeout(()=>{o.abort(),Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async a=>{if(a){Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,a.name);try{return await s()}finally{Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,a.name)}}else{if(t===0)throw Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new nb(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Fr.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function sb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Yp(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function ob(n){return parseInt(n,16)}function ib(n){const t=new TextEncoder().encode(n);return"0x"+Array.from(t,o=>o.toString(16).padStart(2,"0")).join("")}function ab(n){var t;const{chainId:s,domain:o,expirationTime:a,issuedAt:c=new Date,nonce:d,notBefore:f,requestId:g,resources:m,scheme:y,uri:b,version:j}=n;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(j!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${j}`);if(!((t=n.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const k=Yp(n.address),v=y?`${y}://${o}`:o,_=n.statement?`${n.statement}
`:"",x=`${v} wants you to sign in with your Ethereum account:
${k}

${_}`;let T=`URI: ${b}
Version: ${j}
Chain ID: ${s}${d?`
Nonce: ${d}`:""}
Issued At: ${c.toISOString()}`;if(a&&(T+=`
Expiration Time: ${a.toISOString()}`),f&&(T+=`
Not Before: ${f.toISOString()}`),g&&(T+=`
Request ID: ${g}`),m){let N=`
Resources:`;for(const A of m){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);N+=`
- ${A}`}T+=N}return`${x}
${T}`}class Ge extends Error{constructor({message:t,code:s,cause:o,name:a}){var c;super(t,{cause:o}),this.__isWebAuthnError=!0,this.name=(c=a??(o instanceof Error?o.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=s}}class Di extends Ge{constructor(t,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:t}),this.name="WebAuthnUnknownError",this.originalError=s}}function lb({error:n,options:t}){var s,o,a;const{publicKey:c}=t;if(!c)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ge({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((s=c.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new Ge({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(t.mediation==="conditional"&&((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Ge({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((a=c.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Ge({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Ge({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Ge({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return c.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new Ge({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Ge({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const d=window.location.hostname;if(Qp(d)){if(c.rp.id!==d)return new Ge({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Ge({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new Ge({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Ge({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Ge({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function ub({error:n,options:t}){const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ge({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Ge({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const o=window.location.hostname;if(Qp(o)){if(s.rpId!==o)return new Ge({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Ge({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Ge({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Ge({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class cb{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const db=new cb;function hb(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:t,user:s,excludeCredentials:o}=n,a=zi(n,["challenge","user","excludeCredentials"]),c=Kr(t).buffer,d=Object.assign(Object.assign({},s),{id:Kr(s.id).buffer}),f=Object.assign(Object.assign({},a),{challenge:c,user:d});if(o&&o.length>0){f.excludeCredentials=new Array(o.length);for(let g=0;g<o.length;g++){const m=o[g];f.excludeCredentials[g]=Object.assign(Object.assign({},m),{id:Kr(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return f}function fb(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:t,allowCredentials:s}=n,o=zi(n,["challenge","allowCredentials"]),a=Kr(t).buffer,c=Object.assign(Object.assign({},o),{challenge:a});if(s&&s.length>0){c.allowCredentials=new Array(s.length);for(let d=0;d<s.length;d++){const f=s[d];c.allowCredentials[d]=Object.assign(Object.assign({},f),{id:Kr(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function pb(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n;return{id:n.id,rawId:n.id,response:{attestationObject:lr(new Uint8Array(n.response.attestationObject)),clientDataJSON:lr(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function gb(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n,o=n.getClientExtensionResults(),a=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:lr(new Uint8Array(a.authenticatorData)),clientDataJSON:lr(new Uint8Array(a.clientDataJSON)),signature:lr(new Uint8Array(a.signature)),userHandle:a.userHandle?lr(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Qp(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function Rf(){var n,t;return!!(at()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function mb(n){try{const t=await navigator.credentials.create(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Di("Browser returned unexpected credential type",t)}:{data:null,error:new Di("Empty credential response",t)}}catch(t){return{data:null,error:lb({error:t,options:n})}}}async function yb(n){try{const t=await navigator.credentials.get(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Di("Browser returned unexpected credential type",t)}:{data:null,error:new Di("Empty credential response",t)}}catch(t){return{data:null,error:ub({error:t,options:n})}}}const vb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},wb={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ii(...n){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),s=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),o={};for(const a of n)if(a)for(const c in a){const d=a[c];if(d!==void 0)if(Array.isArray(d))o[c]=d;else if(s(d))o[c]=d;else if(t(d)){const f=o[c];t(f)?o[c]=Ii(f,d):o[c]=Ii(d)}else o[c]=d}return o}function xb(n,t){return Ii(vb,n,t||{})}function bb(n,t){return Ii(wb,n,t||{})}class _b{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:s,friendlyName:o,signal:a},c){try{const{data:d,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:s});if(!d)return{data:null,error:f};const g=a??db.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:m}=d.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${o}`),m.displayName||(m.displayName=m.name)}switch(d.webauthn.type){case"create":{const m=xb(d.webauthn.credential_options.publicKey,c?.create),{data:y,error:b}=await mb({publicKey:m,signal:g});return y?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:y}},error:null}:{data:null,error:b}}case"request":{const m=bb(d.webauthn.credential_options.publicKey,c?.request),{data:y,error:b}=await yb(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:m,signal:g}));return y?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:y}},error:null}:{data:null,error:b}}}}catch(d){return le(d)?{data:null,error:d}:{data:null,error:new ir("Unexpected error in challenge",d)}}}async _verify({challengeId:t,factorId:s,webauthn:o}){return this.client.mfa.verify({factorId:s,challengeId:t,webauthn:o})}async _authenticate({factorId:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},c){if(!s)return{data:null,error:new Gs("rpId is required for WebAuthn authentication")};try{if(!Rf())return{data:null,error:new ir("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this.challenge({factorId:t,webauthn:{rpId:s,rpOrigins:o},signal:a},{request:c});if(!d)return{data:null,error:f};const{webauthn:g}=d;return this._verify({factorId:t,challengeId:d.challengeId,webauthn:{type:g.type,rpId:s,rpOrigins:o,credential_response:g.credential_response}})}catch(d){return le(d)?{data:null,error:d}:{data:null,error:new ir("Unexpected error in authenticate",d)}}}async _register({friendlyName:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},c){if(!s)return{data:null,error:new Gs("rpId is required for WebAuthn registration")};try{if(!Rf())return{data:null,error:new ir("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this._enroll({friendlyName:t});if(!d)return await this.client.mfa.listFactors().then(y=>{var b;return(b=y.data)===null||b===void 0?void 0:b.all.find(j=>j.factor_type==="webauthn"&&j.friendly_name===t&&j.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:f};const{data:g,error:m}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:s,rpOrigins:o},signal:a},{create:c});return g?this._verify({factorId:d.id,challengeId:g.challengeId,webauthn:{rpId:s,rpOrigins:o,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:m}}catch(d){return le(d)?{data:null,error:d}:{data:null,error:new ir("Unexpected error in register",d)}}}}sb();const Sb={url:vx,storageKey:wx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Tf(n,t,s){return await s()}const Br={};class Ys{get jwks(){var t,s;return(s=(t=Br[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(t){Br[this.storageKey]=Object.assign(Object.assign({},Br[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,s;return(s=(t=Br[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Br[this.storageKey]=Object.assign(Object.assign({},Br[this.storageKey]),{cachedAt:t})}constructor(t){var s,o,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},Sb),t);if(this.storageKey=c.storageKey,this.instanceID=(s=Ys.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,Ys.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&at()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new tb({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=Kp(c.fetch),this.lock=c.lock||Tf,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,c.lock?this.lock=c.lock:this.persistSession&&at()&&(!((o=globalThis?.navigator)===null||o===void 0)&&o.locks)?this.lock=rb:this.lock=Tf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new _b(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:qp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=kf(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=kf(this.memoryStorage)),at()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Vp}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let s={},o="none";if(at()&&(s=Px(window.location.href),this._isImplicitGrantCallback(s)?o="implicit":await this._isPKCECallback(s)&&(o="pkce")),at()&&this.detectSessionInUrl&&o!=="none"){const{data:a,error:c}=await this._getSessionFromURL(s,o);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),Cx(c)){const g=(t=c.details)===null||t===void 0?void 0:t.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:d,redirectType:f}=a;return this._debug("#_initialize()","detected session in URL",d,"redirect type",f),await this._saveSession(d),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return le(s)?this._returnResult({error:s}):this._returnResult({error:new ir("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,o,a;try{const c=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(s=t?.options)===null||s===void 0?void 0:s.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Gt}),{data:d,error:f}=c;if(f||!d)return this._returnResult({data:{user:null,session:null},error:f});const g=d.session,m=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:m,session:g},error:null})}catch(c){if(le(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(t){var s,o,a;try{let c;if("email"in t){const{email:y,password:b,options:j}=t;let k=null,v=null;this.flowType==="pkce"&&([k,v]=await Ur(this.storage,this.storageKey)),c=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:j?.emailRedirectTo,body:{email:y,password:b,data:(s=j?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:j?.captchaToken},code_challenge:k,code_challenge_method:v},xform:Gt})}else if("phone"in t){const{phone:y,password:b,options:j}=t;c=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:b,data:(o=j?.data)!==null&&o!==void 0?o:{},channel:(a=j?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:j?.captchaToken}},xform:Gt})}else throw new xi("You must provide either an email or phone number and a password");const{data:d,error:f}=c;if(f||!d)return await it(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const g=d.session,m=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:m,session:g},error:null})}catch(c){if(await it(this.storage,`${this.storageKey}-code-verifier`),le(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(t){try{let s;if("email"in t){const{email:c,password:d,options:f}=t;s=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:d,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:jf})}else if("phone"in t){const{phone:c,password:d,options:f}=t;s=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:d,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:jf})}else throw new xi("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!o||!o.session||!o.user){const c=new $r;return this._returnResult({data:{user:null,session:null},error:c})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:a})}catch(s){if(le(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(t){var s,o,a,c;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(c=t.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;switch(s){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(t){var s,o,a,c,d,f,g,m,y,b,j;let k,v;if("message"in t)k=t.message,v=t.signature;else{const{chain:_,wallet:x,statement:T,options:N}=t;let A;if(at())if(typeof x=="object")A=x;else{const q=window;if("ethereum"in q&&typeof q.ethereum=="object"&&"request"in q.ethereum&&typeof q.ethereum.request=="function")A=q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=x}const F=new URL((s=N?.url)!==null&&s!==void 0?s:window.location.href),z=await A.request({method:"eth_requestAccounts"}).then(q=>q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!z||z.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const K=Yp(z[0]);let Q=(o=N?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!Q){const q=await A.request({method:"eth_chainId"});Q=ob(q)}const X={domain:F.host,address:K,statement:T,uri:F.href,version:"1",chainId:Q,nonce:(a=N?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(d=(c=N?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(f=N?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(g=N?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(m=N?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(y=N?.signInWithEthereum)===null||y===void 0?void 0:y.resources};k=ab(X),v=await A.request({method:"personal_sign",params:[ib(k),K]})}try{const{data:_,error:x}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:k,signature:v},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(j=t.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:Gt});if(x)throw x;if(!_||!_.session||!_.user){const T=new $r;return this._returnResult({data:{user:null,session:null},error:T})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:x})}catch(_){if(le(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(t){var s,o,a,c,d,f,g,m,y,b,j,k;let v,_;if("message"in t)v=t.message,_=t.signature;else{const{chain:x,wallet:T,statement:N,options:A}=t;let F;if(at())if(typeof T=="object")F=T;else{const K=window;if("solana"in K&&typeof K.solana=="object"&&("signIn"in K.solana&&typeof K.solana.signIn=="function"||"signMessage"in K.solana&&typeof K.solana.signMessage=="function"))F=K.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=T}const z=new URL((s=A?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in F&&F.signIn){const K=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:z.host,uri:z.href}),N?{statement:N}:null));let Q;if(Array.isArray(K)&&K[0]&&typeof K[0]=="object")Q=K[0];else if(K&&typeof K=="object"&&"signedMessage"in K&&"signature"in K)Q=K;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Q&&"signature"in Q&&(typeof Q.signedMessage=="string"||Q.signedMessage instanceof Uint8Array)&&Q.signature instanceof Uint8Array)v=typeof Q.signedMessage=="string"?Q.signedMessage:new TextDecoder().decode(Q.signedMessage),_=Q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${z.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${z.href}`,`Issued At: ${(a=(o=A?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((c=A?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((d=A?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((f=A?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((g=A?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((m=A?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((b=(y=A?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||b===void 0)&&b.length?["Resources",...A.signInWithSolana.resources.map(Q=>`- ${Q}`)]:[]].join(`
`);const K=await F.signMessage(new TextEncoder().encode(v),"utf8");if(!K||!(K instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=K}}try{const{data:x,error:T}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:lr(_)},!((j=t.options)===null||j===void 0)&&j.captchaToken?{gotrue_meta_security:{captcha_token:(k=t.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:Gt});if(T)throw T;if(!x||!x.session||!x.user){const N=new $r;return this._returnResult({data:{user:null,session:null},error:N})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:T})}catch(x){if(le(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const s=await rr(this.storage,`${this.storageKey}-code-verifier`),[o,a]=(s??"").split("/");try{if(!o&&this.flowType==="pkce")throw new kx;const{data:c,error:d}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:o},xform:Gt});if(await it(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!c||!c.session||!c.user){const f=new $r;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:a??null}),error:d})}catch(c){if(await it(this.storage,`${this.storageKey}-code-verifier`),le(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(t){try{const{options:s,provider:o,token:a,access_token:c,nonce:d}=t,f=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:a,access_token:c,nonce:d,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Gt}),{data:g,error:m}=f;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!g||!g.session||!g.user){const y=new $r;return this._returnResult({data:{user:null,session:null},error:y})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:m})}catch(s){if(le(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(t){var s,o,a,c,d;try{if("email"in t){const{email:f,options:g}=t;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Ur(this.storage,this.storageKey));const{error:b}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(s=g?.data)!==null&&s!==void 0?s:{},create_user:(o=g?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:m,code_challenge_method:y},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in t){const{phone:f,options:g}=t,{data:m,error:y}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(a=g?.data)!==null&&a!==void 0?a:{},create_user:(c=g?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(d=g?.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:y})}throw new xi("You must provide either an email or phone number.")}catch(f){if(await it(this.storage,`${this.storageKey}-code-verifier`),le(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(t){var s,o;try{let a,c;"options"in t&&(a=(s=t.options)===null||s===void 0?void 0:s.redirectTo,c=(o=t.options)===null||o===void 0?void 0:o.captchaToken);const{data:d,error:f}=await pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:c}}),redirectTo:a,xform:Gt});if(f)throw f;if(!d)throw new Error("An error occurred on token verification.");const g=d.session,m=d.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:m,session:g},error:null})}catch(a){if(le(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var s,o,a,c,d;try{let f=null,g=null;this.flowType==="pkce"&&([f,g]=await Ur(this.storage,this.storageKey));const m=await pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(o=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&o!==void 0?o:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:g}),headers:this.headers,xform:Xx});return!((c=m.data)===null||c===void 0)&&c.url&&at()&&!(!((d=t.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(f){if(await it(this.storage,`${this.storageKey}-code-verifier`),le(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:o}=t;if(o)throw o;if(!s)throw new Tt;const{error:a}=await pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(le(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:o,type:a,options:c}=t,{error:d}=await pe(this.fetch,"POST",s,{headers:this.headers,body:{email:o,type:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in t){const{phone:o,type:a,options:c}=t,{data:d,error:f}=await pe(this.fetch,"POST",s,{headers:this.headers,body:{phone:o,type:a,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:f})}throw new xi("You must provide either an email or phone number and a type")}catch(s){if(le(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await o,await s()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=s();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await rr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const o=t.expires_at?t.expires_at*1e3-Date.now()<Yl:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",t.expires_at),!o){if(this.userStorage){const d=await rr(this.userStorage,this.storageKey+"-user");d?.user?t.user=d.user:t.user=Zl()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};t.user=Kx(t.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:c}=await this._callRefreshToken(t.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const s=await this._acquireLock(-1,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(t){try{return t?await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Bn}):await this._useSession(async s=>{var o,a,c;const{data:d,error:f}=s;if(f)throw f;return!(!((o=d.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Tt}:await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(a=d.session)===null||a===void 0?void 0:a.access_token)!==null&&c!==void 0?c:void 0,xform:Bn})})}catch(s){if(le(s))return jx(s)&&(await this._removeSession(),await it(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async o=>{const{data:a,error:c}=o;if(c)throw c;if(!a.session)throw new Tt;const d=a.session;let f=null,g=null;this.flowType==="pkce"&&t.email!=null&&([f,g]=await Ur(this.storage,this.storageKey));const{data:m,error:y}=await pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:g}),jwt:d.access_token,xform:Bn});if(y)throw y;return d.user=m.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(o){if(await it(this.storage,`${this.storageKey}-code-verifier`),le(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Tt;const s=Date.now()/1e3;let o=s,a=!0,c=null;const{payload:d}=Xl(t.access_token);if(d.exp&&(o=d.exp,a=o<=s),a){const{data:f,error:g}=await this._callRefreshToken(t.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!f)return{data:{user:null,session:null},error:null};c=f}else{const{data:f,error:g}=await this._getUser(t.access_token);if(g)throw g;c={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:o-s,expires_at:o},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(s){if(le(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var o;if(!t){const{data:d,error:f}=s;if(f)throw f;t=(o=d.session)!==null&&o!==void 0?o:void 0}if(!t?.refresh_token)throw new Tt;const{data:a,error:c}=await this._callRefreshToken(t.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(le(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(t,s){try{if(!at())throw new bi("No browser detected.");if(t.error||t.error_description||t.error_code)throw new bi(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new vf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bi("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new vf("No code detected.");const{data:N,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:a,access_token:c,refresh_token:d,expires_in:f,expires_at:g,token_type:m}=t;if(!c||!f||!d||!m)throw new bi("No session defined in URL");const y=Math.round(Date.now()/1e3),b=parseInt(f);let j=y+b;g&&(j=parseInt(g));const k=j-y;k*1e3<=Vr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${k}s, should have been closer to ${b}s`);const v=j-b;y-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,j,y):y-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,j,y);const{data:_,error:x}=await this._getUser(c);if(x)throw x;const T={provider_token:o,provider_refresh_token:a,access_token:c,expires_in:b,expires_at:j,refresh_token:d,token_type:m,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:t.type},error:null})}catch(o){if(le(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await rr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var o;const{data:a,error:c}=s;if(c)return this._returnResult({error:c});const d=(o=a.session)===null||o===void 0?void 0:o.access_token;if(d){const{error:f}=await this.admin.signOut(d,t);if(f&&!(Ex(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return t!=="others"&&(await this._removeSession(),await it(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const s=Ix(),o={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:o}}}async _emitInitialSession(t){return await this._useSession(async s=>{var o,a;try{const{data:{session:c},error:d}=s;if(d)throw d;await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",t,"session",c)}catch(c){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",c),console.error(c)}})}async resetPasswordForEmail(t,s={}){let o=null,a=null;this.flowType==="pkce"&&([o,a]=await Ur(this.storage,this.storageKey,!0));try{return await pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:o,code_challenge_method:a,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(await it(this.storage,`${this.storageKey}-code-verifier`),le(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var t;try{const{data:s,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var s;try{const{data:o,error:a}=await this._useSession(async c=>{var d,f,g,m,y;const{data:b,error:j}=c;if(j)throw j;const k=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(d=t.options)===null||d===void 0?void 0:d.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(g=t.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await pe(this.fetch,"GET",k,{headers:this.headers,jwt:(y=(m=b.session)===null||m===void 0?void 0:m.access_token)!==null&&y!==void 0?y:void 0})});if(a)throw a;return at()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(o?.url),this._returnResult({data:{provider:t.provider,url:o?.url},error:null})}catch(o){if(le(o))return this._returnResult({data:{provider:t.provider,url:null},error:o});throw o}}async linkIdentityIdToken(t){return await this._useSession(async s=>{var o;try{const{error:a,data:{session:c}}=s;if(a)throw a;const{options:d,provider:f,token:g,access_token:m,nonce:y}=t,b=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=c?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:f,id_token:g,access_token:m,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Gt}),{data:j,error:k}=b;return k?this._returnResult({data:{user:null,session:null},error:k}):!j||!j.session||!j.user?this._returnResult({data:{user:null,session:null},error:new $r}):(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("USER_UPDATED",j.session)),this._returnResult({data:j,error:k}))}catch(a){if(await it(this.storage,`${this.storageKey}-code-verifier`),le(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async s=>{var o,a;const{data:c,error:d}=s;if(d)throw d;return await pe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0})})}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const o=Date.now();return await Ux(async a=>(a>0&&await $x(200*Math.pow(2,a-1)),this._debug(s,"refreshing attempt",a),await pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Gt})),(a,c)=>{const d=200*Math.pow(2,a);return c&&Ql(c)&&Date.now()+d-o<Vr})}catch(o){if(this._debug(s,"error",o),le(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const o=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",o),at()&&!s.skipBrowserRedirect&&window.location.assign(o),{data:{provider:t,url:o},error:null}}async _recoverAndRefresh(){var t,s;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const a=await rr(this.storage,this.storageKey);if(a&&this.userStorage){let d=await rr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:a.user},await Hr(this.userStorage,this.storageKey+"-user",d)),a.user=(t=d?.user)!==null&&t!==void 0?t:Zl()}else if(a&&!a.user&&!a.user){const d=await rr(this.storage,this.storageKey+"-user");d&&d?.user?(a.user=d.user,await it(this.storage,this.storageKey+"-user"),await Hr(this.storage,this.storageKey,a)):a.user=Zl()}if(this._debug(o,"session from storage",a),!this._isValidSession(a)){this._debug(o,"session is not valid"),a!==null&&await this._removeSession();return}const c=((s=a.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Yl;if(this._debug(o,`session has${c?"":" not"} expired with margin of ${Yl}s`),c){if(this.autoRefreshToken&&a.refresh_token){const{error:d}=await this._callRefreshToken(a.refresh_token);d&&(console.error(d),Ql(d)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:f}=await this._getUser(a.access_token);!f&&d?.user?(a.user=d.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(o,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(o,"error",a),console.error(a);return}finally{this._debug(o,"end")}}async _callRefreshToken(t){var s,o;if(!t)throw new Tt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Vi;const{data:c,error:d}=await this._refreshAccessToken(t);if(d)throw d;if(!c.session)throw new Tt;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const f={data:c.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(c){if(this._debug(a,"error",c),le(c)){const d={data:null,error:c};return Ql(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(d),d}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(c),c}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,s,o=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",s,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:t,session:s});const c=[],d=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,s)}catch(g){c.push(g)}});if(await Promise.all(d),c.length>0){for(let f=0;f<c.length;f+=1)console.error(c[f]);throw c[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await it(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},t),o=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&s.user&&await Hr(this.userStorage,this.storageKey+"-user",{user:s.user});const a=Object.assign({},s);delete a.user;const c=Sf(a);await Hr(this.storage,this.storageKey,c)}else{const a=Sf(s);await Hr(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await it(this.storage,this.storageKey),await it(this.storage,this.storageKey+"-code-verifier"),await it(this.storage,this.storageKey+"-user"),this.userStorage&&await it(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&at()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Vr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:o}}=s;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((o.expires_at*1e3-t)/Vr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Vr}ms, refresh threshold is ${gu} ticks`),a<=gu&&await this._callRefreshToken(o.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Gp)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!at()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,o){const a=[`provider=${encodeURIComponent(s)}`];if(o?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&a.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[c,d]=await Ur(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(d)}`});a.push(f.toString())}if(o?.queryParams){const c=new URLSearchParams(o.queryParams);a.push(c.toString())}return o?.skipBrowserRedirect&&a.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var o;const{data:a,error:c}=s;return c?this._returnResult({data:null,error:c}):await pe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token})})}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(t){try{return await this._useSession(async s=>{var o,a;const{data:c,error:d}=s;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:g,error:m}=await pe(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(o=c?.session)===null||o===void 0?void 0:o.access_token});return m?this._returnResult({data:null,error:m}):(t.factorType==="totp"&&g.type==="totp"&&(!((a=g?.totp)===null||a===void 0)&&a.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var o;const{data:a,error:c}=s;if(c)return this._returnResult({data:null,error:c});const d=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?pb(t.webauthn.credential_response):gb(t.webauthn.credential_response)})}:{code:t.code}),{data:f,error:g}=await pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:d,headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:g}))})}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var o;const{data:a,error:c}=s;if(c)return this._returnResult({data:null,error:c});const d=await pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token});if(d.error)return d;const{data:f}=d;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:hb(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:fb(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(t){const{data:s,error:o}=await this._challenge({factorId:t.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){var t;const{data:{user:s},error:o}=await this.getUser();if(o)return{data:null,error:o};const a={all:[],phone:[],totp:[],webauthn:[]};for(const c of(t=s?.factors)!==null&&t!==void 0?t:[])a.all.push(c),c.status==="verified"&&a[c.factor_type].push(c);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,s;const{data:{session:o},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Xl(o.access_token);let d=null;c.aal&&(d=c.aal);let f=d;((s=(t=o.user.factors)===null||t===void 0?void 0:t.filter(y=>y.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(f="aal2");const m=c.amr||[];return{data:{currentLevel:d,nextLevel:f,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async s=>{const{data:{session:o},error:a}=s;return a?this._returnResult({data:null,error:a}):o?await pe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:o.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Tt})})}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(t,s){try{return await this._useSession(async o=>{const{data:{session:a},error:c}=o;if(c)return this._returnResult({data:null,error:c});if(!a)return this._returnResult({data:null,error:new Tt});const d=await pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return d.data&&d.data.redirect_url&&at()&&!s?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(o){if(le(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(t,s){try{return await this._useSession(async o=>{const{data:{session:a},error:c}=o;if(c)return this._returnResult({data:null,error:c});if(!a)return this._returnResult({data:null,error:new Tt});const d=await pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return d.data&&d.data.redirect_url&&at()&&!s?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(o){if(le(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:s},error:o}=t;return o?this._returnResult({data:null,error:o}):s?await pe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Tt})})}catch(t){if(le(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async s=>{const{data:{session:o},error:a}=s;return a?this._returnResult({data:null,error:a}):o?(await pe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Tt})})}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(t,s={keys:[]}){let o=s.keys.find(f=>f.kid===t);if(o)return o;const a=Date.now();if(o=this.jwks.keys.find(f=>f.kid===t),o&&this.jwks_cached_at+_x>a)return o;const{data:c,error:d}=await pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=a,o=c.keys.find(f=>f.kid===t),!o)?null:o}async getClaims(t,s={}){try{let o=t;if(!o){const{data:k,error:v}=await this.getSession();if(v||!k.session)return this._returnResult({data:null,error:v});o=k.session.access_token}const{header:a,payload:c,signature:d,raw:{header:f,payload:g}}=Xl(o);s?.allowExpired||Hx(c.exp);const m=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!m){const{error:k}=await this.getUser(o);if(k)throw k;return{data:{claims:c,header:a,signature:d},error:null}}const y=Jx(a.alg),b=await crypto.subtle.importKey("jwk",m,y,!0,["verify"]);if(!await crypto.subtle.verify(y,b,d,Ax(`${f}.${g}`)))throw new vu("Invalid JWT signature");return{data:{claims:c,header:a,signature:d},error:null}}catch(o){if(le(o))return this._returnResult({data:null,error:o});throw o}}}Ys.nextInstanceID={};const Eb=Ys,jb="2.89.0";let zs="";typeof Deno<"u"?zs="deno":typeof document<"u"?zs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zs="react-native":zs="node";const Cb={"X-Client-Info":`supabase-js-${zs}/${jb}`},kb={headers:Cb},Rb={schema:"public"},Tb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Nb={};function Qs(n){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qs(n)}function Ob(n,t){if(Qs(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var o=s.call(n,t);if(Qs(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Ab(n){var t=Ob(n,"string");return Qs(t)=="symbol"?t:t+""}function Db(n,t,s){return(t=Ab(t))in n?Object.defineProperty(n,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[t]=s,n}function Nf(n,t){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);t&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,o)}return s}function He(n){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Nf(Object(s),!0).forEach(function(o){Db(n,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):Nf(Object(s)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(s,o))})}return n}const Ib=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),Pb=()=>Headers,Lb=(n,t,s)=>{const o=Ib(s),a=Pb();return async(c,d)=>{var f;const g=(f=await t())!==null&&f!==void 0?f:n;let m=new a(d?.headers);return m.has("apikey")||m.set("apikey",n),m.has("Authorization")||m.set("Authorization",`Bearer ${g}`),o(c,He(He({},d),{},{headers:m}))}};function $b(n){return n.endsWith("/")?n:n+"/"}function Ub(n,t){var s,o;const{db:a,auth:c,realtime:d,global:f}=n,{db:g,auth:m,realtime:y,global:b}=t,j={db:He(He({},g),a),auth:He(He({},m),c),realtime:He(He({},y),d),storage:{},global:He(He(He({},b),f),{},{headers:He(He({},(s=b?.headers)!==null&&s!==void 0?s:{}),(o=f?.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return n.accessToken?j.accessToken=n.accessToken:delete j.accessToken,j}function Mb(n){const t=n?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL($b(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Fb=class extends Eb{constructor(n){super(n)}},Bb=class{constructor(n,t,s){var o,a;this.supabaseUrl=n,this.supabaseKey=t;const c=Mb(n);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:Rb,realtime:Nb,auth:He(He({},Tb),{},{storageKey:d}),global:kb},g=Ub(s??{},f);if(this.storageKey=(o=g.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=g.global.headers)!==null&&a!==void 0?a:{},g.accessToken)this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(y,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=g.auth)!==null&&m!==void 0?m:{},this.headers,g.global.fetch)}this.fetch=Lb(t,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(He({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new xw(new URL("rest/v1",c).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new yx(this.storageUrl.href,this.headers,this.fetch,s?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new gw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,t,s)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,t,s;if(n.accessToken)return await n.accessToken();const{data:o}=await n.auth.getSession();return(t=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&t!==void 0?t:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:s,storage:o,userStorage:a,storageKey:c,flowType:d,lock:f,debug:g,throwOnError:m},y,b){const j={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Fb({url:this.authUrl.href,headers:He(He({},j),y),storageKey:c,autoRefreshToken:n,persistSession:t,detectSessionInUrl:s,storage:o,userStorage:a,flowType:d,lock:f,debug:g,throwOnError:m,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(k=>k.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new $w(this.realtimeUrl.href,He(He({},n),{},{params:He(He({},{apikey:this.supabaseKey}),n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,t)=>{this._handleTokenChanged(n,"CLIENT",t?.access_token)})}_handleTokenChanged(n,t,s){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const zb=(n,t,s)=>new Bb(n,t,s);function Wb(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const t=n.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Wb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Vb="https://vikgtsikzpzpynnvajox.supabase.co",Hb="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZpa2d0c2lrenB6cHlubnZham94Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2OTY5NzgsImV4cCI6MjA4MDI3Mjk3OH0.e9i5qQWQPLdssT8loZPXZ22H2vCtRDGWTbA_sku5ECY",_t=zb(Vb,Hb),Jb=()=>{const[n,t]=S.useState(!1),[s,o]=S.useState(""),[a,c]=S.useState(""),[d,f]=S.useState(""),[g,m]=S.useState(""),[y,b]=S.useState(!1),j=Eu(),k=async v=>{v.preventDefault(),f(""),m(""),b(!0);try{if(n){if(!s.endsWith("@kovon.io"))throw new Error("Registration is restricted to @kovon.io email addresses only.");const{error:_}=await _t.auth.signUp({email:s,password:a});if(_)throw _;m("Success! Please check your email for the confirmation link.")}else{const{error:_}=await _t.auth.signInWithPassword({email:s,password:a});if(_)throw _;localStorage.setItem("isAuthenticated","true"),j("/")}}catch(_){f(_.message||"An error occurred")}finally{b(!1)}};return l.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f3f4f6"},children:l.jsxs("div",{style:{maxWidth:"400px",width:"100%",padding:"2rem",backgroundColor:"white",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[l.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"bold",textAlign:"center",marginBottom:"1.5rem",color:"#111827"},children:n?"Create an Account":"Sign in to CRM"}),d&&l.jsx("div",{style:{marginBottom:"1rem",padding:"0.5rem",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"4px",textAlign:"center",fontSize:"0.875rem"},children:d}),g&&l.jsx("div",{style:{marginBottom:"1rem",padding:"0.5rem",backgroundColor:"#d1fae5",color:"#065f46",borderRadius:"4px",textAlign:"center",fontSize:"0.875rem"},children:g}),l.jsxs("form",{onSubmit:k,children:[l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{htmlFor:"email",style:{display:"block",marginBottom:"0.5rem",color:"#374151"},children:"Email"}),l.jsx("input",{id:"email",type:"email",value:s,onChange:v=>o(v.target.value),required:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #d1d5db",borderRadius:"4px"}})]}),l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsx("label",{htmlFor:"password",style:{display:"block",marginBottom:"0.5rem",color:"#374151"},children:"Password"}),l.jsx("input",{id:"password",type:"password",value:a,onChange:v=>c(v.target.value),required:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #d1d5db",borderRadius:"4px"}})]}),l.jsx("button",{type:"submit",disabled:y,style:{width:"100%",padding:"0.75rem",backgroundColor:y?"#93c5fd":"#2563eb",color:"white",border:"none",borderRadius:"4px",cursor:y?"not-allowed":"pointer",fontWeight:"bold"},children:y?"Processing...":n?"Sign Up":"Sign In"})]}),l.jsxs("div",{style:{marginTop:"1.5rem",textAlign:"center",fontSize:"0.875rem",color:"#666"},children:[n?"Already have an account? ":"Don't have an account? ",l.jsx("button",{onClick:()=>{t(!n),f(""),m("")},style:{background:"none",border:"none",color:"#2563eb",cursor:"pointer",fontWeight:"bold",padding:0},children:n?"Sign In":"Sign Up"})]})]})})},bt=({label:n,value:t})=>t==null||t===""?null:l.jsxs("div",{className:"mb-3",children:[l.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:n}),l.jsx("p",{className:"text-sm text-gray-800",children:t})]}),qb=({label:n,items:t})=>!t||t.length===0?null:l.jsxs("div",{className:"mb-3",children:[l.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:n}),l.jsx("ul",{className:"list-disc list-inside text-sm text-gray-800 pl-2",children:t.map((s,o)=>l.jsx("li",{children:s},o))})]}),tu=({title:n,children:t})=>l.jsxs("div",{className:"mb-4 p-4 border rounded-lg bg-gray-50",children:[l.jsx("h4",{className:"font-bold text-md mb-3 border-b pb-2 text-gray-700",children:n}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-2",children:t})]}),Kb=({snapshot:n})=>{if(!n)return l.jsx("p",{children:"No job snapshot available."});const{title:t,description:s,responsibilities:o,location:a,salary:c,company:d,candidateRequirements:f,facilitiesAndBenefits:g,type:m,positions:y}=n;return l.jsxs("div",{className:"text-left",children:[l.jsx(bt,{label:"Job Title",value:t}),l.jsx(bt,{label:"Company",value:d?.name}),l.jsx(bt,{label:"Description",value:s}),l.jsx(bt,{label:"Responsibilities",value:o}),l.jsx(bt,{label:"Job Type",value:m}),l.jsx(bt,{label:"Positions Available",value:y}),l.jsxs(tu,{title:"Location",children:[l.jsx(bt,{label:"Country",value:a?.country}),l.jsx(bt,{label:"State",value:a?.state}),l.jsx(bt,{label:"City",value:a?.city}),l.jsx(bt,{label:"Remote",value:a?.remote?"Yes":"No"})]}),c&&l.jsxs(tu,{title:"Salary",children:[l.jsx(bt,{label:"Salary Range",value:`${c.min||"N/A"} - ${c.max||"N/A"} ${c.currency}`}),l.jsx(bt,{label:"Frequency",value:c.frequency})]}),f&&l.jsxs(tu,{title:"Candidate Requirements",children:[l.jsx(bt,{label:"Gender",value:f.gender}),l.jsx(bt,{label:"Minimum Experience",value:f.experience?.minimumYears?`${f.experience.minimumYears} years`:null}),l.jsx(qb,{label:"Certifications",items:f.certifications})]})]})},Gb=["CALL_ATTEMPT_NO_ANSWER","CALL_ATTEMPT_NOT_REACHABLE","CALL_ATTEMPT_WRONG_NUMBER","CALL_ATTEMPT_BUSY_DECLINED","VOICEMAIL_SENT","FOLLOW_UP_SCHEDULED","CONNECTED_SCREENING_COMPLETED","CONNECTED_INTERESTED","CONNECTED_NOT_INTERESTED","CONNECTED_REQUESTED_CALLBACK","CONNECTED_NEEDS_MORE_INFO","QUALIFIED_MEETS_ALL_CRITERIA","PARTIALLY_QUALIFIED_MISSING_DOCUMENTS","PARTIALLY_QUALIFIED_MISSING_EXPERIENCE","NOT_QUALIFIED","UNDER_REVIEW_VERIFICATION_IN_PROGRESS","DOCUMENTS_SUBMITTED_PENDING_REVIEW","DOCUMENTS_APPROVED","DOCUMENTS_REJECTED_REUPLOAD_REQUIRED","VERIFICATION_COMPLETED","VERIFICATION_FAILED","INTERVIEW_SCHEDULED","INTERVIEW_RESCHEDULED","INTERVIEW_COMPLETED_SELECTED","INTERVIEW_COMPLETED_ON_HOLD","INTERVIEW_COMPLETED_REJECTED","CANDIDATE_NO_SHOW_INTERVIEW","OFFER_EXTENDED","OFFER_ACCEPTED","OFFER_DECLINED","ONBOARDING_INITIATED","ONBOARDING_COMPLETED","CANDIDATE_UNRESPONSIVE","CANDIDATE_WITHDREW_APPLICATION","CANDIDATE_JOINED_ANOTHER_EMPLOYER","DUPLICATE_APPLICATION","APPLICATION_CLOSED_BY_EMPLOYER","VISA_DOCUMENTATION_STARTED","VISA_APPROVED","TRAVEL_SCHEDULED","CANDIDATE_DEPLOYED","DEPLOYMENT_DELAYED"],Uu=({record:n,type:t,onClose:s,onSave:o})=>{const[a,c]=S.useState(n.tempDisposition||""),[d,f]=S.useState(n.tempNotes||""),[g,m]=S.useState(n.tempNextCallDate||""),[y,b]=S.useState(n.fullName||""),[j,k]=S.useState(n.targetCountry||""),[v,_]=S.useState(n.targetJobRole||""),[x,T]=S.useState([]),[N,A]=S.useState(!0),[F,z]=S.useState([]),[K,Q]=S.useState([]);S.useEffect(()=>{(async()=>{if(n?._id){A(!0);try{const me=t==="user"?`/api/crm/user-history/${n._id}`:`/api/crm/application-history/${n._id}`,Ae=await xe.get(me);T(Ae.data)}catch(me){console.error("Error fetching history",me)}finally{A(!1)}}})()},[n._id,t]),S.useEffect(()=>{(async()=>{if(t==="user"||!n.targetCountry||!n.targetJobRole)try{const[me,Ae]=await Promise.all([xe.get("/api/crm/countries"),xe.get("/api/crm/job-roles")]);z(me.data),Q(Ae.data)}catch(me){console.error("Error fetching dropdown data",me)}})()},[n.targetCountry,n.targetJobRole,t]);const X=()=>{const q=F.find(Ae=>Ae.name===j),me=K.find(Ae=>Ae.title===v);o({...n,tempDisposition:a,tempNotes:d,tempNextCallDate:g,fullName:y,targetCountry:q?{id:q._id,name:q.name}:{name:j},targetJobRole:me?{id:me._id,name:me.title}:{name:v}}),s()};return n?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex justify-end",onClick:s,children:l.jsx("div",{className:`h-full w-full ${t==="application"?"max-w-5xl":"max-w-lg"} bg-gray-100 shadow-xl z-[70]`,onClick:q=>q.stopPropagation(),children:l.jsxs("div",{className:"flex h-full",children:[l.jsxs("div",{className:`${t==="application"?"w-1/2":"w-full"} p-6 flex flex-col bg-white overflow-y-auto`,children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("h2",{className:"text-2xl font-bold",children:["Record Activity for ",t==="user"?"User":"Application"]}),l.jsx("button",{onClick:s,className:"text-gray-500 hover:text-gray-800 text-2xl",children:""})]}),l.jsxs("div",{className:"space-y-4 mb-8",children:[l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("div",{className:"w-1/2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"User ID"}),l.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-gray-100",value:n._id,disabled:!0})]}),l.jsxs("div",{className:"w-1/2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Joined At"}),l.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-gray-100",value:n.createdAt?new Date(n.createdAt.$date||n.createdAt).toLocaleDateString():"-",disabled:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Candidate Name"}),l.jsx("input",{type:"text",className:"w-full p-2 border rounded",value:y,onChange:q=>b(q.target.value)})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("div",{className:"w-1/2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Target Country"}),l.jsx("input",{list:"countries-list",className:`w-full p-2 border rounded ${n.targetCountry?"bg-gray-100":""}`,placeholder:"Search country...",defaultValue:j,onBlur:q=>k(q.target.value),disabled:!!n.targetCountry}),l.jsx("datalist",{id:"countries-list",children:F.map(q=>l.jsx("option",{value:q.name},q._id))})]}),l.jsxs("div",{className:"w-1/2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Target Job Role"}),l.jsx("input",{list:"jobroles-list",className:`w-full p-2 border rounded ${n.targetJobRole?"bg-gray-100":""}`,placeholder:"Search job role...",defaultValue:v,onBlur:q=>_(q.target.value),disabled:!!n.targetJobRole}),l.jsx("datalist",{id:"jobroles-list",children:K.map(q=>l.jsx("option",{value:q.title},q._id))})]})]}),l.jsx("hr",{className:"my-4"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Call Disposition"}),l.jsxs("select",{className:"w-full p-2 border rounded",value:a,onChange:q=>c(q.target.value),children:[l.jsx("option",{value:"",children:"Select Disposition"}),Gb.map(q=>l.jsx("option",{value:q,children:q},q))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),l.jsx("textarea",{className:"w-full p-2 border rounded",rows:"4",value:d,onChange:q=>f(q.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Next Call Date (Optional)"}),l.jsx("input",{type:"date",className:"w-full p-2 border rounded",value:g,onChange:q=>m(q.target.value)})]})]}),l.jsx("button",{onClick:X,className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700",children:"Save Changes"}),l.jsxs("div",{className:"mt-10 flex-grow overflow-y-auto",children:[l.jsx("h3",{className:"text-xl font-bold mb-4",children:"History"}),N?l.jsx("p",{children:"Loading history..."}):l.jsx("div",{className:"space-y-6 border-l-2 border-gray-200 pl-6",children:x.length>0?x.map(q=>l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute -left-7 top-1 h-2 w-2 rounded-full bg-blue-500"}),l.jsx("p",{className:"text-sm text-gray-500",children:new Date(q.created_at).toLocaleString()}),l.jsx("p",{className:"font-semibold",children:q.assignee||"System"}),q.call_disposition&&l.jsxs("p",{className:"text-sm",children:["Status: ",l.jsx("span",{className:"font-medium",children:q.call_disposition})]}),q.notes&&l.jsxs("p",{className:"text-sm bg-gray-50 p-2 rounded mt-1",children:["Notes: ",q.notes]})]},q.id)):l.jsx("p",{children:"No history found."})})]})]}),t==="application"&&l.jsx("div",{className:"w-1/2 p-6 overflow-y-auto bg-gray-50 border-l",children:n.jobSnapshot&&l.jsxs("div",{className:"mb-8",children:[l.jsx("h3",{className:"text-xl font-bold mb-4",children:"Job Snapshot"}),l.jsx(Kb,{snapshot:n.jobSnapshot})]})})]})})}):null},Re="https://main-crm-backend.onrender.com/api",Xp="1.0.2";console.log(`App Version: ${Xp} | API URL: ${Re}`);const Kt=n=>{if(!n)return"";const t=n.$date||n;return new Date(t).toLocaleDateString()},Yb=()=>{const[n,t]=S.useState([]),[s,o]=S.useState(!0),[a,c]=S.useState(""),[d,f]=S.useState(""),[g,m]=S.useState(""),[y,b]=S.useState(""),[j,k]=S.useState(""),[v,_]=S.useState(!1),[x,T]=S.useState(1),[N,A]=S.useState(0),[F,z]=S.useState(null),[K,Q]=S.useState(new Date),[X,q]=S.useState(null),[me,Ae]=S.useState([]);S.useEffect(()=>{console.log(`[UserLevelFlow] Loaded. Version: ${Xp}`)},[]),S.useEffect(()=>{Te();const R=setInterval(Te,6e4);return()=>clearInterval(R)},[x,a,d,g,y,j]),S.useEffect(()=>{(async()=>{const{data:{user:O}}=await _t.auth.getUser();q(O)})()},[]),S.useEffect(()=>{(async()=>{const{data:O}=await _t.from("user_assignments").select("assigned_to"),P=O?O.map(E=>E.assigned_to).filter(Boolean):[],Z=n.map(E=>E.assignee).filter(Boolean),se=[...new Set([...P,...Z])].sort();Ae(se)})()},[n]);const Te=async()=>{try{const R={page:x,limit:100,applied:a,country:d,jobRole:g,assignee:y,missingDetails:j},O=await xe.get(`${Re}/crm/user-level`,{params:R}),{data:P,total:Z}=O.data;let E=P.map(B=>({...B,assignee:B.crmData?.assignee||"",tempDisposition:B.crmData?.callDisposition||"",tempNotes:B.crmData?.notes||"",tempNextCallDate:B.crmData?.nextCallDate?B.crmData.nextCallDate.split("T")[0]:""}));j==="Yes"?E=E.filter(B=>!B.fullName||!B.targetCountry||!B.targetJobRole):j==="No"&&(E=E.filter(B=>B.fullName&&B.targetCountry&&B.targetJobRole)),A(Z),t(E),o(!1),Q(new Date)}catch(R){console.error("Error fetching user level data",R),o(!1)}},Pe=async R=>{if(!X?.email)return;const O=X.email;t(P=>P.map(Z=>Z._id===R._id?{...Z,assignee:O}:Z));try{await xe.post(`${Re}/crm/crm-update`,{userId:R._id,assignee:O}),await _t.from("user_assignments").upsert({user_id:R._id,assigned_to:O})}catch(P){console.error("Error assigning user",P),alert("Failed to assign. Please try again."),Te()}},je=async(R,O,P)=>{if(!P)return;let Z={};try{if(O==="skills")Z={skills:P.split(",").map(E=>E.trim())};else if(O==="language"){const[E,B]=P.split("|");Z={language:{motherTongue:E?.trim(),other:B?B.split(",").map(te=>te.trim()):[]}}}else if(O==="dob")Z={dob:P};else if(O==="gender")Z={gender:P};else if(O==="location"){const[E,B,te]=P.split(",");Z={location:{city:E?.trim(),state:B?.trim(),country:te?.trim()}}}t(E=>E.map(B=>B._id===R?{...B,...Z}:B)),await xe.patch(`${Re}/users/${R}`,Z);const se={user_id:R,updated_at:new Date().toISOString(),...Z};await _t.from("user_profiles").upsert(se)}catch(se){console.error("Update failed",se),alert("Failed to update user details."),Te()}},We=async R=>{t(O=>O.map(P=>P._id===R._id?{...P,tempDisposition:R.tempDisposition,tempNotes:R.tempNotes,tempNextCallDate:R.tempNextCallDate,fullName:R.fullName,targetCountry:R.targetCountry.name||P.targetCountry,targetJobRole:R.targetJobRole.name||P.targetJobRole,skills:R.skills,language:R.language,education:R.education,experience:R.experience,dob:R.dob,gender:R.gender,location:R.location,internationalExp:R.internationalExp,domesticExp:R.domesticExp}:P));try{await xe.post(`${Re}/crm/crm-update`,{userId:R._id,callDisposition:R.tempDisposition,notes:R.tempNotes,nextCallDate:R.tempNextCallDate||null,fullName:R.fullName,targetCountry:R.targetCountry,targetJobRole:R.targetJobRole}),alert("Saved successfully");const O=n.find(B=>B._id===R._id),P={};R.skills?.length&&(!O.skills||!O.skills.length)&&(P.skills=R.skills),R.language?.motherTongue&&!O.language?.motherTongue&&(P.language=R.language),R.education?.length&&(!O.education||!O.education.length)&&(P.education=R.education),R.experience?.length&&(!O.experience||!O.experience.length)&&(P.experience=R.experience),R.dob&&!O.dob&&(P.dob=R.dob),R.gender&&!O.gender&&(P.gender=R.gender),R.location?.city&&!O.location?.city&&(P.location=R.location),(R.internationalExp||R.internationalExp===0)&&(O.internationalExp===void 0||O.internationalExp===null)&&(P.internationalExp=R.internationalExp),(R.domesticExp||R.domesticExp===0)&&(O.domesticExp===void 0||O.domesticExp===null)&&(P.domesticExp=R.domesticExp);const Z={user_id:R._id,skills:R.skills,language:R.language,education:R.education,experience:R.experience,dob:R.dob||null,gender:R.gender,location:R.location,international_exp:R.internationalExp??null,domestic_exp:R.domesticExp??null,updated_at:new Date().toISOString()};Object.keys(P).length>0&&await xe.patch(`${Re}/users/${R._id}`,P);const{error:se}=await _t.from("user_profiles").upsert(Z);se&&console.error("Error syncing to Supabase:",se),(R.fullName&&R.fullName!==O?.fullName||R.targetCountry.name&&R.targetCountry.name!==O?.targetCountry||R.targetJobRole.name&&R.targetJobRole.name!==O?.targetJobRole)&&setTimeout(()=>Te(),500)}catch(O){console.error("Error saving CRM data",O),alert("Error saving data"),Te()}},_e=R=>{z(R),_(!0)},ke=[...new Set(n.map(R=>R.targetCountry).filter(Boolean))],Y=[...new Set(n.map(R=>R.targetJobRole).filter(Boolean))],ae=async()=>{try{const R={page:1,limit:1e5,applied:a,country:d,jobRole:g,assignee:y,missingDetails:j},O=await xe.get(`${Re}/crm/user-level`,{params:R}),{data:P}=O.data;let se=P.map(J=>({...J,assignee:J.crmData?.assignee||"",tempDisposition:J.crmData?.callDisposition||"",tempNotes:J.crmData?.notes||"",tempNextCallDate:J.crmData?.nextCallDate?J.crmData.nextCallDate.split("T")[0]:""}));j==="Yes"?se=se.filter(J=>!J.fullName||!J.targetCountry||!J.targetJobRole):j==="No"&&(se=se.filter(J=>J.fullName&&J.targetCountry&&J.targetJobRole));const B=[["S.No","Created At","User ID","Full Name","Phone Number","Skills","Languages","Education","Experience","DOB","Gender","Location","Applied?","Latest App Date","Target Country","Target Job Role","Assignee","Call Disposition","Notes","Next Call Date"].join(",")];se.forEach((J,ue)=>{const Ne=et=>`"${(et||"").replace(/"/g,'""')}"`,Ze=J.skills?J.skills.join(", "):"";let ce="";if(J.language){const et=J.language.motherTongue||"",xn=J.language.other?J.language.other.join(", "):"";ce=et+(et&&xn?" | ":"")+xn}const Dt=J.education?J.education.map(et=>`${et.degree||""} at ${et.institutionName||""} (${Kt(et.startDate)} - ${Kt(et.endDate)})`).join("; "):"",Se=J.experience?J.experience.map(et=>`${et.position||""} at ${et.companyName||""} (${Kt(et.startDate)} - ${Kt(et.endDate)})`).join("; "):"",zn=J.location?[J.location.city,J.location.state,J.location.country].filter(Boolean).join(", "):"",oo=[ue+1,J.createdAt?new Date(J.createdAt.$date||J.createdAt).toLocaleDateString():"-",J._id,Ne(J.fullName),Ne(J.phoneNumber),Ne(Ze),Ne(ce),Ne(Dt),Ne(Se),Kt(J.dob),Ne(J.gender),Ne(zn),J.hasApplied?"Y":"N",J.latestApplicationDate?new Date(J.latestApplicationDate).toLocaleDateString():"-",Ne(J.targetCountry),Ne(J.targetJobRole),Ne(J.assignee),Ne(J.tempDisposition),Ne(J.tempNotes),J.tempNextCallDate||""];B.push(oo.join(","))});const te=new Blob([B.join(`
`)],{type:"text/csv"}),fe=window.URL.createObjectURL(te),ve=document.createElement("a");ve.href=fe,ve.download="user-level-data.csv",ve.click(),window.URL.revokeObjectURL(fe)}catch(R){console.error("Error downloading CSV",R),alert("Failed to download CSV")}};return s?l.jsx("div",{children:"Loading User Flow..."}):l.jsxs(l.Fragment,{children:[v&&l.jsx("div",{style:{position:"relative",zIndex:9999},children:l.jsx(Uu,{record:F,type:"user",onClose:()=>_(!1),onSave:We})}),l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-bold",children:"User Level Workflow"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[l.jsxs("span",{className:"relative flex h-3 w-3",children:[l.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),l.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-green-500"})]}),"Live"]}),l.jsxs("span",{className:"text-sm text-gray-500",children:["Updated: ",K.toLocaleTimeString()]}),l.jsx("button",{onClick:Te,className:"bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700 text-sm",children:"Refresh"})]})]}),l.jsxs("div",{className:"flex gap-4 mb-4",children:[l.jsxs("div",{className:"bg-blue-100 p-2 rounded",children:["Total: ",l.jsx("strong",{children:n.length})]}),l.jsxs("div",{className:"bg-green-100 p-2 rounded",children:["Filtered: ",l.jsx("strong",{children:N})]})]}),l.jsxs("div",{className:"flex gap-4 mb-4 flex-wrap items-center",children:[l.jsxs("select",{className:"border p-2 rounded",value:a,onChange:R=>c(R.target.value),children:[l.jsx("option",{value:"",children:"Filter Applied: All"}),l.jsx("option",{value:"Y",children:"Yes"}),l.jsx("option",{value:"N",children:"No"})]}),l.jsxs("select",{className:"border p-2 rounded",value:d,onChange:R=>f(R.target.value),children:[l.jsx("option",{value:"",children:"Filter Country: All"}),ke.map(R=>l.jsx("option",{value:R,children:R},R))]}),l.jsxs("select",{className:"border p-2 rounded",value:g,onChange:R=>m(R.target.value),children:[l.jsx("option",{value:"",children:"Filter Job Role: All"}),Y.map(R=>l.jsx("option",{value:R,children:R},R))]}),l.jsxs("select",{className:"border p-2 rounded",value:y,onChange:R=>b(R.target.value),children:[l.jsx("option",{value:"",children:"Filter Assignee: All"}),l.jsx("option",{value:"Unassigned",children:"Unassigned"}),me.map(R=>l.jsx("option",{value:R,children:R},R))]}),l.jsxs("select",{className:"border p-2 rounded",value:j,onChange:R=>k(R.target.value),children:[l.jsx("option",{value:"",children:"Filter Missing Details: All"}),l.jsx("option",{value:"Yes",children:"Yes"}),l.jsx("option",{value:"No",children:"No"})]}),l.jsx("button",{onClick:ae,className:"bg-gray-800 text-white px-4 py-2 rounded hover:bg-gray-700 ml-auto",children:"Download CSV"})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full bg-white border border-gray-300",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-100",children:[l.jsx("th",{className:"p-2 border w-16",children:"S.No"}),l.jsx("th",{className:"p-2 border",children:"Created At"}),l.jsx("th",{className:"p-2 border",children:"User Info"}),l.jsx("th",{className:"p-2 border",children:"Skills"}),l.jsx("th",{className:"p-2 border",children:"Languages"}),l.jsx("th",{className:"p-2 border",children:"Education"}),l.jsx("th",{className:"p-2 border",children:"Experience"}),l.jsx("th",{className:"p-2 border",children:"DOB"}),l.jsx("th",{className:"p-2 border",children:"Gender"}),l.jsx("th",{className:"p-2 border",children:"Location"}),l.jsx("th",{className:"p-2 border",children:"Applied?"}),l.jsx("th",{className:"p-2 border",children:"Latest App Date"}),l.jsx("th",{className:"p-2 border",children:"Target Country"}),l.jsx("th",{className:"p-2 border",children:"Target Job Role"}),l.jsx("th",{className:"p-2 border",children:"Assign To"})]})}),l.jsx("tbody",{children:n.map((R,O)=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"p-2 border text-center",children:(x-1)*100+O+1}),l.jsxs("td",{className:"p-2 border text-sm",children:[l.jsx("div",{children:Kt(R.createdAt)||"-"}),l.jsx("div",{className:"text-xs text-gray-500",children:R.createdAt?new Date(R.createdAt.$date||R.createdAt).toLocaleTimeString():""})]}),l.jsxs("td",{className:"p-2 border",children:[l.jsx("div",{className:"font-semibold",children:R.fullName}),l.jsx("div",{children:R.phoneNumber}),l.jsxs("div",{className:"text-xs text-gray-500 font-mono",children:["UID: ",R._id]})]}),l.jsx("td",{className:"p-2 border text-sm",children:R.skills&&R.skills.length>0?R.skills.join(", "):l.jsx("input",{className:"border rounded p-1 w-full text-xs",placeholder:"Add Skills (comma sep)",onBlur:P=>je(R._id,"skills",P.target.value)})}),l.jsx("td",{className:"p-2 border text-sm",children:R.language&&(R.language.motherTongue||R.language.other&&R.language.other.length>0)?l.jsxs("span",{children:[R.language.motherTongue," | ",R.language.other?.join(", ")]}):l.jsx("input",{className:"border rounded p-1 w-full text-xs",placeholder:"Mother | Other1, Other2",onBlur:P=>je(R._id,"language",P.target.value)})}),l.jsx("td",{className:"p-2 border text-sm",children:R.education&&R.education.length>0?R.education.map((P,Z)=>l.jsxs("div",{className:"mb-2 pb-1 border-b last:border-0",children:[l.jsx("div",{className:"font-semibold",children:P.institutionName}),l.jsxs("div",{children:[P.degree," ",P.fieldOfStudy?`(${P.fieldOfStudy})`:""]}),l.jsxs("div",{className:"text-xs text-gray-500",children:[Kt(P.startDate)," - ",Kt(P.endDate)]})]},Z)):l.jsx("span",{className:"text-gray-400 text-xs italic",children:"No Education"})}),l.jsx("td",{className:"p-2 border text-sm",children:R.experience&&R.experience.length>0?R.experience.map((P,Z)=>l.jsxs("div",{className:"mb-2 pb-1 border-b last:border-0",children:[l.jsx("div",{className:"font-semibold",children:P.companyName}),l.jsx("div",{children:P.position}),l.jsxs("div",{className:"text-xs text-gray-500",children:[Kt(P.startDate)," - ",Kt(P.endDate)]})]},Z)):l.jsx("span",{className:"text-gray-400 text-xs italic",children:"No Experience"})}),l.jsx("td",{className:"p-2 border text-sm",children:R.dob?Kt(R.dob):l.jsx("input",{type:"date",className:"border rounded p-1 w-full text-xs",onBlur:P=>je(R._id,"dob",P.target.value)})}),l.jsx("td",{className:"p-2 border text-sm",children:R.gender?R.gender:l.jsxs("select",{className:"border rounded p-1 w-full text-xs",onChange:P=>je(R._id,"gender",P.target.value),defaultValue:"",children:[l.jsx("option",{value:"",disabled:!0,children:"M|F"}),l.jsx("option",{value:"male",children:"Male"}),l.jsx("option",{value:"female",children:"Female"}),l.jsx("option",{value:"other",children:"Other"})]})}),l.jsx("td",{className:"p-2 border text-sm",children:R.location&&(R.location.city||R.location.country)?l.jsxs("span",{children:[R.location.city,", ",R.location.state,", ",R.location.country]}):l.jsx("input",{className:"border rounded p-1 w-full text-xs",placeholder:"City, State, Country",onBlur:P=>je(R._id,"location",P.target.value)})}),l.jsx("td",{className:"p-2 border text-center",children:l.jsx("span",{className:`px-2 py-1 rounded ${R.hasApplied?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:R.hasApplied?"Y":"N"})}),l.jsx("td",{className:"p-2 border",children:R.latestApplicationDate?new Date(R.latestApplicationDate).toLocaleDateString():"-"}),l.jsx("td",{className:"p-2 border",children:R.targetCountry||"-"}),l.jsx("td",{className:"p-2 border",children:R.targetJobRole||"-"}),l.jsx("td",{className:"p-2 border",children:l.jsxs("div",{className:"flex items-center gap-2",children:[R.assignee?R.assignee===X?.email?l.jsx("span",{className:"hidden"}):l.jsxs("span",{className:"text-xs text-gray-500",children:["Assigned to ",R.assignee]}):l.jsx("button",{onClick:()=>Pe(R),className:"bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700 text-xs whitespace-nowrap",children:"Assign Me"}),R.assignee===X?.email&&l.jsx("button",{onClick:()=>_e(R),className:"bg-gray-600 text-white px-3 py-1 rounded hover:bg-gray-700 whitespace-nowrap",children:"Record Activity"})]})})]},R._id))})]})}),l.jsxs("div",{className:"flex justify-center items-center mt-4 gap-4",children:[l.jsx("button",{onClick:()=>T(R=>Math.max(R-1,1)),disabled:x===1,className:"px-4 py-2 bg-gray-300 rounded disabled:opacity-50",children:"Previous"}),l.jsxs("span",{children:["Page ",x," of ",Math.ceil(N/100)]}),l.jsx("button",{onClick:()=>T(R=>R+1),disabled:x*100>=N,className:"px-4 py-2 bg-gray-300 rounded disabled:opacity-50",children:"Next"})]})]})]})},Qb=["CALL_ATTEMPT_NO_ANSWER","CALL_ATTEMPT_NOT_REACHABLE","CALL_ATTEMPT_WRONG_NUMBER","CALL_ATTEMPT_BUSY_DECLINED","VOICEMAIL_SENT","FOLLOW_UP_SCHEDULED","CONNECTED_SCREENING_COMPLETED","CONNECTED_INTERESTED","CONNECTED_NOT_INTERESTED","CONNECTED_REQUESTED_CALLBACK","CONNECTED_NEEDS_MORE_INFO","QUALIFIED_MEETS_ALL_CRITERIA","PARTIALLY_QUALIFIED_MISSING_DOCUMENTS","PARTIALLY_QUALIFIED_MISSING_EXPERIENCE","NOT_QUALIFIED","UNDER_REVIEW_VERIFICATION_IN_PROGRESS","DOCUMENTS_SUBMITTED_PENDING_REVIEW","DOCUMENTS_APPROVED","DOCUMENTS_REJECTED_REUPLOAD_REQUIRED","VERIFICATION_COMPLETED","VERIFICATION_FAILED","INTERVIEW_SCHEDULED","INTERVIEW_RESCHEDULED","INTERVIEW_COMPLETED_SELECTED","INTERVIEW_COMPLETED_ON_HOLD","INTERVIEW_COMPLETED_REJECTED","CANDIDATE_NO_SHOW_INTERVIEW","OFFER_EXTENDED","OFFER_ACCEPTED","OFFER_DECLINED","ONBOARDING_INITIATED","ONBOARDING_COMPLETED","CANDIDATE_UNRESPONSIVE","CANDIDATE_WITHDREW_APPLICATION","CANDIDATE_JOINED_ANOTHER_EMPLOYER","DUPLICATE_APPLICATION","APPLICATION_CLOSED_BY_EMPLOYER","VISA_DOCUMENTATION_STARTED","VISA_APPROVED","TRAVEL_SCHEDULED","CANDIDATE_DEPLOYED","DEPLOYMENT_DELAYED"],Xb=({userId:n})=>{const[t,s]=S.useState(null),[o,a]=S.useState(!0);return S.useEffect(()=>{(async()=>{if(n){a(!0);try{let d=null,f=1,g=!0;const m=500;for(;g&&!d;){const y=await xe.get("/api/crm/user-level",{params:{page:f,limit:m}}),b=y.data.data||[],j=y.data.total||0;d=b.find(k=>(k._id&&typeof k._id=="object"&&k._id.$oid?k._id.$oid:k._id)===n),d||b.length<m||f*m>=j?g=!1:f++}s(d||null)}catch(d){console.error(`Error fetching user details for ID ${n}:`,d),s(null)}finally{a(!1)}}})()},[n]),n?l.jsxs("div",{className:"fixed top-0 bottom-0 w-96 bg-white shadow-2xl z-[80] overflow-hidden flex flex-col border border-gray-200 left-4 2xl:left-auto 2xl:right-[65rem]",children:[l.jsx("div",{className:"p-4 bg-gray-100 border-b",children:l.jsx("h3",{className:"font-bold text-lg",children:"User Details"})}),l.jsx("div",{className:"p-4 overflow-y-auto flex-1 text-sm space-y-4",children:o?l.jsx("p",{children:"Loading..."}):t?l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:["Full Name: ",t.fullName||"-"]}),l.jsxs("div",{children:["Passport: ",t.passportNumber||"-"]}),l.jsxs("div",{children:["DOB: ",t.dob?new Date(t.dob.$date||t.dob).toLocaleDateString():"-"]}),l.jsxs("div",{children:["Gender: ",t.gender||"-"]}),l.jsxs("div",{children:["Experience Type: ",t.experienceType||"-"]}),l.jsxs("div",{children:["Location: ",t.location?[t.location.city,t.location.state,t.location.country].filter(Boolean).join(", "):"-"]}),l.jsxs("div",{children:["Secondary Countries: ",(t.secondaryCountries||[]).map(c=>c.name).join(", ")||"-"]}),l.jsxs("div",{children:["Secondary Job Roles: ",(t.secondaryJobRoles||[]).map(c=>c.name).join(", ")||"-"]}),l.jsxs("div",{children:["Skills: ",(t.skills||[]).join(", ")||"-"]}),l.jsxs("div",{children:["Languages: ",t.language?[t.language.motherTongue,...t.language.other||[]].filter(Boolean).join(", "):"-"]}),l.jsx("h4",{className:"font-semibold mt-4 border-b pb-1",children:"Education"}),(t.education||[]).length>0?t.education.map((c,d)=>l.jsxs("div",{className:"p-2 border rounded bg-gray-50 mt-2",children:[l.jsx("div",{className:"font-medium",children:c.degree}),l.jsx("div",{className:"text-xs text-gray-500",children:c.institutionName})]},d)):l.jsx("p",{className:"text-gray-500",children:"No education info"}),l.jsx("h4",{className:"font-semibold mt-4 border-b pb-1",children:"Experience"}),(t.experience||[]).length>0?t.experience.map((c,d)=>l.jsxs("div",{className:"p-2 border rounded bg-gray-50 mt-2",children:[l.jsx("div",{className:"font-medium",children:c.position}),l.jsx("div",{className:"text-xs text-gray-500",children:c.companyName})]},d)):l.jsx("p",{className:"text-gray-500",children:"No experience info"})]}):l.jsx("p",{children:"User details not found."})})]}):null},Zb=()=>{const[n,t]=S.useState([]),[s,o]=S.useState(!0),[a,c]=S.useState(""),[d,f]=S.useState(""),[g,m]=S.useState(""),[y,b]=S.useState(""),[j,k]=S.useState(""),[v,_]=S.useState(""),[x,T]=S.useState(!1),[N,A]=S.useState(null),[F,z]=S.useState("all"),[K,Q]=S.useState(new Date),[X,q]=S.useState(1),[me,Ae]=S.useState(0),[Te,Pe]=S.useState(null),[je,We]=S.useState([]);S.useEffect(()=>{_e();const E=setInterval(_e,6e4);return()=>clearInterval(E)},[X,d,g,y,a,j,v]),S.useEffect(()=>{(async()=>{const{data:{user:B}}=await _t.auth.getUser();Pe(B)})()},[]),S.useEffect(()=>{(async()=>{const{data:B}=await _t.from("user_assignments").select("assigned_to"),te=B?B.map(J=>J.assigned_to).filter(Boolean):[],fe=n.map(J=>J.assignee).filter(Boolean),ve=[...new Set([...te,...fe])].sort();We(ve)})()},[n]);const _e=async()=>{try{const E={page:X,limit:100,userInfo:d,country:g,jobRole:y,disposition:a,assignee:j,missingDetails:v},B=await xe.get("/api/crm/application-level",{params:E}),{data:te,total:fe}=B.data;let J=te.map(ue=>{const Ne=ce=>ce&&typeof ce=="object"&&ce.$oid?ce.$oid:ce,Ze=Ne(ue.userId)||Ne(ue.user?._id)||(typeof ue.user=="string"?ue.user:"")||Ne(ue._id)||"";return{...ue,_id:Ne(ue._id),assignee:ue.crmData?.assignee||"",tempDisposition:ue.crmData?.callDisposition||"",tempNotes:ue.crmData?.notes||"",tempNextCallDate:ue.crmData?.nextCallDate?ue.crmData.nextCallDate.split("T")[0]:"",userId:Ze,passportNumber:ue.user?.passportNumber||ue.passportNumber||"",dob:ue.user?.dob||ue.dob||null,gender:ue.user?.gender||ue.gender||"",experienceType:ue.user?.experienceType||ue.experienceType||"",location:ue.user?.location||ue.location||null,secondaryCountries:ue.user?.secondaryCountries||ue.secondaryCountries||[],secondaryJobRoles:ue.user?.secondaryJobRoles||ue.secondaryJobRoles||[],skills:ue.user?.skills||ue.skills||[],language:ue.user?.language||ue.language||{},education:ue.user?.education||ue.education||[],experience:ue.user?.experience||ue.experience||[]}});v==="Yes"?J=J.filter(ue=>!ue.fullName||!ue.targetCountry||!ue.targetJobRole):v==="No"&&(J=J.filter(ue=>ue.fullName&&ue.targetCountry&&ue.targetJobRole)),t(J),Ae(fe),o(!1),Q(new Date)}catch(E){console.error("Error fetching app level data",E),o(!1)}},ke=async E=>{if(!Te?.email)return;const B=Te.email;t(te=>te.map(fe=>fe._id===E._id?{...fe,assignee:B}:fe));try{await xe.post("/api/crm/crm-update",{userId:E.userId,applicationId:E._id,assignee:B}),await _t.from("user_assignments").upsert({user_id:E.userId,assigned_to:B})}catch(te){console.error("Error assigning user",te),alert("Failed to assign. Please try again."),_e()}},Y=async E=>{t(B=>B.map(te=>te._id===E._id?{...te,tempDisposition:E.tempDisposition,tempNotes:E.tempNotes,tempNextCallDate:E.tempNextCallDate,fullName:E.fullName,targetCountry:E.targetCountry.name||te.targetCountry,targetJobRole:E.targetJobRole.name||te.targetJobRole}:te));try{await xe.post("/api/crm/crm-update",{userId:E.userId,applicationId:E._id,callDisposition:E.tempDisposition,notes:E.tempNotes,nextCallDate:E.tempNextCallDate,fullName:E.fullName,targetCountry:E.targetCountry,targetJobRole:E.targetJobRole}),alert("Saved successfully");const B=n.find(fe=>fe._id===E._id);(E.fullName&&E.fullName!==B?.fullName||E.targetCountry.name&&E.targetCountry.name!==B?.targetCountry||E.targetJobRole.name&&E.targetJobRole.name!==B?.targetJobRole)&&setTimeout(()=>_e(),500)}catch(B){console.error("Error saving CRM data",B),alert("Error saving data"),_e()}},ae=E=>{A(E),T(!0)},R=n.length,O=n.filter(E=>E.tempDisposition).length,P=[...new Set(n.map(E=>E.targetCountry).filter(Boolean))],Z=[...new Set(n.map(E=>E.targetJobRole).filter(Boolean))],se=async()=>{try{const E={page:1,limit:1e5,userInfo:d,country:g,jobRole:y,disposition:a,assignee:j,missingDetails:v},B=await xe.get("/api/crm/application-level",{params:E}),{data:te}=B.data;let ve=te.map(Se=>({...Se,assignee:Se.crmData?.assignee||"",tempDisposition:Se.crmData?.callDisposition||"",tempNotes:Se.crmData?.notes||"",tempNextCallDate:Se.crmData?.nextCallDate?Se.crmData.nextCallDate.split("T")[0]:""}));v==="Yes"?ve=ve.filter(Se=>!Se.targetCountry||!Se.targetJobRole):v==="No"&&(ve=ve.filter(Se=>Se.fullName&&Se.targetCountry&&Se.targetJobRole));let J=ve;F==="addressed"?J=ve.filter(Se=>Se.tempDisposition):F==="unaddressed"&&(J=ve.filter(Se=>!Se.tempDisposition));const Ne=[["Application ID","User ID","Created At","Full Name","Phone Number","Target Country","Target Job Role","Job Title","Company","Assignee"].join(",")];J.forEach(Se=>{const zn=[Se._id,Se.userId,Se.createdAt?`"${new Date(Se.createdAt).toLocaleString()}"`:"",`"${(Se.fullName||"").replace(/"/g,'""')}"`,`"${(Se.phoneNumber||"").replace(/"/g,'""')}"`,`"${(Se.targetCountry||"").replace(/"/g,'""')}"`,`"${(Se.targetJobRole||"").replace(/"/g,'""')}"`,`"${(Se.jobTitle||"").replace(/"/g,'""')}"`,`"${(Se.companyName||"").replace(/"/g,'""')}"`,`"${(Se.assignee||"").replace(/"/g,'""')}"`];Ne.push(zn.join(","))});const Ze=new Blob([Ne.join(`
`)],{type:"text/csv"}),ce=window.URL.createObjectURL(Ze),Dt=document.createElement("a");Dt.href=ce,Dt.download=`crm-data-${F}.csv`,Dt.click(),window.URL.revokeObjectURL(ce)}catch(E){console.error("Error downloading CSV",E),alert("Failed to download CSV")}};return s?l.jsx("div",{children:"Loading Application Flow..."}):l.jsxs(l.Fragment,{children:[x&&l.jsxs(l.Fragment,{children:[l.jsx(Xb,{userId:N?.userId}),l.jsx(Uu,{record:N,type:"application",onClose:()=>T(!1),onSave:Y})]}),l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-bold",children:"Application Level Workflow"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[l.jsxs("span",{className:"relative flex h-3 w-3",children:[l.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),l.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-green-500"})]}),"Live"]}),l.jsxs("span",{className:"text-sm text-gray-500",children:["Updated: ",K.toLocaleTimeString()]}),l.jsx("button",{onClick:_e,className:"bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700 text-sm",children:"Refresh"})]})]}),l.jsxs("div",{className:"flex flex-wrap items-center justify-between mb-4 gap-4",children:[l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("div",{className:"bg-blue-100 p-2 rounded",children:["Total: ",l.jsx("strong",{children:R})]}),l.jsxs("div",{className:"bg-green-100 p-2 rounded",children:["Addressed: ",l.jsx("strong",{children:O})]}),l.jsxs("div",{className:"bg-yellow-100 p-2 rounded",children:["Filtered: ",l.jsx("strong",{children:me})]})]}),l.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[l.jsx("input",{type:"text",placeholder:"Search User Info...",className:"border p-2 rounded",value:d,onChange:E=>f(E.target.value)}),l.jsxs("select",{className:"border p-2 rounded",value:g,onChange:E=>m(E.target.value),children:[l.jsx("option",{value:"",children:"Filter Country: All"}),P.map(E=>l.jsx("option",{value:E,children:E},E))]}),l.jsxs("select",{className:"border p-2 rounded",value:y,onChange:E=>b(E.target.value),children:[l.jsx("option",{value:"",children:"Filter Job Role: All"}),Z.map(E=>l.jsx("option",{value:E,children:E},E))]}),l.jsxs("select",{className:"border p-2 rounded",value:j,onChange:E=>k(E.target.value),children:[l.jsx("option",{value:"",children:"Filter Assignee: All"}),l.jsx("option",{value:"Unassigned",children:"Unassigned"}),je.map(E=>l.jsx("option",{value:E,children:E},E))]}),l.jsxs("select",{className:"border p-2 rounded",value:a,onChange:E=>c(E.target.value),children:[l.jsx("option",{value:"",children:"Filter Disposition: All"}),Qb.map(E=>l.jsx("option",{value:E,children:E},E))]}),l.jsxs("select",{className:"border p-2 rounded",value:v,onChange:E=>_(E.target.value),children:[l.jsx("option",{value:"",children:"Filter Missing Details: All"}),l.jsx("option",{value:"Yes",children:"Yes"}),l.jsx("option",{value:"No",children:"No"})]}),l.jsxs("div",{className:"flex border rounded overflow-hidden",children:[l.jsxs("select",{className:"p-2 bg-gray-50 border-r",value:F,onChange:E=>z(E.target.value),children:[l.jsx("option",{value:"all",children:"Full Sheet"}),l.jsx("option",{value:"addressed",children:"Addressed Only"}),l.jsx("option",{value:"unaddressed",children:"Unaddressed Only"}),l.jsx("option",{value:"filtered",children:"Filtered View"})]}),l.jsx("button",{onClick:se,className:"bg-gray-800 text-white px-4 py-2 hover:bg-gray-700",children:"Download CSV"})]})]})]}),l.jsxs("div",{className:"overflow-x-auto",children:[l.jsxs("table",{className:"min-w-full bg-white border border-gray-300",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-100",children:[l.jsx("th",{className:"p-2 border w-16",children:"S.No"}),l.jsx("th",{className:"p-2 border",children:"Created At"}),l.jsx("th",{className:"p-2 border",children:"User Info"}),l.jsx("th",{className:"p-2 border",children:"Target Country"}),l.jsx("th",{className:"p-2 border",children:"Target Job Role"}),l.jsx("th",{className:"p-2 border",children:"Job Info"}),l.jsx("th",{className:"p-2 border",children:"Assign To"})]})}),l.jsx("tbody",{children:n.map((E,B)=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"p-2 border text-center",children:(X-1)*100+B+1}),l.jsxs("td",{className:"p-2 border text-sm",children:[E.createdAt?new Date(E.createdAt).toLocaleDateString():"-",l.jsx("div",{className:"text-xs text-gray-500",children:E.createdAt?new Date(E.createdAt).toLocaleTimeString():""})]}),l.jsxs("td",{className:"p-2 border",children:[l.jsx("div",{className:"font-bold",children:E.fullName}),l.jsx("div",{className:"text-sm text-gray-600",children:E.phoneNumber}),l.jsxs("div",{className:"text-xs text-gray-400 font-mono",children:["UID: ",E.userId]})]}),l.jsx("td",{className:"p-2 border",children:E.targetCountry||"-"}),l.jsx("td",{className:"p-2 border",children:E.targetJobRole||"-"}),l.jsxs("td",{className:"p-2 border",children:[l.jsx("div",{className:"font-medium text-sm",children:E.jobTitle}),l.jsx("div",{className:"text-xs text-gray-500",children:E.companyName}),l.jsxs("div",{className:"text-xs text-gray-500",children:[E.jobSnapshot?.salary?.min||0," - ",E.jobSnapshot?.salary?.max||0," ",E.jobSnapshot?.salary?.currency||""]})]}),l.jsx("td",{className:"p-2 border",children:l.jsxs("div",{className:"flex items-center gap-2",children:[E.assignee?E.assignee===Te?.email?l.jsx("span",{className:"hidden"}):l.jsxs("span",{className:"text-xs text-gray-500",children:["Assigned to ",E.assignee]}):l.jsx("button",{onClick:()=>ke(E),className:"bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700 text-xs whitespace-nowrap",children:"Assign Me"}),E.assignee===Te?.email&&l.jsx("button",{onClick:()=>ae(E),className:"bg-gray-600 text-white px-3 py-1 rounded hover:bg-gray-700 whitespace-nowrap",children:"Record Activity"})]})})]},E._id))})]}),l.jsxs("div",{className:"flex justify-center items-center mt-4 gap-4",children:[l.jsx("button",{onClick:()=>q(E=>Math.max(E-1,1)),disabled:X===1,className:"px-4 py-2 bg-gray-300 rounded disabled:opacity-50",children:"Previous"}),l.jsxs("span",{children:["Page ",X," of ",Math.ceil(me/100)]}),l.jsx("button",{onClick:()=>q(E=>E+1),disabled:X*100>=me,className:"px-4 py-2 bg-gray-300 rounded disabled:opacity-50",children:"Next"})]})]})]})]})},e_=["CALL_ATTEMPT_NO_ANSWER","CALL_ATTEMPT_NOT_REACHABLE","CALL_ATTEMPT_WRONG_NUMBER","CALL_ATTEMPT_BUSY_DECLINED","VOICEMAIL_SENT","FOLLOW_UP_SCHEDULED","CONNECTED_SCREENING_COMPLETED","CONNECTED_INTERESTED","CONNECTED_NOT_INTERESTED","CONNECTED_REQUESTED_CALLBACK","CONNECTED_NEEDS_MORE_INFO","QUALIFIED_MEETS_ALL_CRITERIA","PARTIALLY_QUALIFIED_MISSING_DOCUMENTS","PARTIALLY_QUALIFIED_MISSING_EXPERIENCE","NOT_QUALIFIED","UNDER_REVIEW_VERIFICATION_IN_PROGRESS","DOCUMENTS_SUBMITTED_PENDING_REVIEW","DOCUMENTS_APPROVED","DOCUMENTS_REJECTED_REUPLOAD_REQUIRED","VERIFICATION_COMPLETED","VERIFICATION_FAILED","INTERVIEW_SCHEDULED","INTERVIEW_RESCHEDULED","INTERVIEW_COMPLETED_SELECTED","INTERVIEW_COMPLETED_ON_HOLD","INTERVIEW_COMPLETED_REJECTED","CANDIDATE_NO_SHOW_INTERVIEW","OFFER_EXTENDED","OFFER_ACCEPTED","OFFER_DECLINED","ONBOARDING_INITIATED","ONBOARDING_COMPLETED","CANDIDATE_UNRESPONSIVE","CANDIDATE_WITHDREW_APPLICATION","CANDIDATE_JOINED_ANOTHER_EMPLOYER","DUPLICATE_APPLICATION","APPLICATION_CLOSED_BY_EMPLOYER","VISA_DOCUMENTATION_STARTED","VISA_APPROVED","TRAVEL_SCHEDULED","CANDIDATE_DEPLOYED","DEPLOYMENT_DELAYED"],t_=()=>{const[n,t]=S.useState(null),[s,o]=S.useState(!1),[a,c]=S.useState(null),[d,f]=S.useState(null),[g,m]=S.useState(new Date),[y,b]=S.useState([]),[j,k]=S.useState(!1),[v,_]=S.useState({applied:"",country:"",jobRole:""}),[x,T]=S.useState(1),[N,A]=S.useState(0),[F,z]=S.useState([]),[K,Q]=S.useState(!1),[X,q]=S.useState({userInfo:"",country:"",jobRole:"",disposition:""}),[me,Ae]=S.useState(1),[Te,Pe]=S.useState(0);S.useEffect(()=>{(async()=>{const{data:{user:B}}=await _t.auth.getUser();t(B)})()},[]),S.useEffect(()=>{if(n?.email){je();const E=setInterval(je,6e4);return()=>clearInterval(E)}},[n,x,v]),S.useEffect(()=>{if(n?.email){We();const E=setInterval(We,6e4);return()=>clearInterval(E)}},[n,me,X]);const je=async()=>{k(!0);try{const E={page:x,limit:100,applied:v.applied,country:v.country,jobRole:v.jobRole,assignee:n.email},B=await xe.get("/api/crm/user-level",{params:E}),{data:te,total:fe}=B.data,ve=te.map(J=>({...J,assignee:J.crmData?.assignee||"",tempDisposition:J.crmData?.callDisposition||"",tempNotes:J.crmData?.notes||"",tempNextCallDate:J.crmData?.nextCallDate?J.crmData.nextCallDate.split("T")[0]:""}));b(ve),A(fe),m(new Date)}catch(E){console.error("Error fetching user data",E)}finally{k(!1)}},We=async()=>{Q(!0);try{const E={page:me,limit:100,userInfo:X.userInfo,country:X.country,jobRole:X.jobRole,disposition:X.disposition,assignee:n.email},B=await xe.get("/api/crm/application-level",{params:E}),{data:te,total:fe}=B.data,ve=te.map(J=>({...J,assignee:J.crmData?.assignee||"",tempDisposition:J.crmData?.callDisposition||"",tempNotes:J.crmData?.notes||"",tempNextCallDate:J.crmData?.nextCallDate?J.crmData.nextCallDate.split("T")[0]:""}));z(ve),Pe(fe),m(new Date)}catch(E){console.error("Error fetching app data",E)}finally{Q(!1)}},_e=async E=>{b(B=>B.map(te=>te._id===E._id?{...te,tempDisposition:E.tempDisposition,tempNotes:E.tempNotes,tempNextCallDate:E.tempNextCallDate,fullName:E.fullName,targetCountry:E.targetCountry.name||te.targetCountry,targetJobRole:E.targetJobRole.name||te.targetJobRole}:te));try{await xe.post("/api/crm/crm-update",{userId:E._id,callDisposition:E.tempDisposition,notes:E.tempNotes,nextCallDate:E.tempNextCallDate,fullName:E.fullName,targetCountry:E.targetCountry,targetJobRole:E.targetJobRole}),alert("Saved successfully"),setTimeout(je,500)}catch(B){console.error("Error saving user data",B),alert("Error saving data"),je()}},ke=async E=>{z(B=>B.map(te=>te._id===E._id?{...te,tempDisposition:E.tempDisposition,tempNotes:E.tempNotes,tempNextCallDate:E.tempNextCallDate,fullName:E.fullName,targetCountry:E.targetCountry.name||te.targetCountry,targetJobRole:E.targetJobRole.name||te.targetJobRole}:te));try{await xe.post("/api/crm/crm-update",{userId:E.userId,applicationId:E._id,callDisposition:E.tempDisposition,notes:E.tempNotes,nextCallDate:E.tempNextCallDate,fullName:E.fullName,targetCountry:E.targetCountry,targetJobRole:E.targetJobRole}),alert("Saved successfully"),setTimeout(We,500)}catch(B){console.error("Error saving app data",B),alert("Error saving data"),We()}},Y=(E,B)=>{c(E),f(B),o(!0)},ae=async()=>{try{const E={page:1,limit:1e5,applied:v.applied,country:v.country,jobRole:v.jobRole,assignee:n.email},B=await xe.get("/api/crm/user-level",{params:E}),{data:te}=B.data,fe=te.map(ce=>({...ce,assignee:ce.crmData?.assignee||"",tempDisposition:ce.crmData?.callDisposition||"",tempNotes:ce.crmData?.notes||"",tempNextCallDate:ce.crmData?.nextCallDate?ce.crmData.nextCallDate.split("T")[0]:""})),J=[["S.No","User ID","Phone Number","Full Name","Applied?","Latest App Date","Target Country","Target Job Role","Call Disposition","Notes","Next Call Date"].join(",")];fe.forEach((ce,Dt)=>{const Se=[Dt+1,ce._id,`"${(ce.phoneNumber||"").replace(/"/g,'""')}"`,`"${(ce.fullName||"").replace(/"/g,'""')}"`,ce.hasApplied?"Y":"N",ce.latestApplicationDate?new Date(ce.latestApplicationDate).toLocaleDateString():"-",`"${(ce.targetCountry||"").replace(/"/g,'""')}"`,`"${(ce.targetJobRole||"").replace(/"/g,'""')}"`,`"${(ce.tempDisposition||"").replace(/"/g,'""')}"`,`"${(ce.tempNotes||"").replace(/"/g,'""')}"`,ce.tempNextCallDate||""];J.push(Se.join(","))});const ue=new Blob([J.join(`
`)],{type:"text/csv"}),Ne=window.URL.createObjectURL(ue),Ze=document.createElement("a");Ze.href=Ne,Ze.download="my-user-activity.csv",Ze.click(),window.URL.revokeObjectURL(Ne)}catch(E){console.error("Error downloading user CSV",E)}},R=async()=>{try{const E={page:1,limit:1e5,userInfo:X.userInfo,country:X.country,jobRole:X.jobRole,disposition:X.disposition,assignee:n.email},B=await xe.get("/api/crm/application-level",{params:E}),{data:te}=B.data,fe=te.map(ce=>({...ce,assignee:ce.crmData?.assignee||"",tempDisposition:ce.crmData?.callDisposition||"",tempNotes:ce.crmData?.notes||"",tempNextCallDate:ce.crmData?.nextCallDate?ce.crmData.nextCallDate.split("T")[0]:""})),J=[["Application ID","User ID","Created At","Full Name","Phone Number","Target Country","Target Job Role","Job Title","Company","Assignee"].join(",")];fe.forEach(ce=>{const Dt=[ce._id,ce.userId,ce.createdAt?`"${new Date(ce.createdAt).toLocaleString()}"`:"",`"${(ce.fullName||"").replace(/"/g,'""')}"`,`"${(ce.phoneNumber||"").replace(/"/g,'""')}"`,`"${(ce.targetCountry||"").replace(/"/g,'""')}"`,`"${(ce.targetJobRole||"").replace(/"/g,'""')}"`,`"${(ce.jobTitle||"").replace(/"/g,'""')}"`,`"${(ce.companyName||"").replace(/"/g,'""')}"`,`"${(ce.assignee||"").replace(/"/g,'""')}"`];J.push(Dt.join(","))});const ue=new Blob([J.join(`
`)],{type:"text/csv"}),Ne=window.URL.createObjectURL(ue),Ze=document.createElement("a");Ze.href=Ne,Ze.download="my-app-activity.csv",Ze.click(),window.URL.revokeObjectURL(Ne)}catch(E){console.error("Error downloading app CSV",E)}},O=[...new Set(y.map(E=>E.targetCountry).filter(Boolean))],P=[...new Set(y.map(E=>E.targetJobRole).filter(Boolean))],Z=[...new Set(F.map(E=>E.targetCountry).filter(Boolean))],se=[...new Set(F.map(E=>E.targetJobRole).filter(Boolean))];return n?l.jsxs(l.Fragment,{children:[s&&l.jsx("div",{style:{position:"relative",zIndex:9999},children:l.jsx(Uu,{record:a,type:d,onClose:()=>o(!1),onSave:d==="user"?_e:ke})}),l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"My Activity"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[l.jsxs("span",{className:"relative flex h-3 w-3",children:[l.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),l.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-green-500"})]}),"Live"]}),l.jsxs("span",{className:"text-sm text-gray-500",children:["Updated: ",g.toLocaleTimeString()]})]})]}),l.jsxs("div",{className:"mb-12 border-b pb-8",children:[l.jsx("div",{className:"flex justify-between items-center mb-4",children:l.jsx("h3",{className:"text-xl font-semibold",children:"My User Assignments"})}),l.jsxs("div",{className:"flex gap-4 mb-4 flex-wrap items-center",children:[l.jsxs("select",{className:"border p-2 rounded",value:v.applied,onChange:E=>_(B=>({...B,applied:E.target.value})),children:[l.jsx("option",{value:"",children:"Filter Applied: All"}),l.jsx("option",{value:"Y",children:"Yes"}),l.jsx("option",{value:"N",children:"No"})]}),l.jsxs("select",{className:"border p-2 rounded",value:v.country,onChange:E=>_(B=>({...B,country:E.target.value})),children:[l.jsx("option",{value:"",children:"Filter Country: All"}),O.map(E=>l.jsx("option",{value:E,children:E},E))]}),l.jsxs("select",{className:"border p-2 rounded",value:v.jobRole,onChange:E=>_(B=>({...B,jobRole:E.target.value})),children:[l.jsx("option",{value:"",children:"Filter Job Role: All"}),P.map(E=>l.jsx("option",{value:E,children:E},E))]}),l.jsx("button",{onClick:ae,className:"bg-gray-800 text-white px-4 py-2 rounded hover:bg-gray-700 ml-auto",children:"Download CSV"})]}),j?l.jsx("div",{children:"Loading..."}):l.jsxs("div",{className:"overflow-x-auto",children:[l.jsxs("table",{className:"min-w-full bg-white border border-gray-300",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-100",children:[l.jsx("th",{className:"p-2 border w-16",children:"S.No"}),l.jsx("th",{className:"p-2 border",children:"User ID"}),l.jsx("th",{className:"p-2 border",children:"Phone Number"}),l.jsx("th",{className:"p-2 border",children:"Full Name"}),l.jsx("th",{className:"p-2 border",children:"Applied?"}),l.jsx("th",{className:"p-2 border",children:"Latest App Date"}),l.jsx("th",{className:"p-2 border",children:"Target Country"}),l.jsx("th",{className:"p-2 border",children:"Target Job Role"}),l.jsx("th",{className:"p-2 border",children:"Action"})]})}),l.jsxs("tbody",{children:[y.map((E,B)=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"p-2 border text-center",children:(x-1)*100+B+1}),l.jsx("td",{className:"p-2 border text-xs font-mono",children:E._id}),l.jsx("td",{className:"p-2 border",children:E.phoneNumber}),l.jsx("td",{className:"p-2 border",children:E.fullName}),l.jsx("td",{className:"p-2 border text-center",children:l.jsx("span",{className:`px-2 py-1 rounded ${E.hasApplied?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:E.hasApplied?"Y":"N"})}),l.jsx("td",{className:"p-2 border",children:E.latestApplicationDate?new Date(E.latestApplicationDate).toLocaleDateString():"-"}),l.jsx("td",{className:"p-2 border",children:E.targetCountry||"-"}),l.jsx("td",{className:"p-2 border",children:E.targetJobRole||"-"}),l.jsx("td",{className:"p-2 border text-center",children:l.jsx("button",{onClick:()=>Y(E,"user"),className:"bg-gray-600 text-white px-3 py-1 rounded hover:bg-gray-700 whitespace-nowrap text-sm",children:"Record Activity"})})]},E._id)),y.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:"9",className:"p-4 text-center text-gray-500",children:"No user records assigned to you."})})]})]}),l.jsxs("div",{className:"flex justify-center items-center mt-4 gap-4",children:[l.jsx("button",{onClick:()=>T(E=>Math.max(E-1,1)),disabled:x===1,className:"px-4 py-2 bg-gray-300 rounded disabled:opacity-50",children:"Previous"}),l.jsxs("span",{children:["Page ",x]}),l.jsx("button",{onClick:()=>T(E=>E+1),disabled:x*100>=N,className:"px-4 py-2 bg-gray-300 rounded disabled:opacity-50",children:"Next"})]})]})]}),l.jsxs("div",{children:[l.jsx("div",{className:"flex justify-between items-center mb-4",children:l.jsx("h3",{className:"text-xl font-semibold",children:"My Application Assignments"})}),l.jsxs("div",{className:"flex gap-4 mb-4 flex-wrap items-center",children:[l.jsx("input",{type:"text",placeholder:"Search User Info...",className:"border p-2 rounded",value:X.userInfo,onChange:E=>q(B=>({...B,userInfo:E.target.value}))}),l.jsxs("select",{className:"border p-2 rounded",value:X.country,onChange:E=>q(B=>({...B,country:E.target.value})),children:[l.jsx("option",{value:"",children:"Filter Country: All"}),Z.map(E=>l.jsx("option",{value:E,children:E},E))]}),l.jsxs("select",{className:"border p-2 rounded",value:X.jobRole,onChange:E=>q(B=>({...B,jobRole:E.target.value})),children:[l.jsx("option",{value:"",children:"Filter Job Role: All"}),se.map(E=>l.jsx("option",{value:E,children:E},E))]}),l.jsxs("select",{className:"border p-2 rounded",value:X.disposition,onChange:E=>q(B=>({...B,disposition:E.target.value})),children:[l.jsx("option",{value:"",children:"Filter Disposition: All"}),e_.map(E=>l.jsx("option",{value:E,children:E},E))]}),l.jsx("button",{onClick:R,className:"bg-gray-800 text-white px-4 py-2 rounded hover:bg-gray-700 ml-auto",children:"Download CSV"})]}),K?l.jsx("div",{children:"Loading..."}):l.jsxs("div",{className:"overflow-x-auto",children:[l.jsxs("table",{className:"min-w-full bg-white border border-gray-300",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-100",children:[l.jsx("th",{className:"p-2 border w-16",children:"S.No"}),l.jsx("th",{className:"p-2 border",children:"Created At"}),l.jsx("th",{className:"p-2 border",children:"User Info"}),l.jsx("th",{className:"p-2 border",children:"Target Country"}),l.jsx("th",{className:"p-2 border",children:"Target Job Role"}),l.jsx("th",{className:"p-2 border",children:"Job Info"}),l.jsx("th",{className:"p-2 border",children:"Action"})]})}),l.jsxs("tbody",{children:[F.map((E,B)=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"p-2 border text-center",children:(me-1)*100+B+1}),l.jsxs("td",{className:"p-2 border text-sm",children:[E.createdAt?new Date(E.createdAt).toLocaleDateString():"-",l.jsx("div",{className:"text-xs text-gray-500",children:E.createdAt?new Date(E.createdAt).toLocaleTimeString():""})]}),l.jsxs("td",{className:"p-2 border",children:[l.jsx("div",{className:"font-bold",children:E.fullName}),l.jsx("div",{className:"text-sm text-gray-600",children:E.phoneNumber}),l.jsxs("div",{className:"text-xs text-gray-400 font-mono",children:["UID: ",E.userId]})]}),l.jsx("td",{className:"p-2 border",children:E.targetCountry||"-"}),l.jsx("td",{className:"p-2 border",children:E.targetJobRole||"-"}),l.jsxs("td",{className:"p-2 border",children:[l.jsx("div",{className:"font-medium text-sm",children:E.jobTitle}),l.jsx("div",{className:"text-xs text-gray-500",children:E.companyName}),l.jsxs("div",{className:"text-xs text-gray-500",children:[E.jobSnapshot?.salary?.min||0," - ",E.jobSnapshot?.salary?.max||0," ",E.jobSnapshot?.salary?.currency||""]})]}),l.jsx("td",{className:"p-2 border text-center",children:l.jsx("button",{onClick:()=>Y(E,"application"),className:"bg-gray-600 text-white px-3 py-1 rounded hover:bg-gray-700 whitespace-nowrap text-sm",children:"Record Activity"})})]},E._id)),F.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:"7",className:"p-4 text-center text-gray-500",children:"No application records assigned to you."})})]})]}),l.jsxs("div",{className:"flex justify-center items-center mt-4 gap-4",children:[l.jsx("button",{onClick:()=>Ae(E=>Math.max(E-1,1)),disabled:me===1,className:"px-4 py-2 bg-gray-300 rounded disabled:opacity-50",children:"Previous"}),l.jsxs("span",{children:["Page ",me]}),l.jsx("button",{onClick:()=>Ae(E=>E+1),disabled:me*100>=Te,className:"px-4 py-2 bg-gray-300 rounded disabled:opacity-50",children:"Next"})]})]})]})]})]}):l.jsx("div",{className:"p-4",children:"Please log in to view your activity."})},n_=({label:n,value:t,updatedAt:s})=>l.jsxs("div",{style:{background:"#ffffff",borderRadius:12,padding:24,boxShadow:"0 8px 24px rgba(0,0,0,0.05)"},children:[l.jsx("div",{style:{fontSize:14,color:"#666",fontWeight:"bold"},children:n}),l.jsx("div",{style:{fontSize:36,fontWeight:600,margin:"12px 0"},children:t}),l.jsxs("div",{style:{fontSize:12,color:"#999"},children:["Updated: ",new Date(s).toLocaleTimeString()]})]}),r_=async n=>{const t=await fetch(`${Re}/insights/total-users?startDate=${n?.start||""}&endDate=${n?.end||""}`);if(!t.ok)throw new Error("Failed to fetch");return t.json()},Of=async(n=1,t=10,s)=>{const o=await fetch(`${Re}/insights/top-applicants?page=${n}&limit=${t}&startDate=${s?.start||""}&endDate=${s?.end||""}`);if(!o.ok)throw new Error("Failed to fetch top applicants");return o.json()},s_=async()=>{const n=await fetch(`${Re}/insights/application-status`);if(!n.ok)throw new Error("Failed to fetch status stats");return n.json()},Af=async(n=1,t=10,s)=>{const o=await fetch(`${Re}/insights/top-job-roles?page=${n}&limit=${t}&startDate=${s?.start||""}&endDate=${s?.end||""}`);if(!o.ok)throw new Error("Failed to fetch top job roles");return o.json()},Df=async(n=1,t=10,s)=>{const o=await fetch(`${Re}/insights/top-applicants-summary?page=${n}&limit=${t}&startDate=${s?.start||""}&endDate=${s?.end||""}`);if(!o.ok)throw new Error("Failed to fetch top applicants summary");return o.json()},If=async(n=1,t=10,s,o)=>{const a=await fetch(`${Re}/insights/users-application-status?page=${n}&limit=${t}&filter=${s}&startDate=${o?.start||""}&endDate=${o?.end||""}`);if(!a.ok)throw new Error("Failed to fetch user application status");return a.json()},Pf=async(n=1,t=10,s)=>{const o=await fetch(`${Re}/insights/incomplete-profiles?page=${n}&limit=${t}&startDate=${s?.start||""}&endDate=${s?.end||""}`);if(!o.ok)throw new Error("Failed to fetch incomplete profiles");return o.json()},wu=async(n=1,t=10,s)=>{const o=await fetch(`${Re}/insights/jobs-by-company?page=${n}&limit=${t}&startDate=${s?.start||""}&endDate=${s?.end||""}`);if(!o.ok)throw new Error("Failed to fetch jobs by company");return o.json()},Lf=async(n=1,t=10,s)=>{const o=await fetch(`${Re}/insights/company-popularity?page=${n}&limit=${t}&startDate=${s?.start||""}&endDate=${s?.end||""}`);if(!o.ok)throw new Error("Failed to fetch company popularity");return o.json()},$f=async(n=1,t=10,s)=>{const o=await fetch(`${Re}/insights/job-status-list?page=${n}&limit=${t}&startDate=${s?.start||""}&endDate=${s?.end||""}`);if(!o.ok)throw new Error("Failed to fetch job status list");return o.json()},Uf=async(n=1,t=10,s)=>{const o=await fetch(`${Re}/insights/company-status-counts?page=${n}&limit=${t}&startDate=${s?.start||""}&endDate=${s?.end||""}`);if(!o.ok)throw new Error("Failed to fetch company status counts");return o.json()},o_=async n=>{const t=await fetch(`${Re}/insights/total-jobs?startDate=${n?.start||""}&endDate=${n?.end||""}`);if(!t.ok)throw new Error("Failed to fetch total jobs");return t.json()},i_=async n=>{const t=await fetch(`${Re}/insights/total-tickets?startDate=${n?.start||""}&endDate=${n?.end||""}`);if(!t.ok)throw new Error("Failed to fetch total tickets");return t.json()},a_=async n=>{const t=await fetch(`${Re}/insights/employer-policy-status?startDate=${n?.start||""}&endDate=${n?.end||""}`);if(!t.ok)throw new Error("Failed to fetch employer policy status");return t.json()},Zp=async(n=10,t)=>{const s=await fetch(`${Re}/insights/top-countries?limit=${n}&startDate=${t?.start||""}&endDate=${t?.end||""}`);if(!s.ok)throw new Error("Failed to fetch top countries");return s.json()},Mf=async(n=1,t=10,s)=>{const o=await fetch(`${Re}/insights/top-target-roles?page=${n}&limit=${t}&startDate=${s?.start||""}&endDate=${s?.end||""}`);if(!o.ok)throw new Error("Failed to fetch top target roles");return o.json()},l_=async n=>{const t=await fetch(`${Re}/insights/total-feeds?startDate=${n?.start||""}&endDate=${n?.end||""}`);if(!t.ok)throw new Error("Failed to fetch total feeds");return t.json()},Ff=async(n=1,t=10,s)=>{const o=await fetch(`${Re}/insights/user-feed-engagement?page=${n}&limit=${t}&startDate=${s?.start||""}&endDate=${s?.end||""}`);if(!o.ok)throw new Error("Failed to fetch user feed engagement");return o.json()},Bf=async(n=1,t=10,s)=>{const o=await fetch(`${Re}/insights/top-communities?page=${n}&limit=${t}&startDate=${s?.start||""}&endDate=${s?.end||""}`);if(!o.ok)throw new Error("Failed to fetch top communities");return o.json()},u_=async n=>{const t=await fetch(`${Re}/insights/total-users-trend?startDate=${n?.start||""}&endDate=${n?.end||""}`);if(!t.ok)throw new Error("Failed to fetch users trend");return t.json()},c_=async n=>{const t=await fetch(`${Re}/insights/total-jobs-trend?startDate=${n?.start||""}&endDate=${n?.end||""}`);if(!t.ok)throw new Error("Failed to fetch jobs trend");return t.json()},d_=async n=>{const t=await fetch(`${Re}/insights/total-tickets-trend?startDate=${n?.start||""}&endDate=${n?.end||""}`);if(!t.ok)throw new Error("Failed to fetch tickets trend");return t.json()},h_=async n=>{const t=await fetch(`${Re}/insights/total-feeds-trend?startDate=${n?.start||""}&endDate=${n?.end||""}`);if(!t.ok)throw new Error("Failed to fetch feeds trend");return t.json()},f_=async n=>{const t=await fetch(`${Re}/insights/application-status-trend?startDate=${n?.start||""}&endDate=${n?.end||""}`);if(!t.ok)throw new Error("Failed to fetch application status trend");return t.json()},p_=({dateRange:n})=>{const[t,s]=S.useState(null);return S.useEffect(()=>{o_(n).then(s).catch(console.error)},[n]),l.jsxs("div",{style:{background:"#ffffff",borderRadius:12,padding:24,boxShadow:"0 8px 24px rgba(0,0,0,0.05)"},children:[l.jsx("div",{style:{fontSize:14,color:"#666",fontWeight:"bold"},children:"Total Jobs"}),l.jsx("div",{style:{fontSize:36,fontWeight:600,margin:"12px 0"},children:t?t.total:"..."}),t&&l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:t.breakdown.map(o=>l.jsxs("div",{style:{fontSize:12,background:"#f9f9f9",padding:"4px 8px",borderRadius:4,border:"1px solid #eee",display:"flex",gap:4},children:[l.jsxs("span",{style:{color:"#666"},children:[o.status.replace(/_/g," "),":"]}),l.jsx("span",{style:{fontWeight:600},children:o.count})]},o.status))})]})},g_=({dateRange:n})=>{const[t,s]=S.useState([]),[o,a]=S.useState(!1),[c,d]=S.useState(1),[f,g]=S.useState(!1),m=async(v,_=!1)=>{g(!0);try{const x=await Of(v,10,n);s(_?T=>[...T,...x]:x)}catch(x){console.error(x)}finally{g(!1)}};S.useEffect(()=>{m(1)},[n]);const y=()=>{a(!0)},b=()=>{const v=c+1;d(v),m(v,!0)},j=async()=>{const v=await Of(1,"all",n);if(!v.length)return;const _=Object.keys(v[0]).join(","),x=v.map(F=>Object.values(F).map(z=>`"${z}"`).join(",")).join(`
`),T=new Blob([_+`
`+x],{type:"text/csv"}),N=window.URL.createObjectURL(T),A=document.createElement("a");A.href=N,A.download="top_applicants.csv",A.click(),window.URL.revokeObjectURL(N)},k=({items:v})=>l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{textAlign:"left",color:"#666",borderBottom:"1px solid #eee"},children:[l.jsx("th",{style:{padding:"8px 0"},children:"Name"}),l.jsx("th",{style:{padding:"8px 0",textAlign:"center"},children:"Total Apps"}),l.jsx("th",{style:{padding:"8px 0"},children:"Role"}),l.jsx("th",{style:{padding:"8px 0",textAlign:"right"},children:"Role Count"})]})}),l.jsx("tbody",{children:v.map((_,x)=>{const T=x>0&&v[x-1].userId===_.userId;return l.jsxs("tr",{style:{borderBottom:"1px solid #f5f5f5"},children:[l.jsx("td",{style:{padding:"12px 0",fontWeight:500},children:T?"":_.fullName}),l.jsx("td",{style:{padding:"12px 0",textAlign:"center",fontWeight:600},children:T?"":_.totalApplications}),l.jsx("td",{style:{padding:"12px 0",color:"#666"},children:_.jobRole||"N/A"}),l.jsx("td",{style:{padding:"12px 0",textAlign:"right"},children:_.roleCount})]},`${_.userId}-${x}`)})})]});return l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{background:"#ffffff",borderRadius:12,padding:24,boxShadow:"0 8px 24px rgba(0,0,0,0.05)",gridColumn:"span 2"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[l.jsx("h3",{style:{margin:0,fontSize:16},children:"Top Applicants In Detail"}),l.jsx("button",{onClick:y,style:{background:"none",border:"none",color:"#007bff",cursor:"pointer",fontSize:14},children:"Show More"})]}),l.jsx(k,{items:t.slice(0,5)})]}),o&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:l.jsxs("div",{style:{background:"white",width:"600px",maxHeight:"80vh",borderRadius:12,padding:24,display:"flex",flexDirection:"column"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:20},children:[l.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[l.jsx("h2",{style:{margin:0,fontSize:20},children:"All Top Applicants"}),l.jsx("button",{onClick:j,style:{padding:"4px 12px",cursor:"pointer",fontSize:12},children:"Download CSV"})]}),l.jsx("button",{onClick:()=>a(!1),style:{cursor:"pointer",border:"none",background:"none",fontSize:20},children:""})]}),l.jsxs("div",{style:{overflowY:"auto",flex:1,paddingRight:8},children:[l.jsx(k,{items:t}),l.jsx("div",{style:{textAlign:"center",marginTop:20},children:l.jsx("button",{onClick:b,disabled:f,style:{padding:"8px 16px",cursor:"pointer"},children:f?"Loading...":"Load More"})})]})]})})]})},m_=({dateRange:n})=>{const[t,s]=S.useState(null);return S.useEffect(()=>{i_(n).then(s).catch(console.error)},[n]),l.jsxs("div",{style:{background:"#ffffff",borderRadius:12,padding:24,boxShadow:"0 8px 24px rgba(0,0,0,0.05)"},children:[l.jsx("div",{style:{fontSize:14,color:"#666",fontWeight:"bold"},children:"Total Tickets"}),l.jsx("div",{style:{fontSize:36,fontWeight:600,margin:"12px 0"},children:t?t.total:"..."}),t&&l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:t.breakdown.map(o=>l.jsxs("div",{style:{fontSize:12,background:"#f9f9f9",padding:"4px 8px",borderRadius:4,border:"1px solid #eee",display:"flex",gap:4},children:[l.jsxs("span",{style:{color:"#666"},children:[o.status.replace(/_/g," "),":"]}),l.jsx("span",{style:{fontWeight:600},children:o.count})]},o.status))})]})},y_=({dateRange:n})=>{const[t,s]=S.useState(null);return S.useEffect(()=>{l_(n).then(s).catch(console.error)},[n]),l.jsxs("div",{style:{background:"#ffffff",borderRadius:12,padding:24,boxShadow:"0 8px 24px rgba(0,0,0,0.05)"},children:[l.jsx("div",{style:{fontSize:14,color:"#666",fontWeight:"bold"},children:"Total Feeds"}),l.jsx("div",{style:{fontSize:36,fontWeight:600,margin:"12px 0"},children:t?t.total:"..."}),t&&l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:t.breakdown.map(o=>l.jsxs("div",{style:{fontSize:12,background:"#f9f9f9",padding:"4px 8px",borderRadius:4,border:"1px solid #eee",display:"flex",gap:4},children:[l.jsxs("span",{style:{color:"#666"},children:[o.status.replace(/_/g," "),":"]}),l.jsx("span",{style:{fontWeight:600},children:o.count})]},o.status))})]})},v_=()=>{const[n,t]=S.useState([]);S.useEffect(()=>{s_().then(t).catch(console.error)},[]);const s=n.reduce((o,a)=>o+a.count,0);return l.jsxs("div",{style:{background:"#ffffff",borderRadius:12,padding:24,boxShadow:"0 8px 24px rgba(0,0,0,0.05)"},children:[l.jsxs("h3",{style:{margin:"0 0 16px 0",fontSize:16},children:["Application Status ",l.jsxs("span",{style:{color:"#999",fontWeight:"normal",marginLeft:8},children:["(",s,")"]})]}),l.jsxs("table",{style:{width:"100%",fontSize:14},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{textAlign:"left",color:"#999"},children:[l.jsx("th",{style:{paddingBottom:8},children:"Status"}),l.jsx("th",{style:{paddingBottom:8,textAlign:"right"},children:"Count"})]})}),l.jsx("tbody",{children:n.map(o=>l.jsxs("tr",{style:{borderTop:"1px solid #f0f0f0"},children:[l.jsx("td",{style:{padding:"10px 0",color:"#333"},children:o.status.replace(/_/g," ")}),l.jsx("td",{style:{padding:"10px 0",textAlign:"right",fontWeight:600},children:o.count})]},o.status))})]})]})},w_=({dateRange:n})=>{const[t,s]=S.useState([]),[o,a]=S.useState(!1),[c,d]=S.useState(1),[f,g]=S.useState(!1),m=async(v,_=!1)=>{g(!0);try{const x=await Af(v,10,n);s(_?T=>[...T,...x]:x)}catch(x){console.error(x)}finally{g(!1)}};S.useEffect(()=>{m(1)},[n]);const y=()=>{a(!0)},b=()=>{const v=c+1;d(v),m(v,!0)},j=async()=>{const v=await Af(1,"all",n);if(!v.length)return;const _=Object.keys(v[0]).join(","),x=v.map(F=>Object.values(F).map(z=>`"${z}"`).join(",")).join(`
`),T=new Blob([_+`
`+x],{type:"text/csv"}),N=window.URL.createObjectURL(T),A=document.createElement("a");A.href=N,A.download="top_job_roles.csv",A.click(),window.URL.revokeObjectURL(N)},k=({items:v})=>l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{textAlign:"left",color:"#666",borderBottom:"1px solid #eee"},children:[l.jsx("th",{style:{padding:"8px 0"},children:"Job Role"}),l.jsx("th",{style:{padding:"8px 0",textAlign:"right"},children:"Count"})]})}),l.jsx("tbody",{children:v.map((_,x)=>l.jsxs("tr",{style:{borderBottom:"1px solid #f5f5f5"},children:[l.jsx("td",{style:{padding:"12px 0",fontWeight:500},children:_.role}),l.jsx("td",{style:{padding:"12px 0",textAlign:"right"},children:_.count})]},`${_.role}-${x}`))})]});return l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{background:"#ffffff",borderRadius:12,padding:24,boxShadow:"0 8px 24px rgba(0,0,0,0.05)"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[l.jsx("h3",{style:{margin:0,fontSize:16},children:"Top Job Roles based on RA"}),l.jsx("button",{onClick:y,style:{background:"none",border:"none",color:"#007bff",cursor:"pointer",fontSize:14},children:"Show More"})]}),l.jsx(k,{items:t.slice(0,5)})]}),o&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:l.jsxs("div",{style:{background:"white",width:"500px",maxHeight:"80vh",borderRadius:12,padding:24,display:"flex",flexDirection:"column"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:20},children:[l.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[l.jsx("h2",{style:{margin:0,fontSize:20},children:"All Top Job Roles (RA)"}),l.jsx("button",{onClick:j,style:{padding:"4px 12px",cursor:"pointer",fontSize:12},children:"Download CSV"})]}),l.jsx("button",{onClick:()=>a(!1),style:{cursor:"pointer",border:"none",background:"none",fontSize:20},children:""})]}),l.jsxs("div",{style:{overflowY:"auto",flex:1,paddingRight:8},children:[l.jsx(k,{items:t}),l.jsx("div",{style:{textAlign:"center",marginTop:20},children:l.jsx("button",{onClick:b,disabled:f,style:{padding:"8px 16px",cursor:"pointer"},children:f?"Loading...":"Load More"})})]})]})})]})},x_=({data:n,height:t=300})=>{const[s,o]=S.useState(null);if(!n.length||!n.some(v=>v.points.length))return l.jsx("div",{style:{height:t,display:"flex",alignItems:"center",justifyContent:"center",color:"#999",fontSize:12},children:"No trend data available"});const a=n.flatMap(v=>v.points),c=Array.from(new Set(a.map(v=>v.date))).sort();if(c.length===0)return null;const d=Math.max(...a.map(v=>v.value))*1.1||5,f=500,g=t,m={top:20,right:20,bottom:30,left:40},y=f-m.left-m.right,b=g-m.top-m.bottom,j=v=>{const _=c.indexOf(v);return m.left+_/(c.length-1||1)*y},k=v=>m.top+b-v/d*b;return l.jsxs("div",{style:{margin:"16px 0",width:"100%"},children:[l.jsxs("svg",{viewBox:`0 0 ${f} ${g}`,style:{width:"100%",height:t,overflow:"visible"},children:[[0,.25,.5,.75,1].map(v=>{const _=d*v,x=k(_);return l.jsxs("g",{children:[l.jsx("line",{x1:m.left,y1:x,x2:f-m.right,y2:x,stroke:"#f0f0f0",strokeWidth:"1"}),l.jsx("text",{x:m.left-10,y:x+4,textAnchor:"end",fontSize:"12",fill:"#999",children:Math.round(_)})]},v)}),c.map((v,_)=>{const x=Math.ceil(c.length/7);if(_%x!==0&&_!==c.length-1)return null;const T=j(v),N=new Date(v),A=`${N.getMonth()+1}/${N.getDate()}`;return l.jsx("text",{x:T,y:g-5,textAnchor:"middle",fontSize:"12",fill:"#999",children:A},v)}),n.map((v,_)=>{const x=[...v.points].sort((N,A)=>N.date.localeCompare(A.date));if(x.length===0)return null;const T=x.map((N,A)=>`${A===0?"M":"L"} ${j(N.date)} ${k(N.value)}`).join(" ");return l.jsxs("g",{children:[l.jsx("path",{d:T,fill:"none",stroke:v.color,strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),x.map(N=>l.jsx("circle",{cx:j(N.date),cy:k(N.value),r:"6",fill:"white",stroke:v.color,strokeWidth:"2",onMouseEnter:()=>o({x:j(N.date),y:k(N.value),value:N.value}),onMouseLeave:()=>o(null),style:{cursor:"pointer",transition:"r 0.2s"}},N.date))]},_)}),s&&l.jsxs("g",{pointerEvents:"none",children:[l.jsx("rect",{x:s.x-20,y:s.y-35,width:"40",height:"24",rx:"4",fill:"#1f2937"}),l.jsx("text",{x:s.x,y:s.y-19,textAnchor:"middle",fill:"white",fontSize:"12",fontWeight:"600",children:s.value}),l.jsx("path",{d:`M${s.x-6},${s.y-11} L${s.x+6},${s.y-11} L${s.x},${s.y-5} Z`,fill:"#1f2937"})]})]}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:16,justifyContent:"center",marginTop:8},children:n.map((v,_)=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,fontSize:12,color:"#555"},children:[l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:v.color}}),v.label]},_))})]})},b_=({data:n})=>{const t=n.reduce((c,d)=>c+d.value,0)||1;let s=0;const o=n.map(c=>{const d=s,f=c.value/t*360;return s+=f,`${c.color} ${d}deg ${s}deg`}).join(", "),a=n.length?`conic-gradient(${o})`:"#eee";return l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:24,margin:"16px 0"},children:[l.jsx("div",{style:{width:150,height:150,borderRadius:"50%",background:a,flexShrink:0}}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:6},children:n.map((c,d)=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,fontSize:12},children:[l.jsx("div",{style:{width:12,height:12,background:c.color,borderRadius:2}}),l.jsx("span",{style:{color:"#666"},children:c.label}),l.jsx("span",{style:{fontWeight:600,color:"#333"},children:c.value})]},d))})]})},Mu=({data:n,height:t=300,colors:s={},minGroupWidth:o=100})=>{const[a,c]=S.useState(null);if(!n.length)return l.jsx("div",{style:{height:t,display:"flex",alignItems:"center",justifyContent:"center",color:"#999"},children:"No data"});const d=Math.max(...n.flatMap(N=>N.segments.map(A=>A.value)))*1.1||1,f=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"],g=(N,A)=>s[N]||f[A%f.length],m={top:20,right:20,bottom:40,left:40},y=Math.max(800,n.length*o+m.left+m.right),b=t,j=y-m.left-m.right,k=b-m.top-m.bottom,v=j/n.length,_=Math.max(...n.map(N=>N.segments.length))||1,x=v*.8/_,T=v*.2/2;return l.jsx("div",{style:{margin:"16px 0",width:"100%",overflowX:"auto"},children:l.jsxs("svg",{viewBox:`0 0 ${y} ${b}`,style:{width:`${y}px`,height:t,overflow:"visible"},children:[[0,.25,.5,.75,1].map(N=>{const A=d*N,F=m.top+k-A/d*k;return l.jsxs("g",{style:{pointerEvents:"none"},children:[l.jsx("line",{x1:m.left,y1:F,x2:y-m.right,y2:F,stroke:"#f0f0f0",strokeWidth:"1"}),l.jsx("text",{x:m.left-10,y:F+4,textAnchor:"end",fontSize:"12",fill:"#999",style:{pointerEvents:"none"},children:Math.round(A)})]},N)}),n.map((N,A)=>{const F=m.left+A*v+T;return l.jsxs("g",{children:[N.segments.map((z,K)=>{const Q=z.value/d*k,X=m.top+k-Q,q=F+K*x;return l.jsx("rect",{x:q,y:X,width:x,height:Q,fill:g(z.key,K),onMouseEnter:()=>c({x:q+x/2,y:X,value:z.value,label:z.key}),onMouseLeave:()=>c(null)},K)}),l.jsx("text",{x:m.left+A*v+v/2,y:m.top+k+20,textAnchor:"middle",fontSize:"11",fill:"#666",children:N.label})]},A)}),a&&l.jsxs("g",{pointerEvents:"none",transform:`translate(${a.x}, ${a.y-10})`,children:[l.jsx("rect",{x:"-30",y:"-24",width:"60",height:"20",rx:"4",fill:"#1f2937"}),l.jsx("text",{x:"0",y:"-10",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"600",dominantBaseline:"middle",children:a.value}),l.jsx("path",{d:"M-4,-4 L4,-4 L0,2 Z",fill:"#1f2937"})]})]})})},__=({dateRange:n})=>{const[t,s]=S.useState(null);return S.useEffect(()=>{a_(n).then(s).catch(console.error)},[n]),l.jsxs("div",{style:{background:"#ffffff",borderRadius:12,padding:24,boxShadow:"0 8px 24px rgba(0,0,0,0.05)"},children:[l.jsx("div",{style:{fontSize:14,color:"#666",fontWeight:"bold"},children:"Employer Policy Status"}),l.jsx("div",{style:{fontSize:36,fontWeight:600,margin:"12px 0"},children:t?t.total:"..."}),t&&l.jsx("div",{style:{marginTop:20},children:l.jsx(b_,{data:[{label:"Accepted",value:t.accepted,color:"#1e8e3e"},{label:"Not Accepted",value:t.notAccepted,color:"#d93025"}]})})]})},S_=({dateRange:n})=>{const[t,s]=S.useState([]),[o,a]=S.useState(!1),[c,d]=S.useState(1),[f,g]=S.useState(!1),m=async(v,_=!1)=>{g(!0);try{const x=await Df(v,10,n);s(_?T=>[...T,...x]:x)}catch(x){console.error(x)}finally{g(!1)}};S.useEffect(()=>{m(1)},[n]);const y=()=>{a(!0)},b=()=>{const v=c+1;d(v),m(v,!0)},j=async()=>{const v=await Df(1,"all",n);if(!v.length)return;const _=Object.keys(v[0]).join(","),x=v.map(F=>Object.values(F).map(z=>`"${z}"`).join(",")).join(`
`),T=new Blob([_+`
`+x],{type:"text/csv"}),N=window.URL.createObjectURL(T),A=document.createElement("a");A.href=N,A.download="top_applicants_summary.csv",A.click(),window.URL.revokeObjectURL(N)},k=({items:v})=>l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{textAlign:"left",color:"#666",borderBottom:"1px solid #eee"},children:[l.jsx("th",{style:{padding:"8px 0"},children:"User ID"}),l.jsx("th",{style:{padding:"8px 0"},children:"Name"}),l.jsx("th",{style:{padding:"8px 0",textAlign:"center"},children:"Total Apps"}),l.jsx("th",{style:{padding:"8px 0"},children:"Most Applied Role"})]})}),l.jsx("tbody",{children:v.map((_,x)=>l.jsxs("tr",{style:{borderBottom:"1px solid #f5f5f5"},children:[l.jsx("td",{style:{padding:"12px 0",color:"#999",fontSize:12,fontFamily:"monospace"},children:_.userId}),l.jsx("td",{style:{padding:"12px 0",fontWeight:500},children:_.fullName}),l.jsx("td",{style:{padding:"12px 0",textAlign:"center",fontWeight:600},children:_.totalApplications}),l.jsx("td",{style:{padding:"12px 0",color:"#666"},children:_.mostAppliedRole})]},`${_.userId}-${x}`))})]});return l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{background:"#ffffff",borderRadius:12,padding:24,boxShadow:"0 8px 24px rgba(0,0,0,0.05)",gridColumn:"span 2"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[l.jsx("h3",{style:{margin:0,fontSize:16},children:"Top Applicants (Summary)"}),l.jsx("button",{onClick:y,style:{background:"none",border:"none",color:"#007bff",cursor:"pointer",fontSize:14},children:"Show More"})]}),l.jsx(k,{items:t.slice(0,5)})]}),o&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:l.jsxs("div",{style:{background:"white",width:"700px",maxHeight:"80vh",borderRadius:12,padding:24,display:"flex",flexDirection:"column"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:20},children:[l.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[l.jsx("h2",{style:{margin:0,fontSize:20},children:"All Top Applicants"}),l.jsx("button",{onClick:j,style:{padding:"4px 12px",cursor:"pointer",fontSize:12},children:"Download CSV"})]}),l.jsx("button",{onClick:()=>a(!1),style:{cursor:"pointer",border:"none",background:"none",fontSize:20},children:""})]}),l.jsxs("div",{style:{overflowY:"auto",flex:1,paddingRight:8},children:[l.jsx(k,{items:t}),l.jsx("div",{style:{textAlign:"center",marginTop:20},children:l.jsx("button",{onClick:b,disabled:f,style:{padding:"8px 16px",cursor:"pointer"},children:f?"Loading...":"Load More"})})]})]})})]})},zf=({title:n,filter:t,dateRange:s,currentUser:o})=>{const[a,c]=S.useState([]),[d,f]=S.useState(0),[g,m]=S.useState(!1),[y,b]=S.useState(1),[j,k]=S.useState(!1),v=async(A,F=!1)=>{k(!0);try{const z=await If(A,10,t,s);if(F)c(K=>[...K,...z.data]);else{const K=z.data.map(q=>q.userId);let Q=[];if(K.length>0){const{data:q}=await _t.from("user_assignments").select("user_id, assigned_to").in("user_id",K);q&&(Q=q)}const X=z.data.map(q=>({...q,assigned_to:Q.find(me=>me.user_id===q.userId)?.assigned_to}));c(X)}f(z.total)}catch(z){console.error(z)}finally{k(!1)}};S.useEffect(()=>{v(1)},[t,s]);const _=()=>{m(!0)},x=()=>{const A=y+1;b(A),v(A,!0)},T=async()=>{const F=(await If(1,"all",t,s)).data;if(!F.length)return;const z=Object.keys(F[0]).join(","),K=F.map(me=>Object.values(me).map(Ae=>`"${Ae}"`).join(",")).join(`
`),Q=new Blob([z+`
`+K],{type:"text/csv"}),X=window.URL.createObjectURL(Q),q=document.createElement("a");q.href=X,q.download=`${n.toLowerCase().replace(/ /g,"_")}.csv`,q.click(),window.URL.revokeObjectURL(X)},N=({items:A})=>l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{textAlign:"left",color:"#666",borderBottom:"1px solid #eee"},children:[l.jsx("th",{style:{padding:"8px 0"},children:"User ID"}),l.jsx("th",{style:{padding:"8px 0"},children:"Name"}),t!=="applied"&&l.jsx("th",{style:{padding:"8px 0"},children:"Target Country"}),t!=="applied"&&l.jsx("th",{style:{padding:"8px 0"},children:"Target Role"})]})}),l.jsx("tbody",{children:A.map((F,z)=>l.jsxs("tr",{style:{borderBottom:"1px solid #f5f5f5"},children:[l.jsx("td",{style:{padding:"12px 0",color:"#999",fontSize:12,fontFamily:"monospace"},children:F.userId}),l.jsx("td",{style:{padding:"12px 0",fontWeight:500},children:F.fullName}),t!=="applied"&&l.jsx("td",{style:{padding:"12px 0",color:"#666"},children:F.targetCountry}),t!=="applied"&&l.jsx("td",{style:{padding:"12px 0",color:"#666"},children:F.targetJobRole})]},`${F.userId}-${z}`))})]});return l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{background:"#ffffff",borderRadius:12,padding:24,boxShadow:"0 8px 24px rgba(0,0,0,0.05)",gridColumn:"span 2"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[l.jsxs("h3",{style:{margin:0,fontSize:16},children:[n," ",l.jsxs("span",{style:{color:"#999",fontWeight:"normal",marginLeft:8},children:["(",d,")"]})]}),l.jsx("button",{onClick:_,style:{background:"none",border:"none",color:"#007bff",cursor:"pointer",fontSize:14},children:"Show More"})]}),l.jsx(N,{items:a.slice(0,5)})]}),g&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:l.jsxs("div",{style:{background:"white",width:"800px",maxHeight:"80vh",borderRadius:12,padding:24,display:"flex",flexDirection:"column"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:20},children:[l.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[l.jsx("h2",{style:{margin:0,fontSize:20},children:n}),l.jsx("button",{onClick:T,style:{padding:"4px 12px",cursor:"pointer",fontSize:12},children:"Download CSV"})]}),l.jsx("button",{onClick:()=>m(!1),style:{cursor:"pointer",border:"none",background:"none",fontSize:20},children:""})]}),l.jsxs("div",{style:{overflowY:"auto",flex:1,paddingRight:8},children:[l.jsx(N,{items:a}),l.jsx("div",{style:{textAlign:"center",marginTop:20},children:l.jsx("button",{onClick:x,disabled:j,style:{padding:"8px 16px",cursor:"pointer"},children:j?"Loading...":"Load More"})})]})]})})]})},E_=({dateRange:n})=>{const[t,s]=S.useState([]),[o,a]=S.useState(0),[c,d]=S.useState(!1),[f,g]=S.useState(1),[m,y]=S.useState(!1),b=async(x,T=!1)=>{y(!0);try{const N=await Pf(x,10,n);s(T?A=>[...A,...N.data]:N.data),a(N.total)}catch(N){console.error(N)}finally{y(!1)}};S.useEffect(()=>{b(1)},[n]);const j=()=>{d(!0)},k=()=>{const x=f+1;g(x),b(x,!0)},v=async()=>{const T=(await Pf(1,"all",n)).data;if(!T.length)return;const N=Object.keys(T[0]).join(","),A=T.map(Q=>Object.values(Q).map(X=>`"${X}"`).join(",")).join(`
`),F=new Blob([N+`
`+A],{type:"text/csv"}),z=window.URL.createObjectURL(F),K=document.createElement("a");K.href=z,K.download="incomplete_profiles.csv",K.click(),window.URL.revokeObjectURL(z)},_=({items:x})=>l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{textAlign:"left",color:"#666",borderBottom:"1px solid #eee"},children:[l.jsx("th",{style:{padding:"8px 0"},children:"User ID"}),l.jsx("th",{style:{padding:"8px 0"},children:"Missing Fields"})]})}),l.jsx("tbody",{children:x.map((T,N)=>l.jsxs("tr",{style:{borderBottom:"1px solid #f5f5f5"},children:[l.jsx("td",{style:{padding:"12px 0",color:"#999",fontSize:12,fontFamily:"monospace"},children:T._id}),l.jsx("td",{style:{padding:"12px 0",color:"#d93025"},children:[!T.fullName&&"fullName",!T.targetCountry&&"targetCountry",!T.targetJobRole&&"targetJobRole"].filter(Boolean).join(", ")})]},`${T._id}-${N}`))})]});return l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{background:"#ffffff",borderRadius:12,padding:24,boxShadow:"0 8px 24px rgba(0,0,0,0.05)",gridColumn:"span 2"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[l.jsxs("h3",{style:{margin:0,fontSize:16},children:["Incomplete Profiles ",l.jsxs("span",{style:{color:"#999",fontWeight:"normal",marginLeft:8},children:["(",o,")"]})]}),l.jsx("button",{onClick:j,style:{background:"none",border:"none",color:"#007bff",cursor:"pointer",fontSize:14},children:"Show More"})]}),l.jsx(_,{items:t.slice(0,6)})]}),c&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:l.jsxs("div",{style:{background:"white",width:"600px",maxHeight:"80vh",borderRadius:12,padding:24,display:"flex",flexDirection:"column"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:20},children:[l.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[l.jsx("h2",{style:{margin:0,fontSize:20},children:"Users with Incomplete Details"}),l.jsx("button",{onClick:v,style:{padding:"4px 12px",cursor:"pointer",fontSize:12},children:"Download CSV"})]}),l.jsx("button",{onClick:()=>d(!1),style:{cursor:"pointer",border:"none",background:"none",fontSize:20},children:""})]}),l.jsxs("div",{style:{overflowY:"auto",flex:1,paddingRight:8},children:[l.jsx(_,{items:t}),l.jsx("div",{style:{textAlign:"center",marginTop:20},children:l.jsx("button",{onClick:k,disabled:m,style:{padding:"8px 16px",cursor:"pointer"},children:m?"Loading...":"Load More"})})]})]})})]})},j_=({dateRange:n})=>{const[t,s]=S.useState([]),[o,a]=S.useState({totalJobs:0,totalCompanies:0}),[c,d]=S.useState(!1),[f,g]=S.useState(1),[m,y]=S.useState(!1),b=async(x,T=!1)=>{y(!0);try{const N=await wu(x,10,n);s(T?A=>[...A,...N.data]:N.data),a(N.meta)}catch(N){console.error(N)}finally{y(!1)}};S.useEffect(()=>{b(1)},[n]);const j=()=>{d(!0)},k=()=>{const x=f+1;g(x),b(x,!0)},v=async()=>{const T=(await wu(1,"all",n)).data;if(!T.length)return;const N=Object.keys(T[0]).join(","),A=T.map(Q=>Object.values(Q).map(X=>`"${X}"`).join(",")).join(`
`),F=new Blob([N+`
`+A],{type:"text/csv"}),z=window.URL.createObjectURL(F),K=document.createElement("a");K.href=z,K.download="jobs_by_company.csv",K.click(),window.URL.revokeObjectURL(z)},_=({items:x})=>l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{textAlign:"left",color:"#666",borderBottom:"1px solid #eee"},children:[l.jsx("th",{style:{padding:"8px 0"},children:"Company"}),l.jsx("th",{style:{padding:"8px 0",textAlign:"right"},children:"Job Count"}),l.jsx("th",{style:{padding:"8px 0",textAlign:"right"},children:"Total Apps"})]})}),l.jsx("tbody",{children:x.map((T,N)=>l.jsxs("tr",{style:{borderBottom:"1px solid #f5f5f5"},children:[l.jsx("td",{style:{padding:"12px 0",fontWeight:500},children:T.companyName}),l.jsx("td",{style:{padding:"12px 0",textAlign:"right",fontWeight:600},children:T.jobCount}),l.jsx("td",{style:{padding:"12px 0",textAlign:"right",fontWeight:600},children:T.totalApplications})]},`${T.companyName}-${N}`))})]});return l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{background:"#ffffff",borderRadius:12,padding:24,boxShadow:"0 8px 24px rgba(0,0,0,0.05)",gridColumn:"span 2"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[l.jsxs("h3",{style:{margin:0,fontSize:16},children:["Jobs by Company ",l.jsxs("span",{style:{color:"#999",fontWeight:"normal",marginLeft:8},children:["(",o.totalCompanies,")(",o.totalJobs,")"]})]}),l.jsx("button",{onClick:j,style:{background:"none",border:"none",color:"#007bff",cursor:"pointer",fontSize:14},children:"Show More"})]}),l.jsx(_,{items:t.slice(0,6)})]}),c&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:l.jsxs("div",{style:{background:"white",width:"900px",maxHeight:"80vh",borderRadius:12,padding:24,display:"flex",flexDirection:"column"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:20},children:[l.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[l.jsx("h2",{style:{margin:0,fontSize:20},children:"Jobs by Company"}),l.jsx("button",{onClick:v,style:{padding:"4px 12px",cursor:"pointer",fontSize:12},children:"Download CSV"})]}),l.jsx("button",{onClick:()=>d(!1),style:{cursor:"pointer",border:"none",background:"none",fontSize:20},children:""})]}),l.jsxs("div",{style:{overflowY:"auto",flex:1,paddingRight:8},children:[l.jsx(_,{items:t}),l.jsx("div",{style:{textAlign:"center",marginTop:20},children:l.jsx("button",{onClick:k,disabled:m,style:{padding:"8px 16px",cursor:"pointer"},children:m?"Loading...":"Load More"})})]})]})})]})},C_=({dateRange:n})=>{const[t,s]=S.useState([]),[o,a]=S.useState(!1),[c,d]=S.useState(1),[f,g]=S.useState(!1),m=async(v,_=!1)=>{g(!0);try{const x=await Lf(v,10,n);s(_?T=>[...T,...x]:x)}catch(x){console.error(x)}finally{g(!1)}};S.useEffect(()=>{m(1)},[n]);const y=()=>{a(!0)},b=()=>{const v=c+1;d(v),m(v,!0)},j=async()=>{const v=await Lf(1,"all",n);if(!v.length)return;const _=Object.keys(v[0]).join(","),x=v.map(F=>Object.values(F).map(z=>`"${z}"`).join(",")).join(`
`),T=new Blob([_+`
`+x],{type:"text/csv"}),N=window.URL.createObjectURL(T),A=document.createElement("a");A.href=N,A.download="company_popularity.csv",A.click(),window.URL.revokeObjectURL(N)},k=({data:v})=>l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{textAlign:"left",color:"#666",borderBottom:"1px solid #eee"},children:[l.jsx("th",{style:{padding:"8px 12px"},children:"Company"}),l.jsx("th",{style:{padding:"8px 12px"},children:"Job"}),l.jsx("th",{style:{padding:"8px 12px",textAlign:"right"},children:"Positions"}),l.jsx("th",{style:{padding:"8px 12px",textAlign:"right"},children:"Filled"}),l.jsx("th",{style:{padding:"8px 12px",textAlign:"right"},children:"Applied"})]})}),l.jsx("tbody",{children:v.map((_,x)=>l.jsxs("tr",{style:{borderBottom:"1px solid #f5f5f5"},children:[l.jsx("td",{style:{padding:"12px 12px",fontWeight:500},children:_.companyName}),l.jsx("td",{style:{padding:"12px 12px",color:"#333"},children:_.jobTitle}),l.jsx("td",{style:{padding:"12px 12px",textAlign:"right"},children:_.positions}),l.jsx("td",{style:{padding:"12px 12px",textAlign:"right"},children:_.positionFilled}),l.jsx("td",{style:{padding:"12px 12px",textAlign:"right",fontWeight:600},children:_.applicationCount})]},`${_.companyName}-${_.jobTitle}-${x}`))})]});return l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{background:"#ffffff",borderRadius:12,padding:24,boxShadow:"0 8px 24px rgba(0,0,0,0.05)",gridColumn:"span 2"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[l.jsx("h3",{style:{margin:0,fontSize:16},children:"Company Popularity"}),l.jsx("button",{onClick:y,style:{background:"none",border:"none",color:"#007bff",cursor:"pointer",fontSize:14},children:"Show More"})]}),l.jsx(k,{data:t.slice(0,5)})]}),o&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:l.jsxs("div",{style:{background:"white",width:"1100px",maxHeight:"80vh",borderRadius:12,padding:24,display:"flex",flexDirection:"column"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:20},children:[l.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[l.jsx("h2",{style:{margin:0,fontSize:20},children:"Company Popularity (All Jobs)"}),l.jsx("button",{onClick:j,style:{padding:"4px 12px",cursor:"pointer",fontSize:12},children:"Download CSV"})]}),l.jsx("button",{onClick:()=>a(!1),style:{cursor:"pointer",border:"none",background:"none",fontSize:20},children:""})]}),l.jsxs("div",{style:{overflowY:"auto",flex:1,paddingRight:8},children:[l.jsx(k,{data:t}),l.jsx("div",{style:{textAlign:"center",marginTop:20},children:l.jsx("button",{onClick:b,disabled:f,style:{padding:"8px 16px",cursor:"pointer"},children:f?"Loading...":"Load More"})})]})]})})]})},k_=({dateRange:n})=>{const[t,s]=S.useState([]),[o,a]=S.useState(!1),[c,d]=S.useState(1),[f,g]=S.useState(!1),m=async(v,_=!1)=>{g(!0);try{const x=await $f(v,10,n);s(_?T=>[...T,...x]:x)}catch(x){console.error(x)}finally{g(!1)}};S.useEffect(()=>{m(1)},[n]);const y=()=>{a(!0)},b=()=>{const v=c+1;d(v),m(v,!0)},j=async()=>{const v=await $f(1,"all",n);if(!v.length)return;const _=Object.keys(v[0]).join(","),x=v.map(F=>Object.values(F).map(z=>`"${z}"`).join(",")).join(`
`),T=new Blob([_+`
`+x],{type:"text/csv"}),N=window.URL.createObjectURL(T),A=document.createElement("a");A.href=N,A.download="job_status_list.csv",A.click(),window.URL.revokeObjectURL(N)},k=({data:v})=>l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{textAlign:"left",color:"#666",borderBottom:"1px solid #eee"},children:[l.jsx("th",{style:{padding:"8px 0"},children:"Company"}),l.jsx("th",{style:{padding:"8px 0"},children:"Title"}),l.jsx("th",{style:{padding:"8px 0",textAlign:"right"},children:"Status"})]})}),l.jsx("tbody",{children:v.map((_,x)=>l.jsxs("tr",{style:{borderBottom:"1px solid #f5f5f5"},children:[l.jsx("td",{style:{padding:"12px 0",fontWeight:500},children:_.companyName}),l.jsx("td",{style:{padding:"12px 0",color:"#333"},children:_.title}),l.jsx("td",{style:{padding:"12px 0",textAlign:"right"},children:l.jsx("span",{style:{padding:"4px 8px",borderRadius:4,background:"#f0f0f0",fontSize:12,fontWeight:600},children:_.status.replace(/_/g," ")})})]},`${_.companyName}-${_.title}-${x}`))})]});return l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{background:"#ffffff",borderRadius:12,padding:24,boxShadow:"0 8px 24px rgba(0,0,0,0.05)",gridColumn:"span 2"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[l.jsx("h3",{style:{margin:0,fontSize:16},children:"Job Status List"}),l.jsx("button",{onClick:y,style:{background:"none",border:"none",color:"#007bff",cursor:"pointer",fontSize:14},children:"Show More"})]}),l.jsx(k,{data:t.slice(0,6)})]}),o&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:l.jsxs("div",{style:{background:"white",width:"900px",maxHeight:"80vh",borderRadius:12,padding:24,display:"flex",flexDirection:"column"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:20},children:[l.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[l.jsx("h2",{style:{margin:0,fontSize:20},children:"All Jobs Status"}),l.jsx("button",{onClick:j,style:{padding:"4px 12px",cursor:"pointer",fontSize:12},children:"Download CSV"})]}),l.jsx("button",{onClick:()=>a(!1),style:{cursor:"pointer",border:"none",background:"none",fontSize:20},children:""})]}),l.jsxs("div",{style:{overflowY:"auto",flex:1,paddingRight:8},children:[l.jsx(k,{data:t}),l.jsx("div",{style:{textAlign:"center",marginTop:20},children:l.jsx("button",{onClick:b,disabled:f,style:{padding:"8px 16px",cursor:"pointer"},children:f?"Loading...":"Load More"})})]})]})})]})},R_=({dateRange:n})=>{const[t,s]=S.useState([]),[o,a]=S.useState(!1),[c,d]=S.useState(1),[f,g]=S.useState(!1),m=async(v,_=!1)=>{g(!0);try{const x=await Uf(v,10,n);s(_?T=>[...T,...x]:x)}catch(x){console.error(x)}finally{g(!1)}};S.useEffect(()=>{m(1)},[n]);const y=()=>{a(!0)},b=()=>{const v=c+1;d(v),m(v,!0)},j=async()=>{const v=await Uf(1,"all",n);if(!v.length)return;const _=Object.keys(v[0]).join(","),x=v.map(F=>Object.values(F).map(z=>`"${z}"`).join(",")).join(`
`),T=new Blob([_+`
`+x],{type:"text/csv"}),N=window.URL.createObjectURL(T),A=document.createElement("a");A.href=N,A.download="company_status_counts.csv",A.click(),window.URL.revokeObjectURL(N)},k=({data:v})=>{const _=Array.from(new Set(v.flatMap(x=>Object.keys(x)))).filter(x=>x!=="companyName"&&x!=="total").sort();return l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{textAlign:"left",color:"#666",borderBottom:"1px solid #eee"},children:[l.jsx("th",{style:{padding:"8px 12px"},children:"Company"}),_.map(x=>l.jsx("th",{style:{padding:"8px 12px",textAlign:"right"},children:x.replace(/_/g," ")},x)),l.jsx("th",{style:{padding:"8px 12px",textAlign:"right"},children:"Total"})]})}),l.jsx("tbody",{children:v.map((x,T)=>l.jsxs("tr",{style:{borderBottom:"1px solid #f5f5f5"},children:[l.jsx("td",{style:{padding:"12px 12px",fontWeight:500},children:x.companyName}),_.map(N=>l.jsx("td",{style:{padding:"12px 12px",textAlign:"right"},children:x[N]||0},N)),l.jsx("td",{style:{padding:"12px 12px",textAlign:"right",fontWeight:600},children:x.total})]},`${x.companyName}-${T}`))})]})};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{background:"#ffffff",borderRadius:12,padding:24,boxShadow:"0 8px 24px rgba(0,0,0,0.05)",gridColumn:"span 2"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[l.jsx("h3",{style:{margin:0,fontSize:16},children:"Company Status Counts"}),l.jsx("button",{onClick:y,style:{background:"none",border:"none",color:"#007bff",cursor:"pointer",fontSize:14},children:"Show More"})]}),l.jsx(k,{data:t.slice(0,5)})]}),o&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:l.jsxs("div",{style:{background:"white",width:"1100px",maxHeight:"80vh",borderRadius:12,padding:24,display:"flex",flexDirection:"column"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:20},children:[l.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[l.jsx("h2",{style:{margin:0,fontSize:20},children:"Job Counts by Status"}),l.jsx("button",{onClick:j,style:{padding:"4px 12px",cursor:"pointer",fontSize:12},children:"Download CSV"})]}),l.jsx("button",{onClick:()=>a(!1),style:{cursor:"pointer",border:"none",background:"none",fontSize:20},children:""})]}),l.jsxs("div",{style:{overflowY:"auto",flex:1,paddingRight:8},children:[l.jsx(k,{data:t}),l.jsx("div",{style:{textAlign:"center",marginTop:20},children:l.jsx("button",{onClick:b,disabled:f,style:{padding:"8px 16px",cursor:"pointer"},children:f?"Loading...":"Load More"})})]})]})})]})},Wf=({title:n,items:t,total:s})=>l.jsxs("div",{style:{flex:1},children:[l.jsxs("h4",{style:{margin:"0 0 12px 0",fontSize:14,color:"#333",borderBottom:"1px solid #eee",paddingBottom:8},children:[n," ",l.jsxs("span",{style:{fontWeight:"normal",color:"#999"},children:["(",s,")"]})]}),l.jsx("table",{style:{width:"100%",fontSize:13,borderCollapse:"collapse"},children:l.jsx("tbody",{children:t.map((o,a)=>l.jsxs("tr",{children:[l.jsx("td",{style:{padding:"6px 0"},children:o.country}),l.jsx("td",{style:{padding:"6px 0",textAlign:"right",fontWeight:600},children:o.count})]},a))})})]}),T_=({dateRange:n})=>{const[t,s]=S.useState(null),[o,a]=S.useState(!0);return S.useEffect(()=>{a(!0),Zp(10,n).then(s).catch(console.error).finally(()=>a(!1))},[n]),l.jsxs("div",{style:{background:"#ffffff",borderRadius:12,padding:24,boxShadow:"0 8px 24px rgba(0,0,0,0.05)",gridColumn:"span 2"},children:[l.jsx("h3",{style:{margin:"0 0 16px 0",fontSize:16},children:"Top Countries"}),o?l.jsx("div",{children:"Loading..."}):t?l.jsxs("div",{style:{display:"flex",gap:"32px",justifyContent:"space-between"},children:[l.jsx(Wf,{title:"Top countries by User",items:t.byUser.data,total:t.byUser.total}),l.jsx("div",{style:{borderLeft:"1px solid #eee"}}),l.jsx(Wf,{title:"Top countries by Jobs",items:t.byJob.data,total:t.byJob.total})]}):l.jsx("div",{children:"No data available."})]})},N_=({dateRange:n,currentUser:t})=>{const[s,o]=S.useState([]),[a,c]=S.useState(!1),[d,f]=S.useState(1),[g,m]=S.useState(!1),y=async(_,x=!1)=>{m(!0);try{const T=await Ff(_,10,n);if(x)o(N=>[...N,...T]);else{const N=T.map(z=>z.userId);let A=[];if(N.length>0){const{data:z}=await _t.from("user_assignments").select("user_id, assigned_to").in("user_id",N);z&&(A=z)}const F=T.map(z=>({...z,assigned_to:A.find(K=>K.user_id===z.userId)?.assigned_to}));o(F)}}catch(T){console.error(T)}finally{m(!1)}};S.useEffect(()=>{y(1)},[n]);const b=()=>{c(!0)},j=()=>{const _=d+1;f(_),y(_,!0)},k=async()=>{const _=await Ff(1,"all",n);if(!_.length)return;const x=Object.keys(_[0]).join(","),T=_.map(z=>Object.values(z).map(K=>`"${K}"`).join(",")).join(`
`),N=new Blob([x+`
`+T],{type:"text/csv"}),A=window.URL.createObjectURL(N),F=document.createElement("a");F.href=A,F.download="user_feed_engagement.csv",F.click(),window.URL.revokeObjectURL(A)},v=({data:_})=>{const x=Array.from(new Set(_.flatMap(T=>Object.keys(T)))).filter(T=>!["userId","fullName","totalFeeds","assigned_to"].includes(T)).sort();return l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{textAlign:"left",color:"#666",borderBottom:"1px solid #eee"},children:[l.jsx("th",{style:{padding:"8px 12px"},children:"User ID"}),l.jsx("th",{style:{padding:"8px 12px"},children:"User"}),l.jsx("th",{style:{padding:"8px 12px",textAlign:"right"},children:"Total Feeds"}),x.map(T=>l.jsx("th",{style:{padding:"8px 12px",textAlign:"right"},children:T.replace(/_/g," ")},T))]})}),l.jsx("tbody",{children:_.map((T,N)=>l.jsxs("tr",{style:{borderBottom:"1px solid #f5f5f5"},children:[l.jsx("td",{style:{padding:"12px 12px",fontFamily:"monospace",fontSize:12,color:"#999"},children:T.userId}),l.jsx("td",{style:{padding:"12px 12px",fontWeight:500},children:T.fullName}),l.jsx("td",{style:{padding:"12px 12px",textAlign:"right",fontWeight:600},children:T.totalFeeds}),x.map(A=>l.jsx("td",{style:{padding:"12px 12px",textAlign:"right"},children:T[A]||0},A))]},`${T.userId}-${N}`))})]})};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{background:"#ffffff",borderRadius:12,padding:24,boxShadow:"0 8px 24px rgba(0,0,0,0.05)",gridColumn:"span 2"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[l.jsx("h3",{style:{margin:0,fontSize:16},children:"User Feed Engagement"}),l.jsx("button",{onClick:b,style:{background:"none",border:"none",color:"#007bff",cursor:"pointer",fontSize:14},children:"Show More"})]}),l.jsx(v,{data:s.slice(0,6)})]}),a&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:l.jsxs("div",{style:{background:"white",width:"900px",maxHeight:"80vh",borderRadius:12,padding:24,display:"flex",flexDirection:"column"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:20},children:[l.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[l.jsx("h2",{style:{margin:0,fontSize:20},children:"User Feed Engagement"}),l.jsx("button",{onClick:k,style:{padding:"4px 12px",cursor:"pointer",fontSize:12},children:"Download CSV"})]}),l.jsx("button",{onClick:()=>c(!1),style:{cursor:"pointer",border:"none",background:"none",fontSize:20},children:""})]}),l.jsxs("div",{style:{overflowY:"auto",flex:1,paddingRight:8},children:[l.jsx(v,{data:s}),l.jsx("div",{style:{textAlign:"center",marginTop:20},children:l.jsx("button",{onClick:j,disabled:g,style:{padding:"8px 16px",cursor:"pointer"},children:g?"Loading...":"Load More"})})]})]})})]})},O_=({dateRange:n})=>{const[t,s]=S.useState([]),[o,a]=S.useState(!1),[c,d]=S.useState(1),[f,g]=S.useState(!1),m=async(v,_=!1)=>{g(!0);try{const x=await Mf(v,10,n);s(_?T=>[...T,...x]:x)}catch(x){console.error(x)}finally{g(!1)}};S.useEffect(()=>{m(1)},[n]);const y=()=>{a(!0)},b=()=>{const v=c+1;d(v),m(v,!0)},j=async()=>{const v=await Mf(1,"all",n);if(!v.length)return;const _=Object.keys(v[0]).join(","),x=v.map(F=>Object.values(F).map(z=>`"${z}"`).join(",")).join(`
`),T=new Blob([_+`
`+x],{type:"text/csv"}),N=window.URL.createObjectURL(T),A=document.createElement("a");A.href=N,A.download="top_target_job_roles.csv",A.click(),window.URL.revokeObjectURL(N)},k=({items:v})=>l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{textAlign:"left",color:"#666",borderBottom:"1px solid #eee"},children:[l.jsx("th",{style:{padding:"8px 0"},children:"Target Job Role"}),l.jsx("th",{style:{padding:"8px 0",textAlign:"right"},children:"User Count"})]})}),l.jsx("tbody",{children:v.map((_,x)=>l.jsxs("tr",{style:{borderBottom:"1px solid #f5f5f5"},children:[l.jsx("td",{style:{padding:"12px 0",fontWeight:500},children:_.role}),l.jsx("td",{style:{padding:"12px 0",textAlign:"right"},children:_.count})]},`${_.role}-${x}`))})]});return l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{background:"#ffffff",borderRadius:12,padding:24,boxShadow:"0 8px 24px rgba(0,0,0,0.05)"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[l.jsx("h3",{style:{margin:0,fontSize:16},children:"Top Job Roles based on Users"}),l.jsx("button",{onClick:y,style:{background:"none",border:"none",color:"#007bff",cursor:"pointer",fontSize:14},children:"Show More"})]}),l.jsx(k,{items:t.slice(0,5)})]}),o&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:l.jsxs("div",{style:{background:"white",width:"500px",maxHeight:"80vh",borderRadius:12,padding:24,display:"flex",flexDirection:"column"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:20},children:[l.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[l.jsx("h2",{style:{margin:0,fontSize:20},children:"All Top Job Roles (Users)"}),l.jsx("button",{onClick:j,style:{padding:"4px 12px",cursor:"pointer",fontSize:12},children:"Download CSV"})]}),l.jsx("button",{onClick:()=>a(!1),style:{cursor:"pointer",border:"none",background:"none",fontSize:20},children:""})]}),l.jsxs("div",{style:{overflowY:"auto",flex:1,paddingRight:8},children:[l.jsx(k,{items:t}),l.jsx("div",{style:{textAlign:"center",marginTop:20},children:l.jsx("button",{onClick:b,disabled:f,style:{padding:"8px 16px",cursor:"pointer"},children:f?"Loading...":"Load More"})})]})]})})]})},A_=({dateRange:n})=>{const[t,s]=S.useState([]),[o,a]=S.useState(!1),[c,d]=S.useState(1),[f,g]=S.useState(!1),m=async(v,_=!1)=>{g(!0);try{const x=await Bf(v,10,n);s(_?T=>[...T,...x]:x)}catch(x){console.error(x)}finally{g(!1)}};S.useEffect(()=>{m(1)},[n]);const y=()=>{a(!0)},b=()=>{const v=c+1;d(v),m(v,!0)},j=async()=>{const v=await Bf(1,"all",n);if(!v.length)return;const _=Object.keys(v[0]).join(","),x=v.map(F=>Object.values(F).map(z=>`"${z}"`).join(",")).join(`
`),T=new Blob([_+`
`+x],{type:"text/csv"}),N=window.URL.createObjectURL(T),A=document.createElement("a");A.href=N,A.download="top_communities.csv",A.click(),window.URL.revokeObjectURL(N)},k=({data:v})=>l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{textAlign:"left",color:"#666",borderBottom:"1px solid #eee"},children:[l.jsx("th",{style:{padding:"8px 0"},children:"Community Name"}),l.jsx("th",{style:{padding:"8px 0",textAlign:"right"},children:"Members"})]})}),l.jsx("tbody",{children:v.map((_,x)=>l.jsxs("tr",{style:{borderBottom:"1px solid #f5f5f5"},children:[l.jsx("td",{style:{padding:"12px 0",fontWeight:500},children:_.communityName}),l.jsx("td",{style:{padding:"12px 0",textAlign:"right",fontWeight:600},children:_.memberCount})]},`${_.communityName}-${x}`))})]});return l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{background:"#ffffff",borderRadius:12,padding:24,boxShadow:"0 8px 24px rgba(0,0,0,0.05)"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[l.jsx("h3",{style:{margin:0,fontSize:16},children:"Top Communities"}),l.jsx("button",{onClick:y,style:{background:"none",border:"none",color:"#007bff",cursor:"pointer",fontSize:14},children:"Show More"})]}),l.jsx(k,{data:t.slice(0,5)})]}),o&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:l.jsxs("div",{style:{background:"white",width:"500px",maxHeight:"80vh",borderRadius:12,padding:24,display:"flex",flexDirection:"column"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:20},children:[l.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[l.jsx("h2",{style:{margin:0,fontSize:20},children:"Top Communities"}),l.jsx("button",{onClick:j,style:{padding:"4px 12px",cursor:"pointer",fontSize:12},children:"Download CSV"})]}),l.jsx("button",{onClick:()=>a(!1),style:{cursor:"pointer",border:"none",background:"none",fontSize:20},children:""})]}),l.jsxs("div",{style:{overflowY:"auto",flex:1,paddingRight:8},children:[l.jsx(k,{data:t}),l.jsx("div",{style:{textAlign:"center",marginTop:20},children:l.jsx("button",{onClick:b,disabled:f,style:{padding:"8px 16px",cursor:"pointer"},children:f?"Loading...":"Load More"})})]})]})})]})},_i=({title:n,fetchData:t,dateRange:s,color:o})=>{const[a,c]=S.useState([]);return S.useEffect(()=>{(async()=>{let f=s;if(!s?.start&&!s?.end){const g=new Date,m=new Date;m.setDate(g.getDate()-7),f={start:m.toISOString().split("T")[0],end:g.toISOString().split("T")[0]}}try{const g=await t(f);o&&g.length>0&&(g[0].color=o),c(g)}catch(g){console.error(g)}})()},[s,t,o]),l.jsxs("div",{style:{background:"#ffffff",borderRadius:12,padding:24,boxShadow:"0 8px 24px rgba(0,0,0,0.05)"},children:[l.jsxs("h4",{style:{margin:"0 0 16px 0",fontSize:14,color:"#666"},children:[n," Trend"]}),l.jsx(x_,{data:a,height:300})]})},D_=({dateRange:n})=>{const[t,s]=S.useState([]);S.useEffect(()=>{let m=n;if(!n?.start&&!n?.end){const y=new Date,b=new Date;b.setDate(y.getDate()-7),m={start:b.toISOString().split("T")[0],end:y.toISOString().split("T")[0]}}f_(m).then(s).catch(console.error)},[n]);const o=Array.from(new Set(t.map(m=>m.date))).sort(),a=Array.from(new Set(t.map(m=>m.status))),c=o.map(m=>{const y=t.filter(v=>v.date===m),b=a.map(v=>({key:v,value:y.find(_=>_.status===v)?.count||0})).filter(v=>v.value>0),j=new Date(m);return{label:`${j.getMonth()+1}/${j.getDate()}`,segments:b}}),d=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"],f={APPLIED:"#3b82f6",SHORTLISTED:"#f59e0b",REJECTED:"#ef4444",HIRED:"#10b981",INTERVIEW:"#8b5cf6"},g={};return a.forEach((m,y)=>{g[m]=f[m]||d[y%d.length]}),l.jsxs("div",{style:{background:"#ffffff",borderRadius:12,padding:24,boxShadow:"0 8px 24px rgba(0,0,0,0.05)",gridColumn:"span 2"},children:[l.jsx("h3",{style:{margin:"0 0 16px 0",fontSize:16},children:"Application Status Trend"}),l.jsx(Mu,{data:c,height:300,colors:g}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:16,justifyContent:"center",marginTop:12},children:a.map((m,y)=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,fontSize:12},children:[l.jsx("div",{style:{width:10,height:10,background:g[m]}}),m.replace(/_/g," ")]},m))})]})},I_=({dateRange:n})=>{const[t,s]=S.useState([]);return S.useEffect(()=>{Zp("all",n).then(o=>{const a=new Set([...o.byUser.data.map(d=>d.country),...o.byJob.data.map(d=>d.country)]),c=Array.from(a).map(d=>{const f=o.byUser.data.find(m=>m.country===d)?.count||0,g=o.byJob.data.find(m=>m.country===d)?.count||0;return{label:d,segments:[{key:"Users",value:f},{key:"Jobs",value:g}]}});c.sort((d,f)=>{const g=d.segments.reduce((y,b)=>y+b.value,0);return f.segments.reduce((y,b)=>y+b.value,0)-g}),s(c)}).catch(console.error)},[n]),l.jsxs("div",{style:{background:"#ffffff",borderRadius:12,padding:24,boxShadow:"0 8px 24px rgba(0,0,0,0.05)",gridColumn:"span 2"},children:[l.jsx("h3",{style:{margin:"0 0 16px 0",fontSize:16},children:"Top Countries Comparison (Users vs Jobs)"}),l.jsx(Mu,{data:t,colors:{Users:"#3b82f6",Jobs:"#10b981"}})]})},P_=({dateRange:n})=>{const[t,s]=S.useState([]);return S.useEffect(()=>{wu(1,"all",n).then(o=>{const a=o.data.map(c=>({label:c.companyName,segments:[{key:"Job Count",value:c.jobCount},{key:"Total Apps",value:c.totalApplications}]}));a.sort((c,d)=>{const f=c.segments.find(m=>m.key==="Job Count")?.value||0;return(d.segments.find(m=>m.key==="Job Count")?.value||0)-f}),s(a)}).catch(console.error)},[n]),l.jsxs("div",{style:{background:"#ffffff",borderRadius:12,padding:24,boxShadow:"0 8px 24px rgba(0,0,0,0.05)",gridColumn:"span 2"},children:[l.jsx("h3",{style:{margin:"0 0 16px 0",fontSize:16},children:"Jobs by Company Comparison"}),l.jsx(Mu,{data:t,colors:{"Job Count":"#3b82f6","Total Apps":"#10b981"},minGroupWidth:200}),l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:16,justifyContent:"center",marginTop:12},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,fontSize:12},children:[l.jsx("div",{style:{width:10,height:10,background:"#3b82f6"}}),"Job Count"]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,fontSize:12},children:[l.jsx("div",{style:{width:10,height:10,background:"#10b981"}}),"Total Apps"]})]})]})},Vf=async(n,t,s)=>(console.warn("fetchJobsByCountryAnalysis not implemented"),{data:[]}),L_=({dateRange:n})=>{const[t,s]=S.useState([]),[o,a]=S.useState(!1),[c,d]=S.useState(!1),f=async(b=1,j=!1)=>{d(!0);try{const k=await Vf(b,10,n);s(j?v=>[...v,...k.data]:k.data)}catch(k){console.error(k)}finally{d(!1)}};S.useEffect(()=>{f(1)},[n]);const g=()=>{a(!0)},m=async()=>{const j=(await Vf()).data;if(!j.length)return;const k=[];k.push(["Country","Job Role","Count"].join(",")),j.forEach(T=>{T.jobs.forEach(N=>{k.push(`"${T.country}","${N.role}",${N.count}`)})});const v=new Blob([k.join(`
`)],{type:"text/csv"}),_=window.URL.createObjectURL(v),x=document.createElement("a");x.href=_,x.download="jobs_by_country.csv",x.click(),window.URL.revokeObjectURL(_)},y=({data:b})=>l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{textAlign:"left",color:"#666",borderBottom:"1px solid #eee"},children:[l.jsx("th",{style:{padding:"8px 0"},children:"Country"}),l.jsx("th",{style:{padding:"8px 0"},children:"Job"}),l.jsx("th",{style:{padding:"8px 0",textAlign:"right"},children:"Count"})]})}),l.jsx("tbody",{children:b.map((j,k)=>j.jobs.map((v,_)=>l.jsxs("tr",{style:{borderBottom:_===j.jobs.length-1?"1px solid #f5f5f5":"none"},children:[_===0&&l.jsxs("td",{rowSpan:j.jobs.length,style:{padding:"12px 0",fontWeight:500,verticalAlign:"top",borderRight:"1px solid #f0f0f0",width:"35%"},children:[j.country||"Unknown",l.jsxs("div",{style:{fontSize:11,color:"#999",fontWeight:"normal",marginTop:4},children:["Total: ",j.totalCount]})]}),l.jsx("td",{style:{padding:"8px 12px",color:"#333",verticalAlign:"top"},children:v.role}),l.jsx("td",{style:{padding:"8px 0",textAlign:"right",fontWeight:600,verticalAlign:"top"},children:v.count})]},`${j.country}-${v.role}-${_}`)))})]});return l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{background:"#ffffff",borderRadius:12,padding:24,boxShadow:"0 8px 24px rgba(0,0,0,0.05)",gridColumn:"span 2"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[l.jsx("h3",{style:{margin:0,fontSize:16},children:"Jobs by Country"}),l.jsx("button",{onClick:g,style:{background:"none",border:"none",color:"#007bff",cursor:"pointer",fontSize:14},children:"Show More"})]}),l.jsx(y,{data:t.slice(0,5)})]}),o&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:l.jsxs("div",{style:{background:"white",width:"800px",maxHeight:"80vh",borderRadius:12,padding:24,display:"flex",flexDirection:"column"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:20},children:[l.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[l.jsx("h2",{style:{margin:0,fontSize:20},children:"Jobs by Country"}),l.jsx("button",{onClick:m,style:{padding:"4px 12px",cursor:"pointer",fontSize:12},children:"Download CSV"})]}),l.jsx("button",{onClick:()=>a(!1),style:{cursor:"pointer",border:"none",background:"none",fontSize:20},children:""})]}),l.jsx("div",{style:{overflowY:"auto",flex:1,paddingRight:8},children:l.jsx(y,{data:t})})]})})]})},$_=()=>{const[n,t]=S.useState(null),[s,o]=S.useState(null),[a,c]=S.useState(!0),[d,f]=S.useState({start:"",end:""}),[g,m]=S.useState(null),y=S.useCallback(async()=>{try{const b=await r_(d);t(b),o(null)}catch(b){console.error(b),o("Failed to load insights")}finally{c(!1)}},[d]);return S.useEffect(()=>{y();const b=setInterval(y,6e4);return()=>clearInterval(b)},[y]),S.useEffect(()=>{(async()=>{const{data:{user:j}}=await _t.auth.getUser();m(j)})()},[]),l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:20,gap:12,alignItems:"center"},children:[l.jsx("span",{style:{fontSize:14,fontWeight:500,color:"#666"},children:"Date Range:"}),l.jsx("input",{type:"date",value:d.start,onChange:b=>f(j=>({...j,start:b.target.value})),style:{padding:"8px",borderRadius:6,border:"1px solid #ddd"}}),l.jsx("input",{type:"date",value:d.end,onChange:b=>f(j=>({...j,end:b.target.value})),style:{padding:"8px",borderRadius:6,border:"1px solid #ddd"}}),l.jsxs("button",{onClick:()=>f({start:"",end:""}),style:{display:"flex",alignItems:"center",gap:8,background:"white",padding:"6px 12px",borderRadius:20,boxShadow:"0 2px 10px rgba(0,0,0,0.1)",border:"1px solid #f0f0f0",cursor:"pointer"},children:[l.jsx("style",{children:`
              @keyframes pulse {
                0% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.7); }
                70% { box-shadow: 0 0 0 6px rgba(34, 197, 94, 0); }
                100% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0); }
              }
            `}),l.jsx("div",{style:{width:10,height:10,backgroundColor:"#22c55e",borderRadius:"50%",animation:"pulse 2s infinite"}}),l.jsx("span",{style:{color:"#22c55e",fontWeight:"bold",fontSize:12,letterSpacing:1},children:"LIVE"})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(400px, 1fr))",gap:"24px"},children:[s&&l.jsxs("div",{style:{color:"red",gridColumn:"1/-1"},children:[s," - Check console for CORS or network errors"]}),a&&!n&&l.jsx("div",{children:"Loading insights..."}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:24},children:[n&&l.jsx(n_,{label:n.label,value:n.value,updatedAt:n.updatedAt}),l.jsx(_i,{title:"Users",fetchData:u_,dateRange:d,color:"#3b82f6"})]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:24},children:[l.jsx(p_,{dateRange:d}),l.jsx(_i,{title:"Jobs",fetchData:c_,dateRange:d,color:"#10b981"})]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:24},children:[l.jsx(m_,{dateRange:d}),l.jsx(_i,{title:"Tickets",fetchData:d_,dateRange:d,color:"#f59e0b"})]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:24},children:[l.jsx(y_,{dateRange:d}),l.jsx(_i,{title:"Feeds",fetchData:h_,dateRange:d,color:"#8b5cf6"})]}),l.jsx(__,{dateRange:d}),l.jsx(v_,{}),l.jsx(D_,{dateRange:d}),l.jsx(g_,{dateRange:d}),l.jsx(w_,{dateRange:d}),l.jsx(O_,{dateRange:d}),l.jsx(S_,{dateRange:d}),l.jsx(zf,{title:"Users Who Applied",filter:"applied",dateRange:d,currentUser:g}),l.jsx(zf,{title:"Users Who Have Not Applied",filter:"not_applied",dateRange:d,currentUser:g}),l.jsx(j_,{dateRange:d}),l.jsx(P_,{dateRange:d}),l.jsx(C_,{dateRange:d}),l.jsx(k_,{dateRange:d}),l.jsx(R_,{dateRange:d}),l.jsx(T_,{dateRange:d}),l.jsx(L_,{dateRange:d}),l.jsx(I_,{dateRange:d}),l.jsx(N_,{dateRange:d,currentUser:g}),l.jsx(A_,{dateRange:d}),l.jsx(E_,{dateRange:d})]})]})},U_=$_||(()=>l.jsx("div",{style:{padding:20},children:"Error: Dashboard component not found in export."})),M_=({children:n})=>l.jsx(l.Fragment,{children:n});xe.defaults.baseURL="https://main-crm-backend.onrender.com";const Si=({children:n})=>localStorage.getItem("isAuthenticated")==="true"?n:l.jsx(tv,{to:"/login"});class F_ extends Jf.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}render(){return this.state.hasError?l.jsxs("div",{style:{padding:"2rem",color:"#dc2626",backgroundColor:"#fee2e2",margin:"1rem",borderRadius:"8px"},children:[l.jsx("h2",{style:{marginTop:0},children:"Something went wrong loading this component."}),l.jsx("pre",{style:{whiteSpace:"pre-wrap",fontSize:"0.875rem"},children:this.state.error?.message})]}):this.props.children}}const Ei=({children:n})=>{const t=vn(),s=()=>{localStorage.removeItem("isAuthenticated"),window.location.href="/login"},o=a=>{const c=t.pathname===a;return{backgroundColor:c?"#2563eb":"white",color:c?"white":"#374151",padding:"0.5rem 1rem",borderRadius:"4px",border:c?"none":"1px solid #d1d5db",cursor:"pointer",textDecoration:"none",fontWeight:500}};return l.jsxs("div",{style:{fontFamily:"sans-serif",minHeight:"100vh",display:"flex",flexDirection:"column",backgroundColor:"#f9fafb"},children:[l.jsxs("header",{style:{backgroundColor:"white",borderBottom:"1px solid #eee",padding:"1rem 2rem",display:"flex",justifyContent:"space-between",alignItems:"center",position:"sticky",top:0,zIndex:50},children:[l.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:"bold",margin:10,color:"#111827"},children:"KOVON Dashboard"}),l.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[l.jsx(Jr,{to:"/",style:{textDecoration:"none"},children:l.jsx("button",{style:o("/"),children:"Dashboard"})}),l.jsx(Jr,{to:"/crm/user-level",style:{textDecoration:"none"},children:l.jsx("button",{style:o("/crm/user-level"),children:"User Level"})}),l.jsx(Jr,{to:"/crm/application-level",style:{textDecoration:"none"},children:l.jsx("button",{style:o("/crm/application-level"),children:"Application Level"})}),l.jsx(Jr,{to:"/crm/my-activity",style:{textDecoration:"none"},children:l.jsx("button",{style:o("/crm/my-activity"),children:"My Activity"})}),l.jsx("button",{onClick:s,style:{backgroundColor:"#dc2626",color:"white",padding:"0.5rem 1rem",borderRadius:"4px",border:"none",cursor:"pointer"},children:"Logout"})]})]}),l.jsx("main",{style:{flex:1},children:n})]})};function B_(){return l.jsx(kv,{children:l.jsxs(rv,{children:[l.jsx(zr,{path:"/login",element:l.jsx(Jb,{})}),l.jsx(zr,{path:"/",element:l.jsx(Si,{children:l.jsx(Ei,{children:l.jsx(F_,{children:l.jsx(M_,{children:l.jsx(U_,{})})})})})}),l.jsx(zr,{path:"/crm/user-level",element:l.jsx(Si,{children:l.jsx(Ei,{children:l.jsx(Yb,{})})})}),l.jsx(zr,{path:"/crm/application-level",element:l.jsx(Si,{children:l.jsx(Ei,{children:l.jsx(Zb,{})})})}),l.jsx(zr,{path:"/crm/my-activity",element:l.jsx(Si,{children:l.jsx(Ei,{children:l.jsx(t_,{})})})})]})})}oy.createRoot(document.getElementById("root")).render(l.jsx(Jf.StrictMode,{children:l.jsx(B_,{})}));
